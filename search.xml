<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>龙族Ⅲ黑月之潮（摘选）</title>
      <link href="/2019/07/16/%E9%BE%99%E6%97%8F%E2%85%A2%E9%BB%91%E6%9C%88%E4%B9%8B%E6%BD%AE%EF%BC%88%E6%91%98%E9%80%89%EF%BC%89/"/>
      <url>/2019/07/16/%E9%BE%99%E6%97%8F%E2%85%A2%E9%BB%91%E6%9C%88%E4%B9%8B%E6%BD%AE%EF%BC%88%E6%91%98%E9%80%89%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="纪念绘梨衣"><a href="#纪念绘梨衣" class="headerlink" title="纪念绘梨衣"></a><del>纪念绘梨衣<br></del></h1><p>上杉家主居然是个很年轻的女孩，虽然她用黑纱遮面而且穿上了男人穿的黑纹付羽织，但宽大的和服遮掩不住她的身体曲线。玲珑窈窕，显然是青春少女的身材。最初她是老老实实的，坐在那里不像个堂堂家主倒像是等待老师来上课的女学生，因为源家家主的缺席会议延后，这时她以迅雷不及掩耳之势从和服里拿出了游戏机的手柄，然后本殿中的投影设备启动，上杉家主麻利地进入游戏选择人物。区区十几秒钟，其他几位家主和下面的几百人还没明白过来怎么回事，“fight”声已经响彻本殿，对战开始…</p><a id="more"></a><p>用“肆无忌惮”来形容她的举动并不很合适，更合适的词是“旁若无人”。似乎在她看来既然要等就抓紧时间玩两把，至于场合至于祖先完全都不是问题。</p><p>“绘梨衣！绘梨衣！”政宗先生跟她隔得很远．不便起身阻止，只能低喝。但他的声音淹没在拳脚的风声中，上杉家主的全副心思都在游戏上，目不转睛地盯着屏幕。 小黄鸭飘在满池泡沫中。这是一个巨大的方形青铜浴缸，就像古罗马皇帝们使用的设备那样奢华，柔光从浴室顶上投下，照在女孩明净的肌肤上。她用手指一下下地把小黄鸭戳进水里，看着它在浮起来，有时候对它吹气把它吹得远远的，然后从泡沫里伸出脚把它勾回来。上杉家主已经洗了一个小时的澡，其中大部分时间是在跟小黄鸭玩游戏。从沾满泡沫的身体来看，她发育正常而且身材动人，但像她这样的成年女孩显然不该对橡皮鸭子感兴趣，她的心理年龄似乎还停在一个幼女的级别。外面传来脚步声，然后是橘政宗的咳嗽声：“绘梨衣，别玩了，快点穿好衣服要出发了。”无人回答，橘政宗等了半分钟，看见字迹出现在玻璃门上：“知道了。”浴室的玻璃是单面的毛玻璃，上杉家主蘸水书写就会出现透明的痕迹。写完了她转身就走，从那些透明的字迹中橘政宗能隐约看见一个引人遐想的背影。</p><p>“从水里出来的时候要把浴巾披上！”橘政宗说完叹了口气。这不是他第一次叮嘱上杉家主注意这方面的问题了。因为心里年龄偏小，她似乎还没有学会区别两性，也不知道在异性面前暴露自己会引来什么样的目光。某一年家族在温泉集会，当着诸位长老的面披着和服的上杉家主忽然打开拉门跃起在空中，人们只看见一件和服落地，下一刻赤裸的她已经跳进了屋子外面的温泉，正在水中盘起长发。从负责警戒的打手到家中长老，都被她那种明媚自然的美所震撼，一时间忘记了移开目光，橘政宗只能重重地用刀柄戳地提醒这些人注意礼节，而源稚生迅速的奔出屋子拾起和服张开来遮住众人线。</p><p>“如果有一天我死了，就只有稚生能守护你了吧？”橘政宗摇头。上杉家主摘下耳机放在一旁，走到淋雨下方打开了青铜龙头，冲去头发上的泡沫，她的发色是罕见的暗红色。她打开自己的行李厢，把小黄鸭放了进去，取出红白两色的巫女服，这种传统服装由肌襦袢、白衣和绯袴组成，袖口和衣襟都编有红色的丝绳。穿上巫女服之后她又把耳机塞上了，想了想，又把小黄鸭拿出来偷偷塞进了裙子里。她的裙子里缝满了口袋，塞着这样那样的小东西。上杉家主登上甲板，浑身还散发着好闻的洗发水味道。风魔小太郎立刻起身鞠躬，虽然对方是个少女，但三大姓家主的地位要略高于五小姓家主，上杉这个姓氏在家族中的地位要高于以培养忍者著称的风魔家。“来我身边让我看看。”橘政宗说。</p><p>上杉家主在橘政宗面前的坐垫上跪坐，但并不看橘政宗，而是左顾右盼，像是个被父母逼着坐在那里写作业的孩子。 “得辛苦你了。”橘政宗摸了摸她的头顶，“真想代替你去，可我没有你的能力。你要做的就是切断一切，连带那条通往黄泉的路，明白了吗？”</p><p>上杉家主伸出手指在橘政宗的手心里画了个圈，大约是表示自己明白了，然后手又缩回大袖里，只露出纤细的手指。她脱下木屐放在一边，只穿白袜跳上了游艇边的小艇，小艇里只有她一个人独坐，黑衣保镖们解开缆绳，海浪推着小艇就要和游艇分离。橘政宗忽然起身走到船舷边，向上杉家主伸出手去。上杉家主低着头不理他，但橘政宗抓住了缆绳不让小艇离开。僵了半分钟之后，上杉家主从裙子里摸出一台PSP交到橘政宗手里，别过头去不看他。 那是个女孩，红白二色的和服，这套考究的衣服由白色的内衣“肌襦袢”、被称作“白衣”的外衣、和红色的和服裙子“绯袴”组成，大袖袖口和衣襟都系着红色的丝绳。只有神社的巫女才能这么穿着，而且她们也不会把它穿到神社外面去，这就像一套打工的制服，穿错了场合会很可笑，就跟穿着牛仔裤去吃法国菜一样会被人鄙夷。 但巫女制服穿在这个女孩身上就像便服一样自然，她好像是穿这身衣服长大的，随随便便就可以穿着这身衣服去超市。女孩对老人比了比几个手势，然后手又缩回大袖里，只有纤细的手指露出来。 那是哑语，她看似是不会说话。</p><p>摆轻松熊的时候他无意中把这件小玩具翻了过来，看见底部的标签，“Sakura &amp; 绘梨衣 の Rilakkuma”，Sakura和绘梨衣的轻松熊。 他努力保持的镇静瞬间 被打破了，用颤抖地手把每个小玩具反过来看它们的底部：“Sakura &amp; 绘梨衣 の HelloKitty”、“Sakura &amp; 绘梨衣 の Duck”、“Sakura &amp; 绘梨衣のKiiroitori”、“Sakura &amp; 绘梨衣のKeroro”……所有玩具的标签都被换过了，所有玩具都被标明是Sakura和绘梨衣共有的，整个世界都是他们共有的……这个女孩拥有的世界就这么大这么多，她第一次把这个世界跟人分享。 你以为她是公主她拥有全世界，可她以为只有你和她的玩具们。 路明非默默地看着下方，铁龙般的新干线列车在夜幕下奔驰，是谁搭乘着这样的夜班列车，去向什么样的远方？耳边似乎有人在说话，是啊，在那个大雨滂沱的晚上，在那间红色的情人酒店里，那个被认为是哑巴的女孩凑在他耳边轻声说：“我们都是小怪兽，有一天会被正义的奥特曼杀死。”</p><p>是啊，你是小怪兽，可小怪兽也有小怪兽的好朋友，孤独的小怪兽们害怕得靠在一起，但如果正义的奥特曼要来杀你，我就帮你把正义的奥特曼杀死。</p><p>可是我答应了，却没有做到。</p><p>“04.24，和Sakura去东京天空树，世界上最暖和的地方在天空树的顶上。”</p><p>“04.26，和Sakura去明治神宫，有人在那里举办婚礼。”</p><p>“04.25，和Sakura去迪士尼，鬼屋很可怕，但是有Sakura在，所以不可怕。”</p><p>“Sakura最好了。”</p><p>凡王之血，必以剑终！汝必以痛，偿还僭越！汝必以眼，偿还狂妄！汝必以血，偿还背叛！我重临世界之日 ，诸逆臣皆当死去！ 因为不爱，所以都错。</p><p>爱唱歌的女孩被埋在花下了，连带着她的野心、残暴和谜一样的往事。</p><p>我们都是小怪兽，有一天会被正义的奥特曼杀死。</p><p>是啊，你是小怪兽，可小怪兽也有小怪兽的好朋友，孤独的小怪兽们害怕得靠在一起，但如果正义的奥特曼要来杀你，我就帮你把正义的奥特曼杀死。</p><p>可是我答应了，却没有做到。</p><p>所有玩具都被标明是Sakura和绘梨衣共有的，整个世界都是他们共有的……这个女孩拥有的世界就这么大这么多，她第一次把这个世界跟人分享。</p><p>你以为她是公主拥有全世界，可他以为她只拥有你和她的玩具们。</p><p>无论我为你做什么，我始终是你在这个世界上最后一个愿意相信的人么？或许……即便世界毁灭，生命绝尽，在一切的废墟上只剩你和我相对，你依然会警觉地看着我，手中握着打开保险的枪。</p><p>每个人心里都住着魔鬼，幸福是它的牢笼，当一切幸福都化作泡影，魔鬼就会冲破牢笼高唱着血腥的圣歌浮现。</p><p>那时候，绝望的人将所向无敌。</p><p>在错误的时间里遇到，就能克制自己不喜欢那个人么？是不是仍然会用尽了力气想去接近，想尽办法掩饰自己，甚至伪装成另外一条鱼。</p><p>这一路上我们将不彼此抛弃，不彼此出卖，直到死亡的尽头。</p><p>哥哥，我说了，没有权与力，你什么也办不到。</p><p>你本该是个咆哮世间的怪物，可你偏要收敛爪牙当个废物！ 世间一切幸福，皆月影中一现的昙花；唯有孤独与痛，常伴在黄泉深处。</p><p>你爱上某人，愿意牺牲一切，像是火炬那样熊熊燃烧直到烧成灰烬，可那又怎样？你毁天灭地屠龙降魔浴血归来，你很牛，可那又能怎样？你能给她什么生活？你牛就有权得到她的爱么？多少红颜爱傻逼，多少傻逼不珍惜。</p><p>踏上战场的人都该有觉悟，必须用尽武器和狠毒去杀死对手，直到牙齿也折断、指甲也秃掉。</p><p>世上不存在浪漫的战争，战争的本质就是绞杀生命。</p><p>即使你们曾一起坐着摩天轮俯瞰芝加哥，在QQ上彻夜长谈，在暴雨之夜手拉手跑过街头……那一天到来，你们仍将各自握紧武器，向对方爆出残忍的呼喊。</p><p>她不是惊恐而是欢喜原来这个世界上还是会有人来救她的，原来这世界上还有人能听见她的声音，原来她并没有孤独到没有同类。</p><p>有时候人只需要一只温暖的手的触摸，就像是拥有了整个世界。</p><p>这份孤独庞大得就像外面永恒冻土带上的冰川，在年复一年的雪风中越堆越高，永不融化，越来越高峻，越来越锋利。</p><p>但总有一天，当孤独的重量超过了极限，它就会崩塌，雪崩的狂潮会把整个世界都吞噬。</p><p>命运这种东西，生来就是要被踏于足下的，如果你还未有力量反抗它，只需怀着勇气等待。</p><p>世界上有一种生命，它的每一次死亡，都是为了归来！ 不会有结果的希望都是有毒的，就像小女孩用来暖和自己的火柴……可是该燃烧的，还是会烧起来……他哭泣他歌唱，是魔鬼，是神明，是绝世的戏子，声情并茂—-他是路鸣泽。</p><p>人类是种很愚蠢的东西，你也是，你和他们的区别只是，你是故意要让自己愚蠢的。</p><p>什么是死？是终点，是永诀，是不可挽回，是再也握不到的手、感觉不到的温度，再也说不出口的“对不起”。</p><p>在这个世界的某个角落必有为你而生的人，当你站在悬崖尽头时也不要失去希望，要多坚持那么一秒钟，等那个人一骑绝尘如狂风闪电般出现在你面前。</p><p>你将跨上他的马背，即使他是被神囚禁了一千年的魔鬼。</p><p>细腻的喜欢，毛毯般的厚重感，晒过太阳熟悉的安全感，分享的汤，我们两支汤匙一个碗，左心房暖暖的好保暖，我想说其实你很好，你自己却不知道，真心的对我好，不要求回报，爱一个人希望他过更好，打从心里暖暖的，你比自己更重要。</p><p>一个王，总被新的王杀死。</p><p>每个人都可以把自己的命握在自己手里，只要你相信你能做到！ 因为我生命中最后的这些意义……虽然像是浮光中的幻影那样缥缈……但也是我人生中仅有的东西了！ 哥哥，要活下去啊……生命是我们仅有的……一切了。</p><p>有些回忆是不太好的，这种苦自己吃就好了，没什么值得分享的。</p><p>有人愿意和你在凄冷的夜里一起坐在一辆破车里听下雨么？ 虽然笑不出来，可是苏恩曦觉得这真的很可笑，你有一千个名字念在嘴边，却只是为了掩盖心里的那一个。</p><p>“我不会放弃和出卖你的，雷娜塔。</p><p>但这份合约不能维持到死亡的尽头，只能维持到你对我没有用了为止。</p><p>”零号轻轻说，“你这样弱小的女孩是没法在世上独自生存的，我也没法永远把你带在身边。</p><p>” 那一千年完了，撒旦必从监牢里被释放，出来要迷惑地上四方的列国，就是歌革和玛各，叫他们聚集征战。</p><p>他们的人数多如海沙。</p><p>对于蝼蚁的存亡，我没有什么兴趣，也不想因此把自己的手弄脏。</p><p>一切伟大的时代皆有结束，正如所有的王都将死去。</p><p>别害怕。</p><p>我会变，但我不会离开你。</p><p>任何人，想从你身边夺走任何东西，都是我们的敌人。</p><p>因为世界上一切相爱的人总会分离啊。</p><p>身边若有对自己好的人，瞬间便是长生。</p><p>能被人牢牢挂记在心，永不忘记，消亡亦是长生。</p><p>有的爱，可能还没开始，却就要结束了。</p><p>不管你变成什么模样，在真正爱你的人眼里，你看到的永远是自己…</p><p><del>江南老贼</del></p>]]></content>
      
      
      
        <tags>
            
            <tag> 绘梨衣 龙族 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="/lib/three/README.html"/>
      <url>/lib/three/README.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 align="center"><a href="https://github.com/mrdoob/three.js" target="_blank" rel="noopener">JavaScript 3D library</a> for <a href="https://github.com/theme-next" target="_blank" rel="noopener">NexT</a></h1><h1 align="center">Installation</h1><h2 align="center">Step 1 &rarr; Go to NexT dir</h2><p>Change dir to <strong>NexT</strong> directory. There must be <code>layout</code>, <code>source</code>, <code>languages</code> and other directories:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/next</span><br><span class="line">$ ls</span><br><span class="line">bower.json  _config.yml  docs  gulpfile.coffee  languages  layout  LICENSE.md  package.json  README.md  scripts  <span class="built_in">source</span>  <span class="built_in">test</span></span><br></pre></td></tr></table></figure><h2 align="center">Step 2 &rarr; Get module</h2><p>Install module to <code>source/lib</code> directory:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-three <span class="built_in">source</span>/lib/three</span><br></pre></td></tr></table></figure><h2 align="center">Step 3 &rarr; Set it up</h2><p>Enable module in <strong>NexT</strong> <code>_config.yml</code> file:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">three_waves:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">OR</span></span><br><span class="line"><span class="attr">canvas_lines:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">OR</span></span><br><span class="line"><span class="attr">canvas_sphere:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1 align="center">Update</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/next/<span class="built_in">source</span>/lib/three</span><br><span class="line">$ git pull</span><br></pre></td></tr></table></figure>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/fancybox/README.html"/>
      <url>/lib/fancybox/README.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 align="center"><a href="https://github.com/fancyapps/fancybox" target="_blank" rel="noopener">fancyBox 3</a> for <a href="https://github.com/theme-next" target="_blank" rel="noopener">NexT</a></h1><h2 align="center">If you want fancybox v2, please go to <a href="https://github.com/theme-next/theme-next-fancybox" target="_blank" rel="noopener">theme-next-fancybox</a></h2><h1 align="center">Installation</h1><h2 align="center">Step 0 &rarr; Delete fancybox 2 (if you want to upgrade from v2)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rm -rf themes/next/<span class="built_in">source</span>/lib/fancybox</span><br></pre></td></tr></table></figure><h2 align="center">Step 1 &rarr; Go to NexT dir</h2><p>Change dir to <strong>NexT</strong> directory. There must be <code>layout</code>, <code>source</code>, <code>languages</code> and other directories:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/next</span><br><span class="line">$ ls</span><br><span class="line">bower.json  _config.yml  docs  gulpfile.coffee  languages  layout  LICENSE.md  package.json  README.md  scripts  <span class="built_in">source</span>  <span class="built_in">test</span></span><br></pre></td></tr></table></figure><h2 align="center">Step 2 &rarr; Get module</h2><p>Install module to <code>source/lib</code> directory:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-fancybox3 <span class="built_in">source</span>/lib/fancybox</span><br></pre></td></tr></table></figure><h2 align="center">Step 3 &rarr; Set it up</h2><p>Enable module in <strong>NexT</strong> <code>_config.yml</code> file:</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1 align="center">Update</h1><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/next/<span class="built_in">source</span>/lib/fancybox</span><br><span class="line">$ git pull</span><br></pre></td></tr></table></figure>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/gulpfile.js"/>
      <url>/lib/three/gulpfile.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>const fs = require('fs')const del = require('del')const gulp = require('gulp')const concat = require('gulp-concat')const uglify = require('gulp-uglify')gulp.task('clean', async () => {  del(['*.min.js', '!three.min.js'])})gulp.task('scripts', async () => {  const sourceFiles = fs.readdirSync('src')  sourceFiles.forEach(file => {    const fileName = file.split('.')[0]    return gulp.src([`src/${fileName}.js`, 'lib/*.js'])      .pipe(concat(`${fileName}.min.js`))      .pipe(uglify())      .pipe(gulp.dest('./'))  })})gulp.task('default', gulp.series('clean', 'scripts'))]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/package.json"/>
      <url>/lib/three/package.json</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>{"name":"theme-next-three","version":"1.0.0","main":"index.js","repository":"git@github.com:theme-next/theme-next-three.git","author":"Raincal <cyj94228@gmail.com>","license":"MIT","scripts":{"build":"gulp"},"dependencies":{"del":"^5.0.0","gulp":"^4.0.2","gulp-concat":"^2.6.1","gulp-uglify":"^3.0.2"}}</cyj94228@gmail.com>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/renovate.json"/>
      <url>/lib/three/renovate.json</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>{"extends":["config:base"]}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/canvas_sphere.min.js"/>
      <url>/lib/three/canvas_sphere.min.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>$(function(){var c,p,E,d=window.innerWidth,h=window.innerHeight,t=0,r=0,i=window.innerWidth/2,n=window.innerHeight/2;function f(){i=window.innerWidth/2,n=window.innerHeight/2,c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),E.setSize(window.innerWidth,window.innerHeight)}function u(e){t=e.clientX-i,r=e.clientY-n}function m(e){1]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/canvas_lines.min.js"/>
      <url>/lib/three/canvas_lines.min.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>$(function(){var s,l,c,t=0,i=0,r=window.innerWidth/2,n=window.innerHeight/2;function p(){r=window.innerWidth/2,n=window.innerHeight/2,s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),c.setSize(window.innerWidth,window.innerHeight)}function E(e){t=e.clientX-r,i=e.clientY-n}function d(e){1]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/three-waves.min.js"/>
      <url>/lib/three/three-waves.min.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>$(function(){var o,a,s,l,c,p,E=100,d=50,f=50,i=0,n=0,t=window.innerWidth/2;window.innerHeight;function h(){t=window.innerWidth/2,window.innerHeight/2,a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight)}function u(e){n=e.clientX-t}function r(){a.position.x+=.05*(n-a.position.x),a.position.y=362.05,a.lookAt({x:s.position.x,y:window.innerHeight/3,z:s.position.z});for(var e=0,t=0;t]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/src/canvas_lines.js"/>
      <url>/lib/three/src/canvas_lines.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>/** * Created by Tang on 2017/4/15. */$(function () {  var mouseX = 0,    mouseY = 0,    windowHalfX = window.innerWidth / 2,    windowHalfY = window.innerHeight / 2,    SEPARATION = 200,    AMOUNTX = 10,    AMOUNTY = 10,    camera, scene, renderer;  init();  animate();  function init() {    var container, separation = 100,      amountX = 50,      amountY = 50,      particles, particle;    container = document.createElement('div');    // 设置css    container.style.position = "fixed";    container.style.top = "0px";    container.style.left = "0px";    container.style.zIndex = "-1";    container.style.opacity = "0.5";    document.body.appendChild(container);    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);    camera.position.z = 100;    scene = new THREE.Scene();    renderer = new THREE.CanvasRenderer({      alpha: true    });    renderer.setPixelRatio(window.devicePixelRatio);    renderer.setSize(window.innerWidth, window.innerHeight);    container.appendChild(renderer.domElement);    // particles    var PI2 = Math.PI * 2;    var material = new THREE.SpriteCanvasMaterial({      color: 10263708,      program: function (context) {        context.beginPath();        context.arc(0, 0, 0.5, 0, PI2, true);        context.fill();      }    });    var geometry = new THREE.Geometry();    for (var i = 0; i < 100; i++) {      particle = new THREE.Sprite(material);      particle.position.x = Math.random() * 2 - 1;      particle.position.y = Math.random() * 2 - 1;      particle.position.z = Math.random() * 2 - 1;      particle.position.normalize();      particle.position.multiplyScalar(Math.random() * 10 + 450);      particle.scale.x = particle.scale.y = 10;      scene.add(particle);      geometry.vertices.push(particle.position);    }    // lines    var line = new THREE.Line(geometry, new THREE.LineBasicMaterial({      color: 10263708,      opacity: 0.5    }));    scene.add(line);    document.addEventListener('mousemove', onDocumentMouseMove, false);    document.addEventListener('touchstart', onDocumentTouchStart, false);    document.addEventListener('touchmove', onDocumentTouchMove, false);    //    window.addEventListener('resize', onWindowResize, false);  }  function onWindowResize() {    windowHalfX = window.innerWidth / 2;    windowHalfY = window.innerHeight / 2;    camera.aspect = window.innerWidth / window.innerHeight;    camera.updateProjectionMatrix();    renderer.setSize(window.innerWidth, window.innerHeight);  }  //  function onDocumentMouseMove(event) {    mouseX = event.clientX - windowHalfX;    mouseY = event.clientY - windowHalfY;  }  function onDocumentTouchStart(event) {    if (event.touches.length > 1) {      //event.preventDefault();      mouseX = event.touches[0].pageX - windowHalfX;      //mouseY = event.touches[ 0 ].pageY - windowHalfY;    }  }  function onDocumentTouchMove(event) {    if (event.touches.length == 1) {      //event.preventDefault();      mouseX = event.touches[0].pageX - windowHalfX;      //mouseY = event.touches[ 0 ].pageY - windowHalfY;    }  }  //  function animate() {    requestAnimationFrame(animate);    render();  }  function render() {    camera.position.x += (mouseX - camera.position.x) * .05;    camera.position.y += (-mouseY + 200 - camera.position.y) * .05;    camera.lookAt(scene.position);    renderer.render(scene, camera);  }})]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/src/canvas_sphere.js"/>
      <url>/lib/three/src/canvas_sphere.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>/** * Created by Tang on 2017/4/15. */$(function () {  var SCREEN_WIDTH = window.innerWidth,    SCREEN_HEIGHT = window.innerHeight,    mouseX = 0,    mouseY = 0,    windowHalfX = window.innerWidth / 2,    windowHalfY = window.innerHeight / 2,    SEPARATION = 200,    AMOUNTX = 10,    AMOUNTY = 10,    camera, scene, renderer;  init();  animate();  function init() {    var container, separation = 100,      amountX = 50,      amountY = 50,      particles, particle;    container = document.createElement('div');    // 设置css    container.style.position = "fixed";    container.style.top = "0px";    container.style.left = "0px";    container.style.zIndex = "-1";    container.style.opacity = "0.5";    document.body.appendChild(container);    camera = new THREE.PerspectiveCamera(75, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 10000);    camera.position.z = 1000;    scene = new THREE.Scene();    renderer = new THREE.CanvasRenderer({      alpha: true    });    renderer.setPixelRatio(window.devicePixelRatio);    renderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT);    container.appendChild(renderer.domElement);    // particles    var PI2 = Math.PI * 2;    var material = new THREE.SpriteCanvasMaterial({      color: 10263708,      program: function (context) {        context.beginPath();        context.arc(0, 0, 0.5, 0, PI2, true);        context.fill();      }    });    for (var i = 0; i < 1000; i++) {      particle = new THREE.Sprite(material);      particle.position.x = Math.random() * 2 - 1;      particle.position.y = Math.random() * 2 - 1;      particle.position.z = Math.random() * 2 - 1;      particle.position.normalize();      particle.position.multiplyScalar(Math.random() * 10 + 450);      particle.scale.multiplyScalar(2);      scene.add(particle);    }    // lines    for (var i = 0; i < 300; i++) {      var geometry = new THREE.Geometry();      var vertex = new THREE.Vector3(Math.random() * 2 - 1, Math.random() * 2 - 1, Math.random() * 2 - 1);      vertex.normalize();      vertex.multiplyScalar(450);      geometry.vertices.push(vertex);      var vertex2 = vertex.clone();      vertex2.multiplyScalar(Math.random() * 0.3 + 1);      geometry.vertices.push(vertex2);      var line = new THREE.Line(geometry, new THREE.LineBasicMaterial({        color: 10263708,        opacity: Math.random()      }));      scene.add(line);    }    document.addEventListener('mousemove', onDocumentMouseMove, false);    document.addEventListener('touchstart', onDocumentTouchStart, false);    document.addEventListener('touchmove', onDocumentTouchMove, false);    //    window.addEventListener('resize', onWindowResize, false);  }  function onWindowResize() {    windowHalfX = window.innerWidth / 2;    windowHalfY = window.innerHeight / 2;    camera.aspect = window.innerWidth / window.innerHeight;    camera.updateProjectionMatrix();    renderer.setSize(window.innerWidth, window.innerHeight);  }  //  function onDocumentMouseMove(event) {    mouseX = event.clientX - windowHalfX;    mouseY = event.clientY - windowHalfY;  }  function onDocumentTouchStart(event) {    if (event.touches.length > 1) {      //event.preventDefault();      mouseX = event.touches[0].pageX - windowHalfX;      //mouseY = event.touches[ 0 ].pageY - windowHalfY;    }  }  function onDocumentTouchMove(event) {    if (event.touches.length == 1) {      //event.preventDefault();      mouseX = event.touches[0].pageX - windowHalfX;      //mouseY = event.touches[ 0 ].pageY - windowHalfY;    }  }  //  function animate() {    requestAnimationFrame(animate);    render();  }  function render() {    camera.position.x += (mouseX - camera.position.x) * .05;    camera.position.y += (-mouseY + 200 - camera.position.y) * .05;    camera.lookAt(scene.position);    renderer.render(scene, camera);  }})]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/src/three-waves.js"/>
      <url>/lib/three/src/three-waves.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>$(function () {  var SEPARATION = 100,    AMOUNTX = 50,    AMOUNTY = 50;  var container;  var camera, scene, renderer;  var particles, particle, count = 0;  var mouseX = 0,    mouseY = 0;  var windowHalfX = window.innerWidth / 2;  var windowHalfY = window.innerHeight / 2;  init();  animate();  function init() {    container = document.createElement("div");    container.style.position = "fixed";    container.style.top = "0px";    container.style.left = "0px";    container.style.zIndex = "-1";    container.style.opacity = "0.5";    document.body.appendChild(container);    camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 10000);    camera.position.z = 1000;    scene = new THREE.Scene();    particles = new Array();    var PI2 = Math.PI * 2;    var material = new THREE.SpriteCanvasMaterial({      color: 10263708,      program: function (context) {        context.beginPath();        context.arc(0, 0, 0.5, 0, PI2, true);        context.fill()      }    });    var i = 0;    for (var ix = 0; ix < AMOUNTX; ix++) {      for (var iy = 0; iy < AMOUNTY; iy++) {        particle = particles[i++] = new THREE.Sprite(material);        particle.position.x = ix * SEPARATION - ((AMOUNTX * SEPARATION) / 2);        particle.position.z = iy * SEPARATION - ((AMOUNTY * SEPARATION) / 2);        scene.add(particle)      }    }    renderer = new THREE.CanvasRenderer({      alpha: true    });    renderer.setPixelRatio(window.devicePixelRatio);    renderer.setSize(window.innerWidth, window.innerHeight);    container.appendChild(renderer.domElement);    document.addEventListener("mousemove", onDocumentMouseMove, false);    window.addEventListener("resize", onWindowResize, false)  }  function onWindowResize() {    windowHalfX = window.innerWidth / 2;    windowHalfY = window.innerHeight / 2;    camera.aspect = window.innerWidth / window.innerHeight;    camera.updateProjectionMatrix();    renderer.setSize(window.innerWidth, window.innerHeight)  }  function onDocumentMouseMove(event) {    mouseX = event.clientX - windowHalfX  }  function animate() {    requestAnimationFrame(animate);    render()  }  function render() {    camera.position.x += (mouseX - camera.position.x) * 0.05;    camera.position.y = 362.05;    camera.lookAt({      x: scene.position.x,      y: window.innerHeight / 3,      z: scene.position.z    });    var i = 0;    for (var ix = 0; ix < AMOUNTX; ix++) {      for (var iy = 0; iy < AMOUNTY; iy++) {        particle = particles[i++];        particle.position.y = (Math.sin((ix + count) * 0.3) * 50) + (Math.sin((iy + count) * 0.5) * 50);        particle.scale.x = particle.scale.y = (Math.sin((ix + count) * 0.3) + 1) * 4 + (Math.sin((iy + count) * 0.5) + 1) * 4      }    }    renderer.render(scene, camera);    count += 0.1  }});]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/fancybox/source/jquery.fancybox.min.css"/>
      <url>/lib/fancybox/source/jquery.fancybox.min.css</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>body.compensate-for-scrollbar{overflow:hidden}.fancybox-active{height:auto}.fancybox-is-hidden{left:-9999px;margin:0;position:absolute!important;top:-9999px;visibility:hidden}.fancybox-container{-webkit-backface-visibility:hidden;height:100%;left:0;outline:none;position:fixed;-webkit-tap-highlight-color:transparent;top:0;-ms-touch-action:manipulation;touch-action:manipulation;transform:translateZ(0);width:100%;z-index:99992}.fancybox-container *{box-sizing:border-box}.fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-stage{bottom:0;left:0;position:absolute;right:0;top:0}.fancybox-outer{-webkit-overflow-scrolling:touch;overflow-y:auto}.fancybox-bg{background:#1e1e1e;opacity:0;transition-duration:inherit;transition-property:opacity;transition-timing-function:cubic-bezier(.47,0,.74,.71)}.fancybox-is-open .fancybox-bg{opacity:.9;transition-timing-function:cubic-bezier(.22,.61,.36,1)}.fancybox-caption,.fancybox-infobar,.fancybox-navigation .fancybox-button,.fancybox-toolbar{direction:ltr;opacity:0;position:absolute;transition:opacity .25s ease,visibility 0s ease .25s;visibility:hidden;z-index:99997}.fancybox-show-caption .fancybox-caption,.fancybox-show-infobar .fancybox-infobar,.fancybox-show-nav .fancybox-navigation .fancybox-button,.fancybox-show-toolbar .fancybox-toolbar{opacity:1;transition:opacity .25s ease 0s,visibility 0s ease 0s;visibility:visible}.fancybox-infobar{color:#ccc;font-size:13px;-webkit-font-smoothing:subpixel-antialiased;height:44px;left:0;line-height:44px;min-width:44px;mix-blend-mode:difference;padding:0 10px;pointer-events:none;top:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fancybox-toolbar{right:0;top:0}.fancybox-stage{direction:ltr;overflow:visible;transform:translateZ(0);z-index:99994}.fancybox-is-open .fancybox-stage{overflow:hidden}.fancybox-slide{-webkit-backface-visibility:hidden;display:none;height:100%;left:0;outline:none;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:absolute;text-align:center;top:0;transition-property:transform,opacity;white-space:normal;width:100%;z-index:99994}.fancybox-slide:before{content:"";display:inline-block;font-size:0;height:100%;vertical-align:middle;width:0}.fancybox-is-sliding .fancybox-slide,.fancybox-slide--current,.fancybox-slide--next,.fancybox-slide--previous{display:block}.fancybox-slide--image{overflow:hidden;padding:44px 0}.fancybox-slide--image:before{display:none}.fancybox-slide--html{padding:6px}.fancybox-content{background:#fff;display:inline-block;margin:0;max-width:100%;overflow:auto;-webkit-overflow-scrolling:touch;padding:44px;position:relative;text-align:left;vertical-align:middle}.fancybox-slide--image .fancybox-content{animation-timing-function:cubic-bezier(.5,0,.14,1);-webkit-backface-visibility:hidden;background:transparent;background-repeat:no-repeat;background-size:100% 100%;left:0;max-width:none;overflow:visible;padding:0;position:absolute;top:0;transform-origin:top left;transition-property:transform,opacity;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:99995}.fancybox-can-zoomOut .fancybox-content{cursor:zoom-out}.fancybox-can-zoomIn .fancybox-content{cursor:zoom-in}.fancybox-can-pan .fancybox-content,.fancybox-can-swipe .fancybox-content{cursor:grab}.fancybox-is-grabbing .fancybox-content{cursor:grabbing}.fancybox-container [data-selectable=true]{cursor:text}.fancybox-image,.fancybox-spaceball{background:transparent;border:0;height:100%;left:0;margin:0;max-height:none;max-width:none;padding:0;position:absolute;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.fancybox-spaceball{z-index:1}.fancybox-slide--iframe .fancybox-content,.fancybox-slide--map .fancybox-content,.fancybox-slide--pdf .fancybox-content,.fancybox-slide--video .fancybox-content{height:100%;overflow:visible;padding:0;width:100%}.fancybox-slide--video .fancybox-content{background:#000}.fancybox-slide--map .fancybox-content{background:#e5e3df}.fancybox-slide--iframe .fancybox-content{background:#fff}.fancybox-iframe,.fancybox-video{background:transparent;border:0;display:block;height:100%;margin:0;overflow:hidden;padding:0;width:100%}.fancybox-iframe{left:0;position:absolute;top:0}.fancybox-error{background:#fff;cursor:default;max-width:400px;padding:40px;width:100%}.fancybox-error p{color:#444;font-size:16px;line-height:20px;margin:0;padding:0}.fancybox-button{background:rgba(30,30,30,.6);border:0;border-radius:0;box-shadow:none;cursor:pointer;display:inline-block;height:44px;margin:0;padding:10px;position:relative;transition:color .2s;vertical-align:top;visibility:inherit;width:44px}.fancybox-button,.fancybox-button:link,.fancybox-button:visited{color:#ccc}.fancybox-button:hover{color:#fff}.fancybox-button:focus{outline:none}.fancybox-button.fancybox-focus{outline:1px dotted}.fancybox-button[disabled],.fancybox-button[disabled]:hover{color:#888;cursor:default;outline:none}.fancybox-button div{height:100%}.fancybox-button svg{display:block;height:100%;overflow:visible;position:relative;width:100%}.fancybox-button svg path{fill:currentColor;stroke-width:0}.fancybox-button--fsenter svg:nth-child(2),.fancybox-button--fsexit svg:first-child,.fancybox-button--pause svg:first-child,.fancybox-button--play svg:nth-child(2){display:none}.fancybox-progress{background:#ff5268;height:2px;left:0;position:absolute;right:0;top:0;transform:scaleX(0);transform-origin:0;transition-property:transform;transition-timing-function:linear;z-index:99998}.fancybox-close-small{background:transparent;border:0;border-radius:0;color:#ccc;cursor:pointer;opacity:.8;padding:8px;position:absolute;right:-12px;top:-44px;z-index:401}.fancybox-close-small:hover{color:#fff;opacity:1}.fancybox-slide--html .fancybox-close-small{color:currentColor;padding:10px;right:0;top:0}.fancybox-slide--image.fancybox-is-scaling .fancybox-content{overflow:hidden}.fancybox-is-scaling .fancybox-close-small,.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small{display:none}.fancybox-navigation .fancybox-button{background-clip:content-box;height:100px;opacity:0;position:absolute;top:calc(50% - 50px);width:70px}.fancybox-navigation .fancybox-button div{padding:7px}.fancybox-navigation .fancybox-button--arrow_left{left:0;left:env(safe-area-inset-left);padding:31px 26px 31px 6px}.fancybox-navigation .fancybox-button--arrow_right{padding:31px 6px 31px 26px;right:0;right:env(safe-area-inset-right)}.fancybox-caption{background:linear-gradient(0deg,rgba(0,0,0,.85) 0,rgba(0,0,0,.3) 50%,rgba(0,0,0,.15) 65%,rgba(0,0,0,.075) 75.5%,rgba(0,0,0,.037) 82.85%,rgba(0,0,0,.019) 88%,transparent);bottom:0;color:#eee;font-size:14px;font-weight:400;left:0;line-height:1.5;padding:75px 44px 25px;pointer-events:none;right:0;text-align:center;z-index:99996}@supports (padding:max(0px)){.fancybox-caption{padding:75px max(44px,env(safe-area-inset-right)) max(25px,env(safe-area-inset-bottom)) max(44px,env(safe-area-inset-left))}}.fancybox-caption--separate{margin-top:-50px}.fancybox-caption__body{max-height:50vh;overflow:auto;pointer-events:all}.fancybox-caption a,.fancybox-caption a:link,.fancybox-caption a:visited{color:#ccc;text-decoration:none}.fancybox-caption a:hover{color:#fff;text-decoration:underline}.fancybox-loading{animation:a 1s linear infinite;background:transparent;border:4px solid #888;border-bottom-color:#fff;border-radius:50%;height:50px;left:50%;margin:-25px 0 0 -25px;opacity:.7;padding:0;position:absolute;top:50%;width:50px;z-index:99999}@keyframes a{to{transform:rotate(1turn)}}.fancybox-animated{transition-timing-function:cubic-bezier(0,0,.25,1)}.fancybox-fx-slide.fancybox-slide--previous{opacity:0;transform:translate3d(-100%,0,0)}.fancybox-fx-slide.fancybox-slide--next{opacity:0;transform:translate3d(100%,0,0)}.fancybox-fx-slide.fancybox-slide--current{opacity:1;transform:translateZ(0)}.fancybox-fx-fade.fancybox-slide--next,.fancybox-fx-fade.fancybox-slide--previous{opacity:0;transition-timing-function:cubic-bezier(.19,1,.22,1)}.fancybox-fx-fade.fancybox-slide--current{opacity:1}.fancybox-fx-zoom-in-out.fancybox-slide--previous{opacity:0;transform:scale3d(1.5,1.5,1.5)}.fancybox-fx-zoom-in-out.fancybox-slide--next{opacity:0;transform:scale3d(.5,.5,.5)}.fancybox-fx-zoom-in-out.fancybox-slide--current{opacity:1;transform:scaleX(1)}.fancybox-fx-rotate.fancybox-slide--previous{opacity:0;transform:rotate(-1turn)}.fancybox-fx-rotate.fancybox-slide--next{opacity:0;transform:rotate(1turn)}.fancybox-fx-rotate.fancybox-slide--current{opacity:1;transform:rotate(0deg)}.fancybox-fx-circular.fancybox-slide--previous{opacity:0;transform:scale3d(0,0,0) translate3d(-100%,0,0)}.fancybox-fx-circular.fancybox-slide--next{opacity:0;transform:scale3d(0,0,0) translate3d(100%,0,0)}.fancybox-fx-circular.fancybox-slide--current{opacity:1;transform:scaleX(1) translateZ(0)}.fancybox-fx-tube.fancybox-slide--previous{transform:translate3d(-100%,0,0) scale(.1) skew(-10deg)}.fancybox-fx-tube.fancybox-slide--next{transform:translate3d(100%,0,0) scale(.1) skew(10deg)}.fancybox-fx-tube.fancybox-slide--current{transform:translateZ(0) scale(1)}@media (max-height:576px){.fancybox-slide{padding-left:6px;padding-right:6px}.fancybox-slide--image{padding:6px 0}.fancybox-close-small{right:-6px}.fancybox-slide--image .fancybox-close-small{background:#4e4e4e;color:#f2f4f6;height:36px;opacity:1;padding:6px;right:0;top:0;width:36px}.fancybox-caption{padding-left:12px;padding-right:12px}@supports (padding:max(0px)){.fancybox-caption{padding-left:max(12px,env(safe-area-inset-left));padding-right:max(12px,env(safe-area-inset-right))}}}.fancybox-share{background:#f4f4f4;border-radius:3px;max-width:90%;padding:30px;text-align:center}.fancybox-share h1{color:#222;font-size:35px;font-weight:700;margin:0 0 20px}.fancybox-share p{margin:0;padding:0}.fancybox-share__button{border:0;border-radius:3px;display:inline-block;font-size:14px;font-weight:700;line-height:40px;margin:0 5px 10px;min-width:130px;padding:0 15px;text-decoration:none;transition:all .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.fancybox-share__button:link,.fancybox-share__button:visited{color:#fff}.fancybox-share__button:hover{text-decoration:none}.fancybox-share__button--fb{background:#3b5998}.fancybox-share__button--fb:hover{background:#344e86}.fancybox-share__button--pt{background:#bd081d}.fancybox-share__button--pt:hover{background:#aa0719}.fancybox-share__button--tw{background:#1da1f2}.fancybox-share__button--tw:hover{background:#0d95e8}.fancybox-share__button svg{height:25px;margin-right:7px;position:relative;top:-1px;vertical-align:middle;width:25px}.fancybox-share__button svg path{fill:#fff}.fancybox-share__input{background:transparent;border:0;border-bottom:1px solid #d7d7d7;border-radius:0;color:#5d5b5b;font-size:14px;margin:10px 0 0;outline:none;padding:10px 15px;width:100%}.fancybox-thumbs{background:#ddd;bottom:0;display:none;margin:0;-webkit-overflow-scrolling:touch;-ms-overflow-style:-ms-autohiding-scrollbar;padding:2px 2px 4px;position:absolute;right:0;-webkit-tap-highlight-color:rgba(0,0,0,0);top:0;width:212px;z-index:99995}.fancybox-thumbs-x{overflow-x:auto;overflow-y:hidden}.fancybox-show-thumbs .fancybox-thumbs{display:block}.fancybox-show-thumbs .fancybox-inner{right:212px}.fancybox-thumbs__list{font-size:0;height:100%;list-style:none;margin:0;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;position:relative;white-space:nowrap;width:100%}.fancybox-thumbs-x .fancybox-thumbs__list{overflow:hidden}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar{width:7px}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track{background:#fff;border-radius:10px;box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb{background:#2a2a2a;border-radius:10px}.fancybox-thumbs__list a{-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:rgba(0,0,0,.1);background-position:50%;background-repeat:no-repeat;background-size:cover;cursor:pointer;float:left;height:75px;margin:2px;max-height:calc(100% - 8px);max-width:calc(50% - 4px);outline:none;overflow:hidden;padding:0;position:relative;-webkit-tap-highlight-color:transparent;width:100px}.fancybox-thumbs__list a:before{border:6px solid #ff5268;bottom:0;content:"";left:0;opacity:0;position:absolute;right:0;top:0;transition:all .2s cubic-bezier(.25,.46,.45,.94);z-index:99991}.fancybox-thumbs__list a:focus:before{opacity:.5}.fancybox-thumbs__list a.fancybox-thumbs-active:before{opacity:1}@media (max-width:576px){.fancybox-thumbs{width:110px}.fancybox-show-thumbs .fancybox-inner{right:110px}.fancybox-thumbs__list a{max-width:calc(100% - 10px)}}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/fancybox/source/jquery.fancybox.css"/>
      <url>/lib/fancybox/source/jquery.fancybox.css</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>body.compensate-for-scrollbar {    overflow: hidden;}.fancybox-active {    height: auto;}.fancybox-is-hidden {    left: -9999px;    margin: 0;    position: absolute !important;    top: -9999px;    visibility: hidden;}.fancybox-container {    -webkit-backface-visibility: hidden;    height: 100%;    left: 0;    outline: none;    position: fixed;    -webkit-tap-highlight-color: transparent;    top: 0;    -ms-touch-action: manipulation;    touch-action: manipulation;    transform: translateZ(0);    width: 100%;    z-index: 99992;}.fancybox-container * {    box-sizing: border-box;}.fancybox-outer,.fancybox-inner,.fancybox-bg,.fancybox-stage {    bottom: 0;    left: 0;    position: absolute;    right: 0;    top: 0;}.fancybox-outer {    -webkit-overflow-scrolling: touch;    overflow-y: auto;}.fancybox-bg {    background: rgb(30, 30, 30);    opacity: 0;    transition-duration: inherit;    transition-property: opacity;    transition-timing-function: cubic-bezier(.47, 0, .74, .71);}.fancybox-is-open .fancybox-bg {    opacity: .9;    transition-timing-function: cubic-bezier(.22, .61, .36, 1);}.fancybox-infobar,.fancybox-toolbar,.fancybox-caption,.fancybox-navigation .fancybox-button {    direction: ltr;    opacity: 0;    position: absolute;    transition: opacity .25s ease, visibility 0s ease .25s;    visibility: hidden;    z-index: 99997;}.fancybox-show-infobar .fancybox-infobar,.fancybox-show-toolbar .fancybox-toolbar,.fancybox-show-caption .fancybox-caption,.fancybox-show-nav .fancybox-navigation .fancybox-button {    opacity: 1;    transition: opacity .25s ease 0s, visibility 0s ease 0s;    visibility: visible;}.fancybox-infobar {    color: #ccc;    font-size: 13px;    -webkit-font-smoothing: subpixel-antialiased;    height: 44px;    left: 0;    line-height: 44px;    min-width: 44px;    mix-blend-mode: difference;    padding: 0 10px;    pointer-events: none;    top: 0;    -webkit-touch-callout: none;    -webkit-user-select: none;    -moz-user-select: none;    -ms-user-select: none;    user-select: none;}.fancybox-toolbar {    right: 0;    top: 0;}.fancybox-stage {    direction: ltr;    overflow: visible;    transform: translateZ(0);    z-index: 99994;}.fancybox-is-open .fancybox-stage {    overflow: hidden;}.fancybox-slide {    -webkit-backface-visibility: hidden;    /* Using without prefix would break IE11 */    display: none;    height: 100%;    left: 0;    outline: none;    overflow: auto;    -webkit-overflow-scrolling: touch;    padding: 44px;    position: absolute;    text-align: center;    top: 0;    transition-property: transform, opacity;    white-space: normal;    width: 100%;    z-index: 99994;}.fancybox-slide::before {    content: '';    display: inline-block;    font-size: 0;    height: 100%;    vertical-align: middle;    width: 0;}.fancybox-is-sliding .fancybox-slide,.fancybox-slide--previous,.fancybox-slide--current,.fancybox-slide--next {    display: block;}.fancybox-slide--image {    overflow: hidden;    padding: 44px 0;}.fancybox-slide--image::before {    display: none;}.fancybox-slide--html {    padding: 6px;}.fancybox-content {    background: #fff;    display: inline-block;    margin: 0;    max-width: 100%;    overflow: auto;    -webkit-overflow-scrolling: touch;    padding: 44px;    position: relative;    text-align: left;    vertical-align: middle;}.fancybox-slide--image .fancybox-content {    animation-timing-function: cubic-bezier(.5, 0, .14, 1);    -webkit-backface-visibility: hidden;    background: transparent;    background-repeat: no-repeat;    background-size: 100% 100%;    left: 0;    max-width: none;    overflow: visible;    padding: 0;    position: absolute;    top: 0;    -ms-transform-origin: top left;    transform-origin: top left;    transition-property: transform, opacity;    -webkit-user-select: none;    -moz-user-select: none;    -ms-user-select: none;    user-select: none;    z-index: 99995;}.fancybox-can-zoomOut .fancybox-content {    cursor: zoom-out;}.fancybox-can-zoomIn .fancybox-content {    cursor: zoom-in;}.fancybox-can-swipe .fancybox-content,.fancybox-can-pan .fancybox-content {    cursor: -webkit-grab;    cursor: grab;}.fancybox-is-grabbing .fancybox-content {    cursor: -webkit-grabbing;    cursor: grabbing;}.fancybox-container [data-selectable='true'] {    cursor: text;}.fancybox-image,.fancybox-spaceball {    background: transparent;    border: 0;    height: 100%;    left: 0;    margin: 0;    max-height: none;    max-width: none;    padding: 0;    position: absolute;    top: 0;    -webkit-user-select: none;    -moz-user-select: none;    -ms-user-select: none;    user-select: none;    width: 100%;}.fancybox-spaceball {    z-index: 1;}.fancybox-slide--video .fancybox-content,.fancybox-slide--map .fancybox-content,.fancybox-slide--pdf .fancybox-content,.fancybox-slide--iframe .fancybox-content {    height: 100%;    overflow: visible;    padding: 0;    width: 100%;}.fancybox-slide--video .fancybox-content {    background: #000;}.fancybox-slide--map .fancybox-content {    background: #e5e3df;}.fancybox-slide--iframe .fancybox-content {    background: #fff;}.fancybox-video,.fancybox-iframe {    background: transparent;    border: 0;    display: block;    height: 100%;    margin: 0;    overflow: hidden;    padding: 0;    width: 100%;}/* Fix iOS */.fancybox-iframe {    left: 0;    position: absolute;    top: 0;}.fancybox-error {    background: #fff;    cursor: default;    max-width: 400px;    padding: 40px;    width: 100%;}.fancybox-error p {    color: #444;    font-size: 16px;    line-height: 20px;    margin: 0;    padding: 0;}/* Buttons */.fancybox-button {    background: rgba(30, 30, 30, .6);    border: 0;    border-radius: 0;    box-shadow: none;    cursor: pointer;    display: inline-block;    height: 44px;    margin: 0;    padding: 10px;    position: relative;    transition: color .2s;    vertical-align: top;    visibility: inherit;    width: 44px;}.fancybox-button,.fancybox-button:visited,.fancybox-button:link {    color: #ccc;}.fancybox-button:hover {    color: #fff;}.fancybox-button:focus {    outline: none;}.fancybox-button.fancybox-focus {    outline: 1px dotted;}.fancybox-button[disabled],.fancybox-button[disabled]:hover {    color: #888;    cursor: default;    outline: none;}/* Fix IE11 */.fancybox-button div {    height: 100%;}.fancybox-button svg {    display: block;    height: 100%;    overflow: visible;    position: relative;    width: 100%;}.fancybox-button svg path {    fill: currentColor;    stroke-width: 0;}.fancybox-button--play svg:nth-child(2),.fancybox-button--fsenter svg:nth-child(2) {    display: none;}.fancybox-button--pause svg:nth-child(1),.fancybox-button--fsexit svg:nth-child(1) {    display: none;}.fancybox-progress {    background: #ff5268;    height: 2px;    left: 0;    position: absolute;    right: 0;    top: 0;    -ms-transform: scaleX(0);    transform: scaleX(0);    -ms-transform-origin: 0;    transform-origin: 0;    transition-property: transform;    transition-timing-function: linear;    z-index: 99998;}/* Close button on the top right corner of html content */.fancybox-close-small {    background: transparent;    border: 0;    border-radius: 0;    color: #ccc;    cursor: pointer;    opacity: .8;    padding: 8px;    position: absolute;    right: -12px;    top: -44px;    z-index: 401;}.fancybox-close-small:hover {    color: #fff;    opacity: 1;}.fancybox-slide--html .fancybox-close-small {    color: currentColor;    padding: 10px;    right: 0;    top: 0;}.fancybox-slide--image.fancybox-is-scaling .fancybox-content {    overflow: hidden;}.fancybox-is-scaling .fancybox-close-small,.fancybox-is-zoomable.fancybox-can-pan .fancybox-close-small {    display: none;}/* Navigation arrows */.fancybox-navigation .fancybox-button {    background-clip: content-box;    height: 100px;    opacity: 0;    position: absolute;    top: calc(50% - 50px);    width: 70px;}.fancybox-navigation .fancybox-button div {    padding: 7px;}.fancybox-navigation .fancybox-button--arrow_left {    left: 0;    left: env(safe-area-inset-left);    padding: 31px 26px 31px 6px;}.fancybox-navigation .fancybox-button--arrow_right {    padding: 31px 6px 31px 26px;    right: 0;    right: env(safe-area-inset-right);}/* Caption */.fancybox-caption {    background: linear-gradient(to top,        rgba(0, 0, 0, .85) 0%,        rgba(0, 0, 0, .3) 50%,        rgba(0, 0, 0, .15) 65%,        rgba(0, 0, 0, .075) 75.5%,        rgba(0, 0, 0, .037) 82.85%,        rgba(0, 0, 0, .019) 88%,        rgba(0, 0, 0, 0) 100%);    bottom: 0;    color: #eee;    font-size: 14px;    font-weight: 400;    left: 0;    line-height: 1.5;    padding: 75px 44px 25px 44px;    pointer-events: none;    right: 0;    text-align: center;    z-index: 99996;}@supports (padding: max(0px)) {    .fancybox-caption {        padding: 75px max(44px, env(safe-area-inset-right)) max(25px, env(safe-area-inset-bottom)) max(44px, env(safe-area-inset-left));    }}.fancybox-caption--separate {    margin-top: -50px;}.fancybox-caption__body {    max-height: 50vh;    overflow: auto;    pointer-events: all;}.fancybox-caption a,.fancybox-caption a:link,.fancybox-caption a:visited {    color: #ccc;    text-decoration: none;}.fancybox-caption a:hover {    color: #fff;    text-decoration: underline;}/* Loading indicator */.fancybox-loading {    animation: fancybox-rotate 1s linear infinite;    background: transparent;    border: 4px solid #888;    border-bottom-color: #fff;    border-radius: 50%;    height: 50px;    left: 50%;    margin: -25px 0 0 -25px;    opacity: .7;    padding: 0;    position: absolute;    top: 50%;    width: 50px;    z-index: 99999;}@keyframes fancybox-rotate {    100% {        transform: rotate(360deg);    }}/* Transition effects */.fancybox-animated {    transition-timing-function: cubic-bezier(0, 0, .25, 1);}/* transitionEffect: slide */.fancybox-fx-slide.fancybox-slide--previous {    opacity: 0;    transform: translate3d(-100%, 0, 0);}.fancybox-fx-slide.fancybox-slide--next {    opacity: 0;    transform: translate3d(100%, 0, 0);}.fancybox-fx-slide.fancybox-slide--current {    opacity: 1;    transform: translate3d(0, 0, 0);}/* transitionEffect: fade */.fancybox-fx-fade.fancybox-slide--previous,.fancybox-fx-fade.fancybox-slide--next {    opacity: 0;    transition-timing-function: cubic-bezier(.19, 1, .22, 1);}.fancybox-fx-fade.fancybox-slide--current {    opacity: 1;}/* transitionEffect: zoom-in-out */.fancybox-fx-zoom-in-out.fancybox-slide--previous {    opacity: 0;    transform: scale3d(1.5, 1.5, 1.5);}.fancybox-fx-zoom-in-out.fancybox-slide--next {    opacity: 0;    transform: scale3d(.5, .5, .5);}.fancybox-fx-zoom-in-out.fancybox-slide--current {    opacity: 1;    transform: scale3d(1, 1, 1);}/* transitionEffect: rotate */.fancybox-fx-rotate.fancybox-slide--previous {    opacity: 0;    -ms-transform: rotate(-360deg);    transform: rotate(-360deg);}.fancybox-fx-rotate.fancybox-slide--next {    opacity: 0;    -ms-transform: rotate(360deg);    transform: rotate(360deg);}.fancybox-fx-rotate.fancybox-slide--current {    opacity: 1;    -ms-transform: rotate(0deg);    transform: rotate(0deg);}/* transitionEffect: circular */.fancybox-fx-circular.fancybox-slide--previous {    opacity: 0;    transform: scale3d(0, 0, 0) translate3d(-100%, 0, 0);}.fancybox-fx-circular.fancybox-slide--next {    opacity: 0;    transform: scale3d(0, 0, 0) translate3d(100%, 0, 0);}.fancybox-fx-circular.fancybox-slide--current {    opacity: 1;    transform: scale3d(1, 1, 1) translate3d(0, 0, 0);}/* transitionEffect: tube */.fancybox-fx-tube.fancybox-slide--previous {    transform: translate3d(-100%, 0, 0) scale(.1) skew(-10deg);}.fancybox-fx-tube.fancybox-slide--next {    transform: translate3d(100%, 0, 0) scale(.1) skew(10deg);}.fancybox-fx-tube.fancybox-slide--current {    transform: translate3d(0, 0, 0) scale(1);}/* Styling for Small-Screen Devices */@media all and (max-height: 576px) {    .fancybox-slide {        padding-left: 6px;        padding-right: 6px;    }    .fancybox-slide--image {        padding: 6px 0;    }    .fancybox-close-small {        right: -6px;    }    .fancybox-slide--image .fancybox-close-small {        background: #4e4e4e;        color: #f2f4f6;        height: 36px;        opacity: 1;        padding: 6px;        right: 0;        top: 0;        width: 36px;    }    .fancybox-caption {        padding-left: 12px;        padding-right: 12px;    }    @supports (padding: max(0px)) {        .fancybox-caption {            padding-left: max(12px, env(safe-area-inset-left));            padding-right: max(12px, env(safe-area-inset-right));        }    }}/* Share */.fancybox-share {    background: #f4f4f4;    border-radius: 3px;    max-width: 90%;    padding: 30px;    text-align: center;}.fancybox-share h1 {    color: #222;    font-size: 35px;    font-weight: 700;    margin: 0 0 20px 0;}.fancybox-share p {    margin: 0;    padding: 0;}.fancybox-share__button {    border: 0;    border-radius: 3px;    display: inline-block;    font-size: 14px;    font-weight: 700;    line-height: 40px;    margin: 0 5px 10px 5px;    min-width: 130px;    padding: 0 15px;    text-decoration: none;    transition: all .2s;    -webkit-user-select: none;    -moz-user-select: none;    -ms-user-select: none;    user-select: none;    white-space: nowrap;}.fancybox-share__button:visited,.fancybox-share__button:link {    color: #fff;}.fancybox-share__button:hover {    text-decoration: none;}.fancybox-share__button--fb {    background: #3b5998;}.fancybox-share__button--fb:hover {    background: #344e86;}.fancybox-share__button--pt {    background: #bd081d;}.fancybox-share__button--pt:hover {    background: #aa0719;}.fancybox-share__button--tw {    background: #1da1f2;}.fancybox-share__button--tw:hover {    background: #0d95e8;}.fancybox-share__button svg {    height: 25px;    margin-right: 7px;    position: relative;    top: -1px;    vertical-align: middle;    width: 25px;}.fancybox-share__button svg path {    fill: #fff;}.fancybox-share__input {    background: transparent;    border: 0;    border-bottom: 1px solid #d7d7d7;    border-radius: 0;    color: #5d5b5b;    font-size: 14px;    margin: 10px 0 0 0;    outline: none;    padding: 10px 15px;    width: 100%;}/* Thumbs */.fancybox-thumbs {    background: #ddd;    bottom: 0;    display: none;    margin: 0;    -webkit-overflow-scrolling: touch;    -ms-overflow-style: -ms-autohiding-scrollbar;    padding: 2px 2px 4px 2px;    position: absolute;    right: 0;    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);    top: 0;    width: 212px;    z-index: 99995;}.fancybox-thumbs-x {    overflow-x: auto;    overflow-y: hidden;}.fancybox-show-thumbs .fancybox-thumbs {    display: block;}.fancybox-show-thumbs .fancybox-inner {    right: 212px;}.fancybox-thumbs__list {    font-size: 0;    height: 100%;    list-style: none;    margin: 0;    overflow-x: hidden;    overflow-y: auto;    padding: 0;    position: absolute;    position: relative;    white-space: nowrap;    width: 100%;}.fancybox-thumbs-x .fancybox-thumbs__list {    overflow: hidden;}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar {    width: 7px;}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-track {    background: #fff;    border-radius: 10px;    box-shadow: inset 0 0 6px rgba(0, 0, 0, .3);}.fancybox-thumbs-y .fancybox-thumbs__list::-webkit-scrollbar-thumb {    background: #2a2a2a;    border-radius: 10px;}.fancybox-thumbs__list a {    -webkit-backface-visibility: hidden;    backface-visibility: hidden;    background-color: rgba(0, 0, 0, .1);    background-position: center center;    background-repeat: no-repeat;    background-size: cover;    cursor: pointer;    float: left;    height: 75px;    margin: 2px;    max-height: calc(100% - 8px);    max-width: calc(50% - 4px);    outline: none;    overflow: hidden;    padding: 0;    position: relative;    -webkit-tap-highlight-color: transparent;    width: 100px;}.fancybox-thumbs__list a::before {    border: 6px solid #ff5268;    bottom: 0;    content: '';    left: 0;    opacity: 0;    position: absolute;    right: 0;    top: 0;    transition: all .2s cubic-bezier(.25, .46, .45, .94);    z-index: 99991;}.fancybox-thumbs__list a:focus::before {    opacity: .5;}.fancybox-thumbs__list a.fancybox-thumbs-active::before {    opacity: 1;}/* Styling for Small-Screen Devices */@media all and (max-width: 576px) {    .fancybox-thumbs {        width: 110px;    }    .fancybox-show-thumbs .fancybox-inner {        right: 110px;    }    .fancybox-thumbs__list a {        max-width: calc(100% - 10px);    }}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/lib/Projector.js"/>
      <url>/lib/three/lib/Projector.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>/** * @author mrdoob / http://mrdoob.com/ * @author supereggbert / http://www.paulbrunt.co.uk/ * @author julianwa / https://github.com/julianwa */THREE.RenderableObject = function () {this.id = 0;this.object = null;this.z = 0;this.renderOrder = 0;};//THREE.RenderableFace = function () {this.id = 0;this.v1 = new THREE.RenderableVertex();this.v2 = new THREE.RenderableVertex();this.v3 = new THREE.RenderableVertex();this.normalModel = new THREE.Vector3();this.vertexNormalsModel = [ new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3() ];this.vertexNormalsLength = 0;this.color = new THREE.Color();this.material = null;this.uvs = [ new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2() ];this.z = 0;this.renderOrder = 0;};//THREE.RenderableVertex = function () {this.position = new THREE.Vector3();this.positionWorld = new THREE.Vector3();this.positionScreen = new THREE.Vector4();this.visible = true;};THREE.RenderableVertex.prototype.copy = function ( vertex ) {this.positionWorld.copy( vertex.positionWorld );this.positionScreen.copy( vertex.positionScreen );};//THREE.RenderableLine = function () {this.id = 0;this.v1 = new THREE.RenderableVertex();this.v2 = new THREE.RenderableVertex();this.vertexColors = [ new THREE.Color(), new THREE.Color() ];this.material = null;this.z = 0;this.renderOrder = 0;};//THREE.RenderableSprite = function () {this.id = 0;this.object = null;this.x = 0;this.y = 0;this.z = 0;this.rotation = 0;this.scale = new THREE.Vector2();this.material = null;this.renderOrder = 0;};//THREE.Projector = function () {var _object, _objectCount, _objectPool = [], _objectPoolLength = 0,_vertex, _vertexCount, _vertexPool = [], _vertexPoolLength = 0,_face, _faceCount, _facePool = [], _facePoolLength = 0,_line, _lineCount, _linePool = [], _linePoolLength = 0,_sprite, _spriteCount, _spritePool = [], _spritePoolLength = 0,_renderData = { objects: [], lights: [], elements: [] },_vector3 = new THREE.Vector3(),_vector4 = new THREE.Vector4(),_clipBox = new THREE.Box3( new THREE.Vector3( - 1, - 1, - 1 ), new THREE.Vector3( 1, 1, 1 ) ),_boundingBox = new THREE.Box3(),_points3 = new Array( 3 ),_points4 = new Array( 4 ),_viewMatrix = new THREE.Matrix4(),_viewProjectionMatrix = new THREE.Matrix4(),_modelMatrix,_modelViewProjectionMatrix = new THREE.Matrix4(),_normalMatrix = new THREE.Matrix3(),_frustum = new THREE.Frustum(),_clippedVertex1PositionScreen = new THREE.Vector4(),_clippedVertex2PositionScreen = new THREE.Vector4();//this.projectVector = function ( vector, camera ) {console.warn( 'THREE.Projector: .projectVector() is now vector.project().' );vector.project( camera );};this.unprojectVector = function ( vector, camera ) {console.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );vector.unproject( camera );};this.pickingRay = function ( vector, camera ) {console.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );};//var RenderList = function () {var normals = [];var uvs = [];var object = null;var material = null;var normalMatrix = new THREE.Matrix3();function setObject( value ) {object = value;material = object.material;normalMatrix.getNormalMatrix( object.matrixWorld );normals.length = 0;uvs.length = 0;}function projectVertex( vertex ) {var position = vertex.position;var positionWorld = vertex.positionWorld;var positionScreen = vertex.positionScreen;positionWorld.copy( position ).applyMatrix4( _modelMatrix );positionScreen.copy( positionWorld ).applyMatrix4( _viewProjectionMatrix );var invW = 1 / positionScreen.w;positionScreen.x *= invW;positionScreen.y *= invW;positionScreen.z *= invW;vertex.visible = positionScreen.x >= - 1 && positionScreen.x <= 1 && positionscreen.y>= - 1 && positionScreen.y <= 1 && positionscreen.z>= - 1 && positionScreen.z <= 0 1 2 3 1; } function pushvertex( x, y, z ) { _vertex="getNextVertexInPool();" _vertex.position.set( ); projectvertex( pushnormal( normals.push( pushuv( y uvs.push( checktrianglevisibility( v1, v2, v3 if ( v1.visible="==" true || v2.visible="==" v3.visible="==" return true; _points3[ ]="v1.positionScreen;" _clipbox.intersectsbox( _boundingbox.setfrompoints( _points3 checkbackfaceculling( v3.positionscreen.x - v1.positionscreen.x * v2.positionscreen.y v1.positionscreen.y v3.positionscreen.y v2.positionscreen.x < 0; pushline( a, b var v1="_vertexPool[" a ]; v2="_vertexPool[" _line="getNextLineInPool();" _line.id="object.id;" _line.v1.copy( _line.v2.copy( _line.z="(" v1.positionscreen.z + v2.positionscreen.z 2; _line.renderorder="object.renderOrder;" _line.material="object.material;" _renderdata.elements.push( pushtriangle( b, c false return; material.side="==" three.doubleside _face="getNextFaceInPool();" _face.id="object.id;" _face.v1.copy( _face.v2.copy( _face.v3.copy( _face.z="(" v3.positionscreen.z 3; _face.renderorder="object.renderOrder;" use first vertex normal as face _face.normalmodel.fromarray( normals, _face.normalmodel.applymatrix3( normalmatrix ).normalize(); for i="0;" ++ normal.fromarray( arguments[ normal.applymatrix3( uv="_face.uvs[" uv.fromarray( uvs, _face.vertexnormalslength="3;" _face.material="object.material;" setobject: setobject, projectvertex: projectvertex, checktrianglevisibility: checktrianglevisibility, checkbackfaceculling: checkbackfaceculling, pushvertex: pushvertex, pushnormal: pushnormal, pushuv: pushuv, pushline: pushline, pushtriangle: pushtriangle }; renderlist="new" renderlist(); this.projectscene="function" scene, camera, sortobjects, sortelements _facecount="0;" _linecount="0;" _spritecount="0;" _renderdata.elements.length="0;" scene.autoupdate="==" scene.updatematrixworld(); camera.parent="==" null camera.updatematrixworld(); _viewmatrix.copy( camera.matrixworldinverse.getinverse( camera.matrixworld _viewprojectionmatrix.multiplymatrices( camera.projectionmatrix, _viewmatrix _frustum.setfrommatrix( _viewprojectionmatrix _objectcount="0;" _renderdata.objects.length="0;" _renderdata.lights.length="0;" addobject( object _object="getNextObjectInPool();" _object.id="object.id;" _object.object="object;" _vector3.setfrommatrixposition( object.matrixworld _vector3.applymatrix4( _object.z="_vector3.z;" _object.renderorder="object.renderOrder;" _renderdata.objects.push( scene.traversevisible( instanceof three.light _renderdata.lights.push( else three.mesh three.line object.material.visible="==" object.frustumculled="==" && _frustum.intersectsobject( three.sprite _frustum.intersectssprite( sortobjects="==" _renderdata.objects.sort( paintersort o="0," ol="_renderData.objects.length;" ol; ].object; geometry="object.geometry;" renderlist.setobject( _modelmatrix="object.matrixWorld;" _vertexcount="0;" three.buffergeometry attributes="geometry.attributes;" groups="geometry.groups;" attributes.position="==" undefined continue; positions="attributes.position.array;" l="positions.length;" l; renderlist.pushvertex( positions[ ], attributes.normal !="=" normals="attributes.normal.array;" renderlist.pushnormal( normals[ attributes.uv uvs="attributes.uv.array;" renderlist.pushuv( uvs[ geometry.index indices="geometry.index.array;" groups.length> 0 ) {for ( var g = 0; g < groups.length; g ++ ) {var group = groups[ g ];for ( var i = group.start, l = group.start + group.count; i < l; i += 3 ) {renderList.pushTriangle( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );}}} else {for ( var i = 0, l = indices.length; i < l; i += 3 ) {renderList.pushTriangle( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );}}} else {for ( var i = 0, l = positions.length / 3; i < l; i += 3 ) {renderList.pushTriangle( i, i + 1, i + 2 );}}} else if ( geometry instanceof THREE.Geometry ) {var vertices = geometry.vertices;var faces = geometry.faces;var faceVertexUvs = geometry.faceVertexUvs[ 0 ];_normalMatrix.getNormalMatrix( _modelMatrix );var material = object.material;var isFaceMaterial = material instanceof THREE.MultiMaterial;var objectMaterials = isFaceMaterial === true ? object.material : null;for ( var v = 0, vl = vertices.length; v < vl; v ++ ) {var vertex = vertices[ v ];_vector3.copy( vertex );if ( material.morphTargets === true ) {var morphTargets = geometry.morphTargets;var morphInfluences = object.morphTargetInfluences;for ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {var influence = morphInfluences[ t ];if ( influence === 0 ) continue;var target = morphTargets[ t ];var targetVertex = target.vertices[ v ];_vector3.x += ( targetVertex.x - vertex.x ) * influence;_vector3.y += ( targetVertex.y - vertex.y ) * influence;_vector3.z += ( targetVertex.z - vertex.z ) * influence;}}renderList.pushVertex( _vector3.x, _vector3.y, _vector3.z );}for ( var f = 0, fl = faces.length; f < fl; f ++ ) {var face = faces[ f ];material = isFaceMaterial === true ? objectMaterials.materials[ face.materialIndex ] : object.material;if ( material === undefined ) continue;var side = material.side;var v1 = _vertexPool[ face.a ];var v2 = _vertexPool[ face.b ];var v3 = _vertexPool[ face.c ];if ( renderList.checkTriangleVisibility( v1, v2, v3 ) === false ) continue;var visible = renderList.checkBackfaceCulling( v1, v2, v3 );if ( side !== THREE.DoubleSide ) {if ( side === THREE.FrontSide && visible === false ) continue;if ( side === THREE.BackSide && visible === true ) continue;}_face = getNextFaceInPool();_face.id = object.id;_face.v1.copy( v1 );_face.v2.copy( v2 );_face.v3.copy( v3 );_face.normalModel.copy( face.normal );if ( visible === false && ( side === THREE.BackSide || side === THREE.DoubleSide ) ) {_face.normalModel.negate();}_face.normalModel.applyMatrix3( _normalMatrix ).normalize();var faceVertexNormals = face.vertexNormals;for ( var n = 0, nl = Math.min( faceVertexNormals.length, 3 ); n < nl; n ++ ) {var normalModel = _face.vertexNormalsModel[ n ];normalModel.copy( faceVertexNormals[ n ] );if ( visible === false && ( side === THREE.BackSide || side === THREE.DoubleSide ) ) {normalModel.negate();}normalModel.applyMatrix3( _normalMatrix ).normalize();}_face.vertexNormalsLength = faceVertexNormals.length;var vertexUvs = faceVertexUvs[ f ];if ( vertexUvs !== undefined ) {for ( var u = 0; u < 3; u ++ ) {_face.uvs[ u ].copy( vertexUvs[ u ] );}}_face.color = face.color;_face.material = material;_face.z = ( v1.positionScreen.z + v2.positionScreen.z + v3.positionScreen.z ) / 3;_face.renderOrder = object.renderOrder;_renderData.elements.push( _face );}}} else if ( object instanceof THREE.Line ) {if ( geometry instanceof THREE.BufferGeometry ) {var attributes = geometry.attributes;if ( attributes.position !== undefined ) {var positions = attributes.position.array;for ( var i = 0, l = positions.length; i < l; i += 3 ) {renderList.pushVertex( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] );}if ( geometry.index !== null ) {var indices = geometry.index.array;for ( var i = 0, l = indices.length; i < l; i += 2 ) {renderList.pushLine( indices[ i ], indices[ i + 1 ] );}} else {var step = object instanceof THREE.LineSegments ? 2 : 1;for ( var i = 0, l = ( positions.length / 3 ) - 1; i < l; i += step ) {renderList.pushLine( i, i + 1 );}}}} else if ( geometry instanceof THREE.Geometry ) {_modelViewProjectionMatrix.multiplyMatrices( _viewProjectionMatrix, _modelMatrix );var vertices = object.geometry.vertices;if ( vertices.length === 0 ) continue;v1 = getNextVertexInPool();v1.positionScreen.copy( vertices[ 0 ] ).applyMatrix4( _modelViewProjectionMatrix );var step = object instanceof THREE.LineSegments ? 2 : 1;for ( var v = 1, vl = vertices.length; v < vl; v ++ ) {v1 = getNextVertexInPool();v1.positionScreen.copy( vertices[ v ] ).applyMatrix4( _modelViewProjectionMatrix );if ( ( v + 1 ) % step > 0 ) continue;v2 = _vertexPool[ _vertexCount - 2 ];_clippedVertex1PositionScreen.copy( v1.positionScreen );_clippedVertex2PositionScreen.copy( v2.positionScreen );if ( clipLine( _clippedVertex1PositionScreen, _clippedVertex2PositionScreen ) === true ) {// Perform the perspective divide_clippedVertex1PositionScreen.multiplyScalar( 1 / _clippedVertex1PositionScreen.w );_clippedVertex2PositionScreen.multiplyScalar( 1 / _clippedVertex2PositionScreen.w );_line = getNextLineInPool();_line.id = object.id;_line.v1.positionScreen.copy( _clippedVertex1PositionScreen );_line.v2.positionScreen.copy( _clippedVertex2PositionScreen );_line.z = Math.max( _clippedVertex1PositionScreen.z, _clippedVertex2PositionScreen.z );_line.renderOrder = object.renderOrder;_line.material = object.material;if ( object.material.vertexColors === THREE.VertexColors ) {_line.vertexColors[ 0 ].copy( object.geometry.colors[ v ] );_line.vertexColors[ 1 ].copy( object.geometry.colors[ v - 1 ] );}_renderData.elements.push( _line );}}}} else if ( object instanceof THREE.Sprite ) {_vector4.set( _modelMatrix.elements[ 12 ], _modelMatrix.elements[ 13 ], _modelMatrix.elements[ 14 ], 1 );_vector4.applyMatrix4( _viewProjectionMatrix );var invW = 1 / _vector4.w;_vector4.z *= invW;if ( _vector4.z >= - 1 && _vector4.z <= 0 1 5 12 13 ) { _sprite="getNextSpriteInPool();" _sprite.id="object.id;" _sprite.x="_vector4.x" * invw; _sprite.y="_vector4.y" _sprite.z="_vector4.z;" _sprite.renderorder="object.renderOrder;" _sprite.object="object;" _sprite.rotation="object.rotation;" _sprite.scale.x="object.scale.x" math.abs( - ( _vector4.x + camera.projectionmatrix.elements[ ] _vector4.w ); _sprite.scale.y="object.scale.y" _vector4.y _sprite.material="object.material;" _renderdata.elements.push( } if sortelements="==" true _renderdata.elements.sort( paintersort return _renderdata; }; pools function getnextobjectinpool() _objectcount="==" _objectpoollength var object="new" three.renderableobject(); _objectpool.push( ++; object; _objectpool[ ++ ]; getnextvertexinpool() _vertexcount="==" _vertexpoollength vertex="new" three.renderablevertex(); _vertexpool.push( vertex; _vertexpool[ getnextfaceinpool() _facecount="==" _facepoollength face="new" three.renderableface(); _facepool.push( face; _facepool[ getnextlineinpool() _linecount="==" _linepoollength line="new" three.renderableline(); _linepool.push( line; _linepool[ getnextspriteinpool() _spritecount="==" _spritepoollength sprite="new" three.renderablesprite(); _spritepool.push( sprite; _spritepool[ paintersort( a, b a.renderorder !="=" b.renderorder b.renderorder; else a.z b.z a.z; a.id b.id b.id; 0; clipline( s1, s2 alpha1="0," alpha2="1," calculate the boundary coordinate of each for near and far clip planes, z="-1" respectively. bc1near="s1.z" s1.w, bc2near="s2.z" s2.w, bc1far="-" s1.z bc2far="-" s2.z s2.w;>= 0 && bc2near >= 0 && bc1far >= 0 && bc2far >= 0 ) {// Both vertices lie entirely within all clip planes.return true;} else if ( ( bc1near < 0 && bc2near < 0 ) || ( bc1far < 0 && bc2far < 0 ) ) {// Both vertices lie entirely outside one of the clip planes.return false;} else {// The line segment spans at least one clip plane.if ( bc1near < 0 ) {// v1 lies outside the near plane, v2 insidealpha1 = Math.max( alpha1, bc1near / ( bc1near - bc2near ) );} else if ( bc2near < 0 ) {// v2 lies outside the near plane, v1 insidealpha2 = Math.min( alpha2, bc1near / ( bc1near - bc2near ) );}if ( bc1far < 0 ) {// v1 lies outside the far plane, v2 insidealpha1 = Math.max( alpha1, bc1far / ( bc1far - bc2far ) );} else if ( bc2far < 0 ) {// v2 lies outside the far plane, v2 insidealpha2 = Math.min( alpha2, bc1far / ( bc1far - bc2far ) );}if ( alpha2 < alpha1 ) {// The line segment spans two boundaries, but is outside both of them.// (This can't happen when we're only clipping against just near/far but good//  to leave the check here for future usage if other clip planes are added.)return false;} else {// Update the s1 and s2 vertices to match the clipped line segment.s1.lerp( s2, alpha1 );s2.lerp( s1, 1 - alpha2 );return true;}}}};</=></=></=></=>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/lib/CanvasRenderer.js"/>
      <url>/lib/three/lib/CanvasRenderer.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>/** * @author mrdoob / http://mrdoob.com/ */THREE.SpriteCanvasMaterial = function ( parameters ) {THREE.Material.call( this );this.type = 'SpriteCanvasMaterial';this.color = new THREE.Color( 0xffffff );this.program = function ( context, color ) {};this.setValues( parameters );};THREE.SpriteCanvasMaterial.prototype = Object.create( THREE.Material.prototype );THREE.SpriteCanvasMaterial.prototype.constructor = THREE.SpriteCanvasMaterial;THREE.SpriteCanvasMaterial.prototype.clone = function () {var material = new THREE.SpriteCanvasMaterial();material.copy( this );material.color.copy( this.color );material.program = this.program;return material;};//THREE.CanvasRenderer = function ( parameters ) {console.log( 'THREE.CanvasRenderer', THREE.REVISION );parameters = parameters || {};var _this = this,_renderData, _elements, _lights,_projector = new THREE.Projector(),_canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElement( 'canvas' ),_canvasWidth = _canvas.width,_canvasHeight = _canvas.height,_canvasWidthHalf = Math.floor( _canvasWidth / 2 ),_canvasHeightHalf = Math.floor( _canvasHeight / 2 ),_viewportX = 0,_viewportY = 0,_viewportWidth = _canvasWidth,_viewportHeight = _canvasHeight,_pixelRatio = 1,_context = _canvas.getContext( '2d', {alpha: parameters.alpha === true} ),_clearColor = new THREE.Color( 0x000000 ),_clearAlpha = parameters.alpha === true ? 0 : 1,_contextGlobalAlpha = 1,_contextGlobalCompositeOperation = 0,_contextStrokeStyle = null,_contextFillStyle = null,_contextLineWidth = null,_contextLineCap = null,_contextLineJoin = null,_contextLineDash = [],_camera,_v1, _v2, _v3, _v4,_v5 = new THREE.RenderableVertex(),_v6 = new THREE.RenderableVertex(),_v1x, _v1y, _v2x, _v2y, _v3x, _v3y,_v4x, _v4y, _v5x, _v5y, _v6x, _v6y,_color = new THREE.Color(),_color1 = new THREE.Color(),_color2 = new THREE.Color(),_color3 = new THREE.Color(),_color4 = new THREE.Color(),_diffuseColor = new THREE.Color(),_emissiveColor = new THREE.Color(),_lightColor = new THREE.Color(),_patterns = {},_image, _uvs,_uv1x, _uv1y, _uv2x, _uv2y, _uv3x, _uv3y,_clipBox = new THREE.Box2(),_clearBox = new THREE.Box2(),_elemBox = new THREE.Box2(),_ambientLight = new THREE.Color(),_directionalLights = new THREE.Color(),_pointLights = new THREE.Color(),_vector3 = new THREE.Vector3(), // Needed for PointLight_centroid = new THREE.Vector3(),_normal = new THREE.Vector3(),_normalViewMatrix = new THREE.Matrix3();/* TODO_canvas.mozImageSmoothingEnabled = false;_canvas.webkitImageSmoothingEnabled = false;_canvas.msImageSmoothingEnabled = false;_canvas.imageSmoothingEnabled = false;*/// dash+gap fallbacks for Firefox and everything elseif ( _context.setLineDash === undefined ) {_context.setLineDash = function () {};}this.domElement = _canvas;this.autoClear = true;this.sortObjects = true;this.sortElements = true;this.info = {render: {vertices: 0,faces: 0}};// WebGLRenderer compatibilitythis.supportsVertexTextures = function () {};this.setFaceCulling = function () {};// APIthis.getContext = function () {return _context;};this.getContextAttributes = function () {return _context.getContextAttributes();};this.getPixelRatio = function () {return _pixelRatio;};this.setPixelRatio = function ( value ) {if ( value !== undefined ) _pixelRatio = value;};this.setSize = function ( width, height, updateStyle ) {_canvasWidth = width * _pixelRatio;_canvasHeight = height * _pixelRatio;_canvas.width = _canvasWidth;_canvas.height = _canvasHeight;_canvasWidthHalf = Math.floor( _canvasWidth / 2 );_canvasHeightHalf = Math.floor( _canvasHeight / 2 );if ( updateStyle !== false ) {_canvas.style.width = width + 'px';_canvas.style.height = height + 'px';}_clipBox.min.set( - _canvasWidthHalf, - _canvasHeightHalf );_clipBox.max.set(   _canvasWidthHalf,   _canvasHeightHalf );_clearBox.min.set( - _canvasWidthHalf, - _canvasHeightHalf );_clearBox.max.set(   _canvasWidthHalf,   _canvasHeightHalf );_contextGlobalAlpha = 1;_contextGlobalCompositeOperation = 0;_contextStrokeStyle = null;_contextFillStyle = null;_contextLineWidth = null;_contextLineCap = null;_contextLineJoin = null;this.setViewport( 0, 0, width, height );};this.setViewport = function ( x, y, width, height ) {_viewportX = x * _pixelRatio;_viewportY = y * _pixelRatio;_viewportWidth = width * _pixelRatio;_viewportHeight = height * _pixelRatio;};this.setScissor = function () {};this.setScissorTest = function () {};this.setClearColor = function ( color, alpha ) {_clearColor.set( color );_clearAlpha = alpha !== undefined ? alpha : 1;_clearBox.min.set( - _canvasWidthHalf, - _canvasHeightHalf );_clearBox.max.set(   _canvasWidthHalf,   _canvasHeightHalf );};this.setClearColorHex = function ( hex, alpha ) {console.warn( 'THREE.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead.' );this.setClearColor( hex, alpha );};this.getClearColor = function () {return _clearColor;};this.getClearAlpha = function () {return _clearAlpha;};this.getMaxAnisotropy = function () {return 0;};this.clear = function () {if ( _clearBox.isEmpty() === false ) {_clearBox.intersect( _clipBox );_clearBox.expandByScalar( 2 );_clearBox.min.x = _clearBox.min.x + _canvasWidthHalf;_clearBox.min.y =  - _clearBox.min.y + _canvasHeightHalf;// higher y value !_clearBox.max.x = _clearBox.max.x + _canvasWidthHalf;_clearBox.max.y =  - _clearBox.max.y + _canvasHeightHalf;// lower y value !if ( _clearAlpha < 1 ) {_context.clearRect(_clearBox.min.x | 0,_clearBox.max.y | 0,( _clearBox.max.x - _clearBox.min.x ) | 0,( _clearBox.min.y - _clearBox.max.y ) | 0);}if ( _clearAlpha > 0 ) {setBlending( THREE.NormalBlending );setOpacity( 1 );setFillStyle( 'rgba(' + Math.floor( _clearColor.r * 255 ) + ',' + Math.floor( _clearColor.g * 255 ) + ',' + Math.floor( _clearColor.b * 255 ) + ',' + _clearAlpha + ')' );_context.fillRect(_clearBox.min.x | 0,_clearBox.max.y | 0,( _clearBox.max.x - _clearBox.min.x ) | 0,( _clearBox.min.y - _clearBox.max.y ) | 0);}_clearBox.makeEmpty();}};// compatibilitythis.clearColor = function () {};this.clearDepth = function () {};this.clearStencil = function () {};this.render = function ( scene, camera ) {if ( camera instanceof THREE.Camera === false ) {console.error( 'THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.' );return;}var background = scene.background;if ( background && background.isColor ) {setFillStyle( 'rgb(' + Math.floor( background.r * 255 ) + ',' + Math.floor( background.g * 255 ) + ',' + Math.floor( background.b * 255 ) + ')' );_context.fillRect( 0, 0, _canvasWidth, _canvasHeight );} else if ( this.autoClear === true ) {this.clear();}_this.info.render.vertices = 0;_this.info.render.faces = 0;_context.setTransform( _viewportWidth / _canvasWidth, 0, 0, - _viewportHeight / _canvasHeight, _viewportX, _canvasHeight - _viewportY );_context.translate( _canvasWidthHalf, _canvasHeightHalf );_renderData = _projector.projectScene( scene, camera, this.sortObjects, this.sortElements );_elements = _renderData.elements;_lights = _renderData.lights;_camera = camera;_normalViewMatrix.getNormalMatrix( camera.matrixWorldInverse );/* DEBUGsetFillStyle( 'rgba( 0, 255, 255, 0.5 )' );_context.fillRect( _clipBox.min.x, _clipBox.min.y, _clipBox.max.x - _clipBox.min.x, _clipBox.max.y - _clipBox.min.y );*/calculateLights();for ( var e = 0, el = _elements.length; e < el; e ++ ) {var element = _elements[ e ];var material = element.material;if ( material === undefined || material.opacity === 0 ) continue;_elemBox.makeEmpty();if ( element instanceof THREE.RenderableSprite ) {_v1 = element;_v1.x *= _canvasWidthHalf; _v1.y *= _canvasHeightHalf;renderSprite( _v1, element, material );} else if ( element instanceof THREE.RenderableLine ) {_v1 = element.v1; _v2 = element.v2;_v1.positionScreen.x *= _canvasWidthHalf; _v1.positionScreen.y *= _canvasHeightHalf;_v2.positionScreen.x *= _canvasWidthHalf; _v2.positionScreen.y *= _canvasHeightHalf;_elemBox.setFromPoints( [_v1.positionScreen,_v2.positionScreen] );if ( _clipBox.intersectsBox( _elemBox ) === true ) {renderLine( _v1, _v2, element, material );}} else if ( element instanceof THREE.RenderableFace ) {_v1 = element.v1; _v2 = element.v2; _v3 = element.v3;if ( _v1.positionScreen.z < - 1 || _v1.positionScreen.z > 1 ) continue;if ( _v2.positionScreen.z < - 1 || _v2.positionScreen.z > 1 ) continue;if ( _v3.positionScreen.z < - 1 || _v3.positionScreen.z > 1 ) continue;_v1.positionScreen.x *= _canvasWidthHalf; _v1.positionScreen.y *= _canvasHeightHalf;_v2.positionScreen.x *= _canvasWidthHalf; _v2.positionScreen.y *= _canvasHeightHalf;_v3.positionScreen.x *= _canvasWidthHalf; _v3.positionScreen.y *= _canvasHeightHalf;if ( material.overdraw > 0 ) {expand( _v1.positionScreen, _v2.positionScreen, material.overdraw );expand( _v2.positionScreen, _v3.positionScreen, material.overdraw );expand( _v3.positionScreen, _v1.positionScreen, material.overdraw );}_elemBox.setFromPoints( [_v1.positionScreen,_v2.positionScreen,_v3.positionScreen] );if ( _clipBox.intersectsBox( _elemBox ) === true ) {renderFace3( _v1, _v2, _v3, 0, 1, 2, element, material );}}/* DEBUGsetLineWidth( 1 );setStrokeStyle( 'rgba( 0, 255, 0, 0.5 )' );_context.strokeRect( _elemBox.min.x, _elemBox.min.y, _elemBox.max.x - _elemBox.min.x, _elemBox.max.y - _elemBox.min.y );*/_clearBox.union( _elemBox );}/* DEBUGsetLineWidth( 1 );setStrokeStyle( 'rgba( 255, 0, 0, 0.5 )' );_context.strokeRect( _clearBox.min.x, _clearBox.min.y, _clearBox.max.x - _clearBox.min.x, _clearBox.max.y - _clearBox.min.y );*/_context.setTransform( 1, 0, 0, 1, 0, 0 );};//function calculateLights() {_ambientLight.setRGB( 0, 0, 0 );_directionalLights.setRGB( 0, 0, 0 );_pointLights.setRGB( 0, 0, 0 );for ( var l = 0, ll = _lights.length; l < ll; l ++ ) {var light = _lights[ l ];var lightColor = light.color;if ( light instanceof THREE.AmbientLight ) {_ambientLight.add( lightColor );} else if ( light instanceof THREE.DirectionalLight ) {// for sprites_directionalLights.add( lightColor );} else if ( light instanceof THREE.PointLight ) {// for sprites_pointLights.add( lightColor );}}}function calculateLight( position, normal, color ) {for ( var l = 0, ll = _lights.length; l < ll; l ++ ) {var light = _lights[ l ];_lightColor.copy( light.color );if ( light instanceof THREE.DirectionalLight ) {var lightPosition = _vector3.setFromMatrixPosition( light.matrixWorld ).normalize();var amount = normal.dot( lightPosition );if ( amount ]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/fancybox/source/jquery.fancybox.min.js"/>
      <url>/lib/fancybox/source/jquery.fancybox.min.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>// ==================================================// fancyBox v3.5.7//// Licensed GPLv3 for open source use// or fancyBox Commercial License for commercial use//// http://fancyapps.com/fancybox/// Copyright 2019 fancyApps//// ==================================================!function(t,e,n,o){"use strict";function i(t,e){var o,i,a,s=[],r=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=h(t.data.options,e)),o=e.$target||n(t.currentTarget).trigger("blur"),(a=n.fancybox.getInstance())&&a.$trigger&&a.$trigger.is(o)||(e.selector?s=n(e.selector):(i=o.attr("data-fancybox")||"",i?(s=t.data?t.data.items:[],s=s.length?s.filter('[data-fancybox="'+i+'"]'):n('[data-fancybox="'+i+'"]')):s=[o]),r=n(s).index(o),r<0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return void console.info("fancybox already initialized");var a="{closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe" id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlslist="nodownload" poster><source src type>Sorry, your browser doesn\'t support embedded videos, <a href>download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar"></div><div class="fancybox-navigation"></div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p></p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title href="javascript:;" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title><div><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title><div><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title><svg xmlns="http://www.w3.org/2000/svg" version="1" viewbox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},s=n(t),r=n(e),c=0,l=function(t){return t&&t.hasOwnProperty&&t instanceof n},d=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),u=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),f=function(){var t,n=e.createElement("fakeelement"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in o)if(void 0!==n.style[t])return o[t];return"transitionend"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},h=function(t,e){var o=n.extend(!0,{},t,e);return n.each(e,function(t,e){n.isArray(e)&&(o[t]=e)}),o},g=function(t){var o,i;return!(!t||t.ownerDocument!==e)&&(n(".fancybox-container").css("pointer-events","none"),o={x:t.getBoundingClientRect().left+t.offsetWidth/2,y:t.getBoundingClientRect().top+t.offsetHeight/2},i=e.elementFromPoint(o.x,o.y)===t,n(".fancybox-container").css("pointer-events",""),i)},b=function(t,e,o){var i=this;i.opts=h({index:o},n.fancybox.defaults),n.isPlainObject(e)&&(i.opts=h(i.opts,e)),n.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++c,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(t),i.group.length&&i.init()};n.extend(b.prototype,{init:function(){var o,i,a=this,s=a.group[a.currIndex],r=s.opts;r.closeExisting&&n.fancybox.close(!0),n("body").addClass("fancybox-active"),!n.fancybox.getInstance()&&!1!==r.hideScrollbar&&!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(t.innerWidth-e.documentElement.clientWidth)+"px;}</style>"),n("body").addClass("compensate-for-scrollbar")),i="",n.each(r.buttons,function(t,e){i+=r.btnTpl[e]||""}),o=n(a.translate(a,r.baseTpl.replace("",i).replace("",r.btnTpl.arrowLeft+r.btnTpl.arrowRight))).attr("id","fancybox-container-"+a.id).addClass(r.baseClass).data("FancyBox",a).appendTo(r.parentEl),a.$refs={container:o},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){a.$refs[t]=o.find(".fancybox-"+t)}),a.trigger("onInit"),a.activate(),a.jumpTo(a.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,o=this,i=n.makeArray(t);n.each(i,function(t,e){var i,a,s,r,c,l={},d={};n.isPlainObject(e)?(l=e,d=e.opts||e):"object"===n.type(e)&&n(e).length?(i=n(e),d=i.data()||{},d=n.extend(!0,{},d,d.options),d.$orig=i,l.src=o.opts.src||d.src||i.attr("href"),l.type||l.src||(l.type="inline",l.src=e)):l={type:"html",src:e+""},l.opts=n.extend(!0,{},o.opts,d),n.isArray(d.buttons)&&(l.opts.buttons=d.buttons),n.fancybox.isMobile&&l.opts.mobile&&(l.opts=h(l.opts,l.opts.mobile)),a=l.type||l.opts.type,r=l.src||"",!a&&r&&((s=r.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(a="video",l.opts.video.format||(l.opts.video.format="video/"+("ogv"===s[1]?"ogg":s[1]))):r.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a="image":r.match(/\.(pdf)((\?|#).*)?$/i)?(a="iframe",l=n.extend(!0,l,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===r.charAt(0)&&(a="inline")),a?l.type=a:o.trigger("objectNeedsType",l),l.contentType||(l.contentType=n.inArray(l.type,["html","inline","ajax"])>-1?"html":l.type),l.index=o.group.length,"auto"==l.opts.smallBtn&&(l.opts.smallBtn=n.inArray(l.type,["html","inline","ajax"])>-1),"auto"===l.opts.toolbar&&(l.opts.toolbar=!l.opts.smallBtn),l.$thumb=l.opts.$thumb||null,l.opts.$trigger&&l.index===o.opts.index&&(l.$thumb=l.opts.$trigger.find("img:first"),l.$thumb.length&&(l.opts.$orig=l.opts.$trigger)),l.$thumb&&l.$thumb.length||!l.opts.$orig||(l.$thumb=l.opts.$orig.find("img:first")),l.$thumb&&!l.$thumb.length&&(l.$thumb=null),l.thumb=l.opts.thumb||(l.$thumb?l.$thumb[0].src:null),"function"===n.type(l.opts.caption)&&(l.opts.caption=l.opts.caption.apply(e,[o,l])),"function"===n.type(o.opts.caption)&&(l.opts.caption=o.opts.caption.apply(e,[o,l])),l.opts.caption instanceof n||(l.opts.caption=void 0===l.opts.caption?"":l.opts.caption+""),"ajax"===l.type&&(c=r.split(/\s+/,2),c.length>1&&(l.src=c.shift(),l.opts.filter=c.shift())),l.opts.modal&&(l.opts=n.extend(!0,l.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),o.group.push(l)}),Object.keys(o.slides).length&&(o.updateControls(),(e=o.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var e=this;e.removeEvents(),e.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),e.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),e.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),e.next()}).on("click.fb","[data-fancybox-zoom]",function(t){e[e.isScaledDown()?"scaleToActual":"scaleToFit"]()}),s.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(e.requestId&&u(e.requestId),e.requestId=d(function(){e.update(t)})):(e.current&&"iframe"===e.current.type&&e.$refs.stage.hide(),setTimeout(function(){e.$refs.stage.show(),e.update(t)},n.fancybox.isMobile?600:250))}),r.on("keydown.fb",function(t){var o=n.fancybox?n.fancybox.getInstance():null,i=o.current,a=t.keyCode||t.which;if(9==a)return void(i.opts.trapFocus&&e.focus(t));if(!(!i.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input,textarea,video,audio,select")))return 8===a||27===a?(t.preventDefault(),void e.close(t)):37===a||38===a?(t.preventDefault(),void e.previous()):39===a||40===a?(t.preventDefault(),void e.next()):void e.trigger("afterKeydown",t,a)}),e.group[e.currIndex].opts.idleTime&&(e.idleSecondsCounter=0,r.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){e.idleSecondsCounter=0,e.isIdle&&e.showControls(),e.isIdle=!1}),e.idleInterval=t.setInterval(function(){++e.idleSecondsCounter>=e.group[e.currIndex].opts.idleTime&&!e.isDragging&&(e.isIdle=!0,e.idleSecondsCounter=0,e.hideControls())},1e3))},removeEvents:function(){var e=this;s.off("orientationchange.fb resize.fb"),r.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),e.idleInterval&&(t.clearInterval(e.idleInterval),e.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var o,i,a,s,r,c,l,d,u,f=this,h=f.group.length;if(!(f.isDragging||f.isClosing||f.isAnimating&&f.firstRun)){if(t=parseInt(t,10),!(a=f.current?f.current.opts.loop:f.opts.loop)&&(t<0||t>=h))return!1;if(o=f.firstRun=!Object.keys(f.slides).length,r=f.current,f.prevIndex=f.currIndex,f.prevPos=f.currPos,s=f.createSlide(t),h>1&&((a||s.index<h-1)&&f.createslide(t+1),(a||s.index>0)&&f.createSlide(t-1)),f.current=s,f.currIndex=s.index,f.currPos=s.pos,f.trigger("beforeShow",o),f.updateControls(),s.forcedDuration=void 0,n.isNumeric(e)?s.forcedDuration=e:e=s.opts[o?"animationDuration":"transitionDuration"],e=parseInt(e,10),i=f.isMoved(s),s.$slide.addClass("fancybox-slide--current"),o)return s.opts.animationEffect&&e&&f.$refs.container.css("transition-duration",e+"ms"),f.$refs.container.addClass("fancybox-is-open").trigger("focus"),f.loadSlide(s),void f.preload("image");c=n.fancybox.getTranslate(r.$slide),l=n.fancybox.getTranslate(f.$refs.stage),n.each(f.slides,function(t,e){n.fancybox.stop(e.$slide,!0)}),r.pos!==s.pos&&(r.isComplete=!1),r.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),i?(u=c.left-(r.pos*c.width+r.pos*r.opts.gutter),n.each(f.slides,function(t,o){o.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var i=o.pos*c.width+o.pos*o.opts.gutter;n.fancybox.setTranslate(o.$slide,{top:0,left:i-l.left+u}),o.pos!==s.pos&&o.$slide.addClass("fancybox-slide--"+(o.pos>s.pos?"next":"previous")),p(o.$slide),n.fancybox.animate(o.$slide,{top:0,left:(o.pos-s.pos)*c.width+(o.pos-s.pos)*o.opts.gutter},e,function(){o.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),o.pos===f.currPos&&f.complete()})})):e&&s.opts.transitionEffect&&(d="fancybox-animated fancybox-fx-"+s.opts.transitionEffect,r.$slide.addClass("fancybox-slide--"+(r.pos>s.pos?"next":"previous")),n.fancybox.animate(r.$slide,d,e,function(){r.$slide.removeClass(d).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),s.isLoaded?f.revealContent(s):f.loadSlide(s),f.preload("image")}},createSlide:function(t){var e,o,i=this;return o=t%i.group.length,o=o<0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div class="fancybox-slide">').appendTo(i.$refs.stage),i.slides[t]=n.extend(!0,{},i.group[o],{pos:t,$slide:e,isLoaded:!1}),i.updateSlide(i.slides[t])),i.slides[t]},scaleToActual:function(t,e,o){var i,a,s,r,c,l=this,d=l.current,u=d.$content,f=n.fancybox.getTranslate(d.$slide).width,p=n.fancybox.getTranslate(d.$slide).height,h=d.width,g=d.height;l.isAnimating||l.isMoved()||!u||"image"!=d.type||!d.isLoaded||d.hasError||(l.isAnimating=!0,n.fancybox.stop(u),t=void 0===t?.5*f:t,e=void 0===e?.5*p:e,i=n.fancybox.getTranslate(u),i.top-=n.fancybox.getTranslate(d.$slide).top,i.left-=n.fancybox.getTranslate(d.$slide).left,r=h/i.width,c=g/i.height,a=.5*f-.5*h,s=.5*p-.5*g,h>f&&(a=i.left*r-(t*r-t),a>0&&(a=0),a<f-h&&(a=f-h)),g>p&&(s=i.top*c-(e*c-e),s>0&&(s=0),s<p-g&&(s=p-g)),l.updatecursor(h,g),n.fancybox.animate(u,{top:s,left:a,scalex:r,scaley:c},o||366,function(){l.isanimating=!1}),l.slideshow&&l.slideshow.isactive&&l.slideshow.stop())},scaletofit:function(t){var e,o="this,i=o.current,a=i.$content;o.isAnimating||o.isMoved()||!a||"image"!=i.type||!i.isLoaded||i.hasError||(o.isAnimating=!0,n.fancybox.stop(a),e=o.getFitPos(i),o.updateCursor(e.width,e.height),n.fancybox.animate(a,{top:e.top,left:e.left,scaleX:e.width/a.width(),scaleY:e.height/a.height()},t||366,function(){o.isAnimating=!1}))},getFitPos:function(t){var" e,o,i,a,s="this,r=t.$content,c=t.$slide,l=t.width||t.opts.width,d=t.height||t.opts.height,u={};return!!(t.isLoaded&&r&&r.length)&&(e=n.fancybox.getTranslate(s.$refs.stage).width,o=n.fancybox.getTranslate(s.$refs.stage).height,e-=parseFloat(c.css("paddingLeft"))+parseFloat(c.css("paddingRight"))+parseFloat(r.css("marginLeft"))+parseFloat(r.css("marginRight")),o-=parseFloat(c.css("paddingTop"))+parseFloat(c.css("paddingBottom"))+parseFloat(r.css("marginTop"))+parseFloat(r.css("marginBottom")),l&&d||(l=e,d=o),i=Math.min(1,e/l,o/d),l*=i,d*=i,l">e-.5&&(l=e),d>o-.5&&(d=o),"image"===t.type?(u.top=Math.floor(.5*(o-d))+parseFloat(c.css("paddingTop")),u.left=Math.floor(.5*(e-l))+parseFloat(c.css("paddingLeft"))):"video"===t.contentType&&(a=t.opts.width&&t.opts.height?l/d:t.opts.ratio||16/9,d>l/a?d=l/a:l>d*a&&(l=d*a)),u.width=l,u.height=d,u)},update:function(t){var e=this;n.each(e.slides,function(n,o){e.updateSlide(o,t)})},updateSlide:function(t,e){var o=this,i=t&&t.$content,a=t.width||t.opts.width,s=t.height||t.opts.height,r=t.$slide;o.adjustCaption(t),i&&(a||s||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,o.getFitPos(t)),t.pos===o.currPos&&(o.isAnimating=!1,o.updateCursor())),o.adjustLayout(t),r.length&&(r.trigger("refresh"),t.pos===o.currPos&&o.$refs.toolbar.add(o.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",r.get(0).scrollHeight>r.get(0).clientHeight)),o.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,o=e.current,i=o.$slide;!e.isClosing&&o&&(i.siblings().css({transform:"",opacity:""}),i.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),n.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===t?0:t,function(){i.css({transform:"",opacity:""}),o.isComplete||e.complete()},!1))},isMoved:function(t){var e,o,i=t||this.current;return!!i&&(o=n.fancybox.getTranslate(this.$refs.stage),e=n.fancybox.getTranslate(i.$slide),!i.$slide.hasClass("fancybox-animated")&&(Math.abs(e.top-o.top)>.5||Math.abs(e.left-o.left)>.5))},updateCursor:function(t,e){var o,i,a=this,s=a.current,r=a.$refs.container;s&&!a.isClosing&&a.Guestures&&(r.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=a.canPan(t,e),i=!!o||a.isZoomable(),r.toggleClass("fancybox-is-zoomable",i),n("[data-fancybox-zoom]").prop("disabled",!i),o?r.addClass("fancybox-can-pan"):i&&("zoom"===s.opts.clickContent||n.isFunction(s.opts.clickContent)&&"zoom"==s.opts.clickContent(s))?r.addClass("fancybox-can-zoomIn"):s.opts.touch&&(s.opts.touch.vertical||a.group.length>1)&&"video"!==s.contentType&&r.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this,n=e.current;if(n&&!e.isClosing&&"image"===n.type&&!n.hasError){if(!n.isLoaded)return!0;if((t=e.getFitPos(n))&&(n.width>t.width||n.height>t.height))return!0}return!1},isScaledDown:function(t,e){var o=this,i=!1,a=o.current,s=a.$content;return void 0!==t&&void 0!==e?i=t<a.width&&e<a.height:s&&(i=n.fancybox.gettranslate(s),i=i.width<a.width&&i.height<a.height),i},canpan:function(t,e){var o="this,i=o.current,a=null,s=!1;return"image"===i.type&&(i.isComplete||t&&e)&&!i.hasError&&(s=o.getFitPos(i),void" 0!="=t&&void">1.5||Math.abs(a.height-s.height)>1.5)),s},loadSlide:function(t){var e,o,i,a=this;if(!t.isLoading&&!t.isLoaded){if(t.isLoading=!0,!1===a.trigger("beforeLoad",t))return t.isLoading=!1,!1;switch(e=t.type,o=t.$slide,o.off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":a.setImage(t);break;case"iframe":a.setIframe(t);break;case"html":a.setContent(t,t.src||t.content);break;case"video":a.setContent(t,t.opts.video.tpl.replace(/\{\{src\}\}/gi,t.src).replace("",t.opts.videoFormat||t.opts.video.format||"").replace("",t.thumb||""));break;case"inline":n(t.src).length?a.setContent(t,n(t.src)):a.setError(t);break;case"ajax":a.showLoading(t),i=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&a.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&a.setError(t)}})),o.one("onReset",function(){i.abort()});break;default:a.setError(t)}return!0}},setImage:function(t){var o,i=this;setTimeout(function(){var e=t.$image;i.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||i.showLoading(t)},50),i.checkSrcset(t),t.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,o=e.createElement("img"),o.onerror=function(){n(this).remove(),t.$ghost=null},o.onload=function(){i.afterLoad(t)},t.$ghost=n(o).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),i.setBigImage(t)},checkSrcset:function(e){var n,o,i,a,s=e.opts.srcset||e.opts.image.srcset;if(s){i=t.devicePixelRatio||1,a=t.innerWidth*i,o=s.split(",").map(function(t){var e={};return t.trim().split(/\s+/).forEach(function(t,n){var o=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;o&&(e.value=o,e.postfix=t[t.length-1])}),e}),o.sort(function(t,e){return t.value-e.value});for(var r=0;r<o.length;r++){var c="o[r];if("w"===c.postfix&&c.value">=a||"x"===c.postfix&&c.value>=i){n=c;break}}!n&&o.length&&(n=o[o.length-1]),n&&(e.src=n.url,e.width&&e.height&&"w"==n.postfix&&(e.height=e.width/e.height*n.value,e.width=n.value),e.opts.srcset=s)}},setBigImage:function(t){var o=this,i=e.createElement("img"),a=n(i);t.$image=a.one("error",function(){o.setError(t)}).one("load",function(){var e;t.$ghost||(o.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),o.afterLoad(t)),o.isClosing||(t.opts.srcset&&(e=t.opts.sizes,e&&"auto"!==e||(e=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),a.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!o.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),o.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(i.complete||"complete"==i.readyState)&&a.naturalWidth&&a.naturalHeight?a.trigger("load"):i.error&&a.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,o>0&&(t.width=o,t.height=Math.floor(o*n/e)),i>0&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(t){var e,o=this,i=t.opts.iframe,a=t.$slide;t.$content=n('<div class="fancybox-content'+(i.preload?" fancybox-is-hidden":"")+'"></div>').css(i.css).appendTo(a),a.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(i.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(i.attr).appendTo(t.$content),i.preload?(o.showLoading(t),e.on("load.fb error.fb",function(e){this.isReady=1,t.$slide.trigger("refresh"),o.afterLoad(t)}),a.on("refresh.fb",function(){var n,o,s=t.$content,r=i.css.width,c=i.css.height;if(1===e[0].isReady){try{n=e.contents(),o=n.find("body")}catch(t){}o&&o.length&&o.children().length&&(a.css("overflow","visible"),s.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===r&&(r=Math.ceil(Math.max(o[0].clientWidth,o.outerWidth(!0)))),s.css("width",r||"").css("max-width",""),void 0===c&&(c=Math.ceil(Math.max(o[0].clientHeight,o.outerHeight(!0)))),s.css("height",c||""),a.css("overflow","auto")),s.removeClass("fancybox-is-hidden")}})):o.afterLoad(t),e.attr("src",t.src),a.one("onReset",function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1,t.isRevealed=!1})},setContent:function(t,e){var o=this;o.isClosing||(o.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),l(e)&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&(e=n("<div>").append(n.trim(e)).contents()),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),o.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){var e=this;(t=t||e.current)&&!t.$spinner&&(t.$spinner=n(e.translate(e,e.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){var e=this;(t=t||e.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass("fancybox-caption--separate",a),a&&i&&i.length&&(o.pos!==n.currPos?(e=s.clone().appendTo(s.parent()),e.children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css("padding-bottom",r||""))},adjustLayout:function(t){var e,n,o,i,a=this,s=t||a.current;s.isLoaded&&!0!==s.opts.disableLayoutFix&&(s.$content.css("margin-bottom",""),s.$content.outerHeight()>s.$slide.height()+.5&&(o=s.$slide[0].style["padding-bottom"],i=s.$slide.css("padding-bottom"),parseFloat(i)>0&&(e=s.$slide[0].scrollHeight,s.$slide.css("padding-bottom",0),Math.abs(e-s.$slide[0].scrollHeight)<1&&(n=i),s.$slide.css("padding-bottom",o))),s.$content.css("margin-bottom",n))},revealcontent:function(t){var 0="==t.forcedDuration?i:t.forcedDuration,10),!d&&t.pos===s.currPos&&i||(e=!1),"zoom"===e&&(t.pos===s.currPos&&i&&"image"===t.type&&!t.hasError&&(l=s.getThumbPos(t))?c=s.getFitPos(t):e="fade"),"zoom"===e?(s.isAnimating=!0,c.scaleX=c.width/l.width,c.scaleY=c.height/l.height,a=t.opts.zoomOpacity,"auto"==a&&(a=Math.abs(t.width/t.height-l.width/l.height)" e,o,i,a,s="this,r=t.$slide,c=!1,l=!1,d=s.isMoved(t),u=t.isRevealed;return" t.isrevealed="!0,e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],i=t.opts[s.firstRun?"animationDuration":"transitionDuration"],i=parseInt(void">.1),a&&(l.opacity=.1,c.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),l),p(t.$content),void n.fancybox.animate(t.$content,c,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(t),e?(n.fancybox.stop(r),o="fancybox-slide--"+(t.pos>=s.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,r.addClass(o).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),p(r),"image"!==t.type&&t.$content.hide().show(0),void n.fancybox.animate(r,"fancybox-slide--current",i,function(){r.removeClass(o).css({transform:"",opacity:""}),t.pos===s.currPos&&s.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),u||!d||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(t){var e,o,i,a,s,r=!1,c=t.$thumb;return!(!c||!g(c[0]))&&(e=n.fancybox.getTranslate(c),o=parseFloat(c.css("border-top-width")||0),i=parseFloat(c.css("border-right-width")||0),a=parseFloat(c.css("border-bottom-width")||0),s=parseFloat(c.css("border-left-width")||0),r={top:e.top+o,left:e.left+s,width:e.width-i-s,height:e.height-o-a,scaleX:1,scaleY:1},e.width>0&&e.height>0&&r)},complete:function(){var t,e=this,o=e.current,i={};!e.isMoved()&&o.isLoaded&&(o.isComplete||(o.isComplete=!0,o.$slide.siblings().trigger("onReset"),e.preload("inline"),p(o.$slide),o.$slide.addClass("fancybox-slide--complete"),n.each(e.slides,function(t,o){o.pos>=e.currPos-1&&o.pos<=e.currpos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isanimating=!1,e.updatecursor(),e.trigger("aftershow"),o.opts.video.autostart&&o.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){document.exitfullscreen?document.exitfullscreen():this.webkitexitfullscreen&&this.webkitexitfullscreen(),e.next()}),o.opts.autofocus&&"html"===o.contenttype&&(t=o.$content.find("input[autofocus]:enabled:visible:first"),t.length?t.trigger("focus"):e.focus(null,!0)),o.$slide.scrolltop(0).scrollleft(0))},preload:function(t){var e,n,o="this;o.group.length<2||(n=o.slides[o.currPos+1],e=o.slides[o.currPos-1],e&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,o){var" i,a,s="this,r=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");s.isClosing||(i=!t&&s.current&&s.current.isComplete?s.current.$slide.find("*:visible"+(o?":not(.fancybox-close-small)":"")):s.$refs.container.find("*:visible"),i=i.filter(r).filter(function(){return"hidden"!==n(this).css("visibility")&&!n(this).hasClass("disabled")}),i.length?(a=i.index(e.activeElement),t&&t.shiftKey?(a<0||0==a)&&(t.preventDefault(),i.eq(i.length-1).trigger("focus")):(a<0||a==i.length-1)&&(t&&t.preventDefault(),i.eq(0).trigger("focus"))):s.$refs.container.trigger("focus"))},activate:function(){var" t="this;n(".fancybox-container").each(function(){var" e="n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var" o,i,a,s,r,c,l,u="this,f=u.current,h=function(){u.cleanUp(t)};return!u.isClosing&&(u.isClosing=!0,!1===u.trigger("beforeClose",t)?(u.isClosing=!1,d(function(){u.update()}),!1):(u.removeEvents(),a=f.$content,o=f.opts.animationEffect,i=n.isNumeric(e)?e:o?f.opts.animationDuration:0,f.$slide.removeClass("fancybox-slide--complete" fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!="=t?n.fancybox.stop(f.$slide):o=!1,f.$slide.siblings().trigger("onReset").remove(),i&&u.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",i+"ms"),u.hideLoading(f),u.hideControls(!0),u.updateCursor(),"zoom"!==o||a&&i&&"image"===f.type&&!u.isMoved()&&!f.hasError&&(l=u.getThumbPos(f))||(o="fade"),"zoom"===o?(n.fancybox.stop(a),s=n.fancybox.getTranslate(a),c={top:s.top,left:s.left,scaleX:s.width/l.width,scaleY:s.height/l.height,width:l.width,height:l.height},r=f.opts.zoomOpacity," "auto"="=r&&(r=Math.abs(f.width/f.height-l.width/l.height)">.1),r&&(l.opacity=0),n.fancybox.setTranslate(a,c),p(a),n.fancybox.animate(a,l,i,h),!0):(o&&i?n.fancybox.animate(f.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+o,i,h):!0===t?setTimeout(h,i):h(),!0)))},cleanUp:function(e){var o,i,a,s=this,r=s.current.opts.$orig;s.current.$slide.trigger("onReset"),s.$refs.container.empty().remove(),s.trigger("afterClose",e),s.current.opts.backFocus&&(r&&r.length&&r.is(":visible")||(r=s.$trigger),r&&r.length&&(i=t.scrollX,a=t.scrollY,r.trigger("focus"),n("html, body").scrollTop(a).scrollLeft(i))),s.current=null,o=n.fancybox.getInstance(),o?o.activate():(n("body").removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var o,i=Array.prototype.slice.call(arguments,1),a=this,s=e&&e.opts?e:a.current;if(s?i.unshift(s):s=a,i.unshift(a),n.isFunction(s.opts[t])&&(o=s.opts[t].apply(s,i)),!1===o)return o;"afterClose"!==t&&a.$refs?a.$refs.container.trigger(t+".fb",i):r.trigger(t+".fb",i)},updateControls:function(){var t=this,o=t.current,i=o.index,a=t.$refs.container,s=t.$refs.caption,r=o.opts.caption;o.$slide.trigger("refresh"),r&&r.length?(t.$caption=s,s.children().eq(0).html(r)):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),a.find("[data-fancybox-count]").html(t.group.length),a.find("[data-fancybox-index]").html(i+1),a.find("[data-fancybox-prev]").prop("disabled",!o.opts.loop&&i<=0),a.find("[data-fancybox-next]").prop("disabled",!o.opts.loop&&i>=t.group.length-1),"image"===o.type?a.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",o.opts.image.src||o.src).show():o.opts.toolbar&&a.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),n(e.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=this,n=["infobar","toolbar","nav"];!t&&e.current.opts.preventCaptionOverlap||n.push("caption"),this.$refs.container.removeClass(n.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&t.group.length>1)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&t.group.length>1)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.5.7",defaults:a,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),o=Array.prototype.slice.call(arguments,1);return e instanceof b&&("string"===n.type(t)?e[t].apply(e,o):"function"===n.type(t)&&t.apply(e,o),e)},open:function(t,e,n){return new b(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),r.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:function(){var n=e.createElement("div");return t.getComputedStyle&&t.getComputedStyle(n)&&t.getComputedStyle(n).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)}(),gettranslate:function(t){var 0="==e.left&&void" e;return!(!t||!t.length)&&(e="t[0].getBoundingClientRect(),{top:e.top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))})},setTranslate:function(t,e){var" n ,o="{};if(t&&e)return" void "+(void 0px)":"translate("+n+")"),void 0!="=e.scaleX&&void" scale("+e.scalex+", "+e.scaley+")":void scalex("+e.scalex+")"),n.length&&(o.transform="n),void" s,r="this;n.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(f,function(c){(!c||!c.originalEvent||t.is(c.originalEvent.target)&&"z-index"!=c.originalEvent.propertyName)&&(r.stop(t),n.isNumeric(o)&&t.css("transition-duration",""),n.isPlainObject(e)?void" e.width,delete e.height,t.parent().hasclass("fancybox-slide--image")&&t.parent().addclass("fancybox-is-scaling")),n.fancybox.settranslate(t,e)):t.addclass(e),t.data("timer",settimeout(function(){t.trigger(f)},o+33))},stop:function(t,e){t&&t.length&&(cleartimeout(t.data("timer")),e&&t.trigger(f),t.off(f).css("transition-duration",""),t.parent().removeclass("fancybox-is-scaling"))}},n.fn.fancybox="function(t){var" e;return t="t||{},e=t.selector||!1,e?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},i):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},i),this},r.on("click.fb-start","[data-fancybox]",i),r.on("click.fb-start","[data-fancybox-trigger]",function(t){n('[data-fancybox="'+n(this).attr("data-fancybox-trigger")+'"]').eq(n(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:n(this)})}),function(){var" mouseup focus blur",".fancybox-button",function(e){switch(e.type){case"mousedown":t="n(this);break;case"mouseup":t=null;break;case"focusin":n(".fancybox-button").removeClass("fancybox-focus"),n(this).is(t)||n(this).is("[disabled]")||n(this).addClass("fancybox-focus");break;case"focusout":n(".fancybox-button").removeClass("fancybox-focus")}})}()}}(window,document,jQuery),function(t){"use" strict";var e="{youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")">0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},n=function(e,n,o){if(e)return o=o||"","object"===t.type(o)&&(o=t.param(o,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),o.length&&(e+=(e.indexOf("?")>0?"&":"?")+o),e};t(document).on("objectNeedsType.fb",function(o,i,a){var s,r,c,l,d,u,f,p=a.src||"",h=!1;s=t.extend(!0,{},e,a.opts.media),t.each(s,function(e,o){if(c=p.match(o.matcher)){if(h=o.type,f=e,u={},o.paramPlace&&c[o.paramPlace]){d=c[o.paramPlace],"?"==d[0]&&(d=d.substring(1)),d=d.split("&");for(var i=0;i<d.length;++i){var s="d[i].split("=",2);2==s.length&&(u[s[0]]=decodeURIComponent(s[1].replace(/\+/g,"" ")))}}return l="t.extend(!0,{},o.params,a.opts[e],u),p="function"===t.type(o.url)?o.url.call(this,c,l,a):n(o.url,c,l),r="function"===t.type(o.thumb)?o.thumb.call(this,c,l,a):n(o.thumb,c),"youtube"===e?p=p.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===e&&(p=p.replace("&%23","#")),!1}}),h?(a.opts.thumb||a.opts.$thumb&&a.opts.$thumb.length||(a.opts.thumb=r),"iframe"===h&&(a.opts=t.extend(!0,a.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(a,{type:h,src:p,origSrc:a.src,contentSource:f,contentType:"image"===h?"image":"gmap_place"==f||"gmap_search"==f?"map":"video"})):p&&(a.type=a.opts.defaultType)});var" o="{youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var" e,n="this;if(this[t].loaded)return" void settimeout(function(){n.done(t)});this[t].loading||(this[t].loading="!0,e=document.createElement("script"),e.type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(e){var" n,o,i;"youtube"="==e&&delete" window.onyoutubeiframeapiready,(n="t.fancybox.getInstance())&&(o=n.current.$content.find("iframe"),"youtube"===e&&void" 0!="=YT&&YT?i=new" yt.player(o.attr("id"),{events:{onstatechange:function(t){0="=t.data&&n.next()}}}):"vimeo"===e&&void" vimeo.player(o),i.on("ended",function(){n.next()})))}};t(document).on({"aftershow.fb":function(t,e,n){e.group.length>1&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(t,e,n){"use strict";var o=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)}}(),i=function(){return t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)}}(),a=function(e){var n=[];e=e.originalEvent||e||t.e,e=e.touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e];for(var o in e)e[o].pageX?n.push({x:e[o].pageX,y:e[o].pageY}):e[o].clientX&&n.push({x:e[o].clientX,y:e[o].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},r=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,o=t[0].attributes,i=o.length;e<i;e++)if("data-fancybox-"===o[e].nodename.substr(0,14))return!0;return!1},c=function(e){var n="t.getComputedStyle(e)["overflow-y"],o=t.getComputedStyle(e)["overflow-x"],i=("scroll"===n||"auto"===n)&&e.scrollHeight">e.clientHeight,a=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth;return i||a},l=function(t){for(var e=!1;;){if(e=c(t.get(0)))break;if(t=t.parent(),!t.length||t.hasClass("fancybox-stage")||t.is("body"))break}return e},d=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(e,"ontouchstart"))};d.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),n(e).off(".fb.touch"),t.requestId&&(i(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},d.prototype.ontouchstart=function(o){var i=this,c=n(o.target),d=i.instance,u=d.current,f=u.$slide,p=u.$content,h="touchstart"==o.type;if(h&&i.$container.off("mousedown.fb.touch"),(!o.originalEvent||2!=o.originalEvent.button)&&f.length&&c.length&&!r(c)&&!r(c.parent())&&(c.is("img")||!(o.originalEvent.clientX>c[0].clientWidth+c.offset().left))){if(!u||d.isAnimating||u.$slide.hasClass("fancybox-animated"))return o.stopPropagation(),void o.preventDefault();i.realPoints=i.startPoints=a(o),i.startPoints.length&&(u.touch&&o.stopPropagation(),i.startEvent=o,i.canTap=!0,i.$target=c,i.$content=p,i.opts=u.opts.touch,i.isPanning=!1,i.isSwiping=!1,i.isZooming=!1,i.isScrolling=!1,i.canPan=d.canPan(),i.startTime=(new Date).getTime(),i.distanceX=i.distanceY=i.distance=0,i.canvasWidth=Math.round(f[0].clientWidth),i.canvasHeight=Math.round(f[0].clientHeight),i.contentLastPos=null,i.contentStartPos=n.fancybox.getTranslate(i.$content)||{top:0,left:0},i.sliderStartPos=n.fancybox.getTranslate(f),i.stagePos=n.fancybox.getTranslate(d.$refs.stage),i.sliderStartPos.top-=i.stagePos.top,i.sliderStartPos.left-=i.stagePos.left,i.contentStartPos.top-=i.stagePos.top,i.contentStartPos.left-=i.stagePos.left,n(e).off(".fb.touch").on(h?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(i,"ontouchend")).on(h?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(i,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",i.onscroll,!0),((i.opts||i.canPan)&&(c.is(i.$stage)||i.$stage.find(c).length)||(c.is(".fancybox-image")&&o.preventDefault(),n.fancybox.isMobile&&c.parents(".fancybox-caption").length))&&(i.isScrollable=l(c)||l(c.parent()),n.fancybox.isMobile&&i.isScrollable||o.preventDefault(),(1===i.startPoints.length||u.hasError)&&(i.canPan?(n.fancybox.stop(i.$content),i.isPanning=!0):i.isSwiping=!0,i.$container.addClass("fancybox-is-grabbing")),2===i.startPoints.length&&"image"===u.type&&(u.isLoaded||u.$ghost)&&(i.canTap=!1,i.isSwiping=!1,i.isPanning=!1,i.isZooming=!0,n.fancybox.stop(i.$content),i.centerPointStartX=.5*(i.startPoints[0].x+i.startPoints[1].x)-n(t).scrollLeft(),i.centerPointStartY=.5*(i.startPoints[0].y+i.startPoints[1].y)-n(t).scrollTop(),i.percentageOfImageAtPinchPointX=(i.centerPointStartX-i.contentStartPos.left)/i.contentStartPos.width,i.percentageOfImageAtPinchPointY=(i.centerPointStartY-i.contentStartPos.top)/i.contentStartPos.height,i.startDistanceBetweenFingers=s(i.startPoints[0],i.startPoints[1]))))}},d.prototype.onscroll=function(t){var n=this;n.isScrolling=!0,e.removeEventListener("scroll",n.onscroll,!0)},d.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=a(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=s(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=s(e.newPoints[0],e.startPoints[0],"y"),e.distance=s(e.newPoints[0],e.startPoints[0]),e.distance>0&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},d.prototype.onSwipe=function(e){var a,s=this,r=s.instance,c=s.isSwiping,l=s.sliderStartPos.left||0;if(!0!==c)"x"==c&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=math.pow(s.distancex,.8):s.distancex<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=math.pow(-s.distancex,.8):l+=s.distancex),s.sliderlastpos={top:"x"==c?0:s.sliderstartpos.top+s.distancey,left:l},s.requestid&&(i(s.requestid),s.requestid=null),s.requestid=o(function(){s.sliderlastpos&&(n.each(s.instance.slides,function(t,e){var o="e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+o*s.canvasWidth+o*e.opts.gutter})}),s.$container.addClass("fancybox-is-sliding"))});else" if(math.abs(s.distance)>10){if(s.canTap=!1,r.group.length<2&&s.opts.vertical?s.isswiping="y":r.isdragging||!1===s.opts.vertical||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(a=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=a>45&&a<135?"y":"x"),"y"===s.isswiping&&n.fancybox.ismobile&&s.isscrollable)return void(s.isscrolling="!0);r.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(r.slides,function(t,e){var" o,i;n.fancybox.stop(e.$slide),o="n.fancybox.getTranslate(e.$slide),i=n.fancybox.getTranslate(r.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join("" ")}),e.pos="==r.current.pos&&(s.sliderStartPos.top=o.top-i.top,s.sliderStartPos.left=o.left-i.left),n.fancybox.setTranslate(e.$slide,{top:o.top-i.top,left:o.left-i.left})}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop()}},d.prototype.onPan=function(){var" t="this;if(s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5))return" void(t.startpoints="t.newPoints);t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&i(t.requestId),t.requestId=o(function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})},d.prototype.limitMovement=function(){var" t,e,n,o,i,a,s="this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return" i="h">r?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),l>0&&i>t&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-math.pow(n-f-l,.8)||0),d>0&&a>e&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitposition=function(t,e,n,o){var i="this,a=i.canvasWidth,s=i.canvasHeight;return" n>a?(t=t>0?0:t,t=t<a-n?a-n:t):t=math.max(0,a 2-n 2),o>s?(e=e>0?0:e,e=e<s-o?s-o:e):e=math.max(0,s 2-o 2),{top:e,left:t}},d.prototype.onzoom="function(){var" e="this,a=e.contentStartPos,r=a.width,c=a.height,l=a.left,d=a.top,u=s(e.newPoints[0],e.newPoints[1]),f=u/e.startDistanceBetweenFingers,p=Math.floor(r*f),h=Math.floor(c*f),g=(r-p)*e.percentageOfImageAtPinchPointX,b=(c-h)*e.percentageOfImageAtPinchPointY,m=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=m-e.centerPointStartX,x=v-e.centerPointStartY,w=l+(g+y),$=d+(b+x),S={top:$,left:w,scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=p,e.newHeight=h,e.contentLastPos=S,e.requestId&&i(e.requestId),e.requestId=o(function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)})},d.prototype.ontouchend=function(t){var" o="this,s=o.isSwiping,r=o.isPanning,c=o.isZooming,l=o.isScrolling;if(o.endPoints=a(t),o.dMs=Math.max((new" date).gettime()-o.starttime,1),o.$container.removeclass("fancybox-is-grabbing"),n(e).off(".fb.touch"),e.removeeventlistener("scroll",o.onscroll,!0),o.requestid&&(i(o.requestid),o.requestid="null),o.isSwiping=!1,o.isPanning=!1,o.isZooming=!1,o.isScrolling=!1,o.instance.isDragging=!1,o.canTap)return" o.ontap(t);o.speed="100,o.velocityX=o.distanceX/o.dMs*.5,o.velocityY=o.distanceY/o.dMs*.5,r?o.endPanning():c?o.endZooming():o.endSwiping(s,l)},d.prototype.endSwiping=function(t,e){var">1&&(o.dMs>130&&s>10||s>50);o.sliderLastPos=null,"y"==t&&!e&&Math.abs(o.distanceY)>50?(n.fancybox.animate(o.instance.current.$slide,{top:o.sliderStartPos.top+o.distanceY+150*o.velocityY,opacity:0},200),i=o.instance.close(!0,250)):r&&o.distanceX>0?i=o.instance.previous(300):r&&o.distanceX<0&&(i=o.instance.next(300)),!1!==i||"x"!=t&&"y"!=t||o.instance.centerslide(200),o.$container.removeclass("fancybox-is-sliding")},d.prototype.endpanning=function(){var t,e,o,i="this;i.contentLastPos&&(!1===i.opts.momentum||i.dMs">350?(t=i.contentLastPos.left,e=i.contentLastPos.top):(t=i.contentLastPos.left+500*i.velocityX,e=i.contentLastPos.top+500*i.velocityY),o=i.limitPosition(t,e,i.contentStartPos.width,i.contentStartPos.height),o.width=i.contentStartPos.width,o.height=i.contentStartPos.height,n.fancybox.animate(i.$content,o,366))},d.prototype.endZooming=function(){var t,e,o,i,a=this,s=a.instance.current,r=a.newWidth,c=a.newHeight;a.contentLastPos&&(t=a.contentLastPos.left,e=a.contentLastPos.top,i={top:e,left:t,width:r,height:c,scaleX:1,scaleY:1},n.fancybox.setTranslate(a.$content,i),r<a.canvaswidth&&c<a.canvasheight?a.instance.scaletofit(150):r>s.width||c>s.height?a.instance.scaleToActual(a.centerPointStartX,a.centerPointStartY,150):(o=a.limitPosition(t,e,r,c),n.fancybox.animate(a.$content,o,150)))},d.prototype.onTap=function(e){var o,i=this,s=n(e.target),r=i.instance,c=r.current,l=e&&a(e)||i.startPoints,d=l[0]?l[0].x-n(t).scrollLeft()-i.stagePos.left:0,u=l[0]?l[0].y-n(t).scrollTop()-i.stagePos.top:0,f=function(t){var o=c.opts[t];if(n.isFunction(o)&&(o=o.apply(r,[c,e])),o)switch(o){case"close":r.close(i.startEvent);break;case"toggleControls":r.toggleControls();break;case"next":r.next();break;case"nextOrClose":r.group.length>1?r.next():r.close(i.startEvent);break;case"zoom":"image"==c.type&&(c.isLoaded||c.$ghost)&&(r.canPan()?r.scaleToFit():r.isScaledDown()?r.scaleToActual(d,u):r.group.length<2&&r.close(i.startevent))}};if((!e.originalevent||2!=e.originalevent.button)&&(s.is("img")||!(d>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))o="Outside";else if(s.is(".fancybox-slide"))o="Slide";else{if(!r.current.$content||!r.current.$content.find(s).addBack().filter(s).length)return;o="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,Math.abs(d-i.tapX)>50||Math.abs(u-i.tapY)>50)return this;f("dblclick"+o)}else i.tapX=d,i.tapY=u,c.opts["dblclick"+o]&&c.opts["dblclick"+o]!==c.opts["click"+o]?i.tapped=setTimeout(function(){i.tapped=null,r.isAnimating||f("click"+o)},500):f("click"+o);return this}},n(e).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new d(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,n=t.instance,o=n.group[n.currIndex].opts.slideShow;t.$button=n.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),n.group.length<2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div class="fancybox-progress"></2||!o?t.$button.hide():o.progress&&(t.$progress=e('<div></2&&r.close(i.startevent))}};if((!e.originalevent||2!=e.originalevent.button)&&(s.is("img")||!(d></a.canvaswidth&&c<a.canvasheight?a.instance.scaletofit(150):r></0&&(i=o.instance.next(300)),!1!==i||"x"!=t&&"y"!=t||o.instance.centerslide(200),o.$container.removeclass("fancybox-is-sliding")},d.prototype.endpanning=function(){var></s-o?s-o:e):e=math.max(0,s></a-n?a-n:t):t=math.max(0,a></0&&a<o&&(a=o+1-math.pow(o-p-d,.8)||0),{top:a,left:i}},d.prototype.limitposition=function(t,e,n,o){var></0&&i<n&&(i=n+1-math.pow(n-f-l,.8)||0),d></135?"y":"x"),"y"===s.isswiping&&n.fancybox.ismobile&&s.isscrollable)return></2&&s.opts.vertical?s.isswiping="y":r.isdragging||!1===s.opts.vertical||"auto"===s.opts.vertical&&n(t).width()></2||0===s.instance.current.index&&!s.instance.current.opts.loop)?l+=math.pow(s.distancex,.8):s.distancex<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?l-=math.pow(-s.distancex,.8):l+=s.distancex),s.sliderlastpos={top:"x"==c?0:s.sliderstartpos.top+s.distancey,left:l},s.requestid&&(i(s.requestid),s.requestid=null),s.requestid=o(function(){s.sliderlastpos&&(n.each(s.instance.slides,function(t,e){var></i;e++)if("data-fancybox-"===o[e].nodename.substr(0,14))return!0;return!1},c=function(e){var></d.length;++i){var></11)}(),gettranslate:function(t){var></=0),a.find("[data-fancybox-next]").prop("disabled",!o.opts.loop&&i></=e.currpos+1?i[o.pos]=o:o&&(n.fancybox.stop(o.$slide),o.$slide.off().remove())}),e.slides=i),e.isanimating=!1,e.updatecursor(),e.trigger("aftershow"),o.opts.video.autostart&&o.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){document.exitfullscreen?document.exitfullscreen():this.webkitexitfullscreen&&this.webkitexitfullscreen(),e.next()}),o.opts.autofocus&&"html"===o.contenttype&&(t=o.$content.find("input[autofocus]:enabled:visible:first"),t.length?t.trigger("focus"):e.focus(null,!0)),o.$slide.scrolltop(0).scrollleft(0))},preload:function(t){var></1&&(n=i),s.$slide.css("padding-bottom",o))),s.$content.css("margin-bottom",n))},revealcontent:function(t){var></div>').appendTo(n.$refs.inner))},set:function(t){var n=this,o=n.instance,i=o.current;i&&(!0===t||i.opts.loop||o.currIndex<o.group.length-1)?n.isactive&&"video"!==i.contenttype&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scalex:1},i.opts.slideshow.speed),n.timer=settimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpto(0)},i.opts.slideshow.speed)):(n.stop(),o.idlesecondscounter=0,o.showcontrols())},clear:function(){var t="this;clearTimeout(t.timer),t.timer=null,t.$progress&&t.$progress.removeAttr("style").hide()},start:function(){var" n(e))},"beforeshow.fb":function(t,e,n,o){var i="e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var" o="e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(n,o,i,a,s){var" r="o&&o.SlideShow;!r||!i.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(a.preventDefault(),r.toggle())},"beforeClose.fb" ondeactivate.fb":function(t,e){var n="e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",function(){var" strict";var e="[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},o=0;o<e.length;o++){var" t){for(var a="0;a<i.length;a++)n[e[0][a]]=i[a];return" n}}return!1}();if(n){var boolean(t[n.fullscreenelement])},enabled:function(){return boolean(t[n.fullscreenenabled])}};e.extend(!0,e.fancybox.defaults,{btntpl:{fullscreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg>'},fullScreen:{autoStart:!1}}),e(t).on(n.fullscreenchange,function(){var t=o.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.isAnimating=!1,n.update(!0,!0,0),n.isComplete||n.complete()),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t),n.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}e(t).on({"onInit.fb":function(t,e){var i;if(!n)return void e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove();e&&e.group[e.currIndex].opts.fullScreen?(i=e.$refs.container,i.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),o.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&o.request(),e.FullScreen=o):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&o.exit()}})}(document,jQuery),function(t,e){"use strict";var n="fancybox-thumbs";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var o=function(t){this.init(t)};e.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,t.Thumbs=e,e.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(o>1));i++);o>1&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var t,o=this,i=o.instance,a=o.opts.parentEl,s=[];o.$grid||(o.$grid=e('<div class="'+n+" "+n+"-"+o.opts.axis+'"></div>').appendTo(i.$refs.container.find(a).addBack().filter(a)),o.$grid.on("click","a",function(){i.jumpTo(e(this).attr("data-index"))})),o.$list||(o.$list=e('<div class="'+n+'__list">').appendTo(o.$grid)),e.each(i.group,function(e,n){t=n.thumb,t||"image"!==n.type||(t=n.src),s.push('<a href="javascript:;" tabindex="0" data-index="'+e+'" '+(t&&t.length?' style="background-image:url('+t+')" ':'class="fancybox-thumbs-missing" ')+" target="_blank" rel="noopener"></a>")}),o.$list[0].innerHTML=s.join(""),"x"===o.opts.axis&&o.$list.width(parseInt(o.$grid.css("padding-right"),10)+i.group.length*o.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(e=i.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+o.instance.current.index+'"]').addClass("fancybox-thumbs-active"),n=e.position(),"y"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):"x"===o.opts.axis&&(n.left<a.scrollleft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new o(e),n.isActive&&!0===n.opts.autoStart&&n.show())},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,e){"use strict";function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1></h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u=" target="_blank" rel="noopener"><svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196"/></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url=&text=" target="_blank" rel="noopener"><svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z"/></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url=&description=&media=" target="_blank" rel="noopener"><svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value onclick="select()"></p></div>'}}),e(t).on("click","[data-fancybox-share]",function(){var t,o,i=e.fancybox.getInstance(),a=i.current||null;a&&("function"===e.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),o=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,n(t)).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),e.fancybox.open({src:i.translate(i,o),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(t,e,n){"use strict";function o(){var e=t.location.hash.substr(1),n=e.split("-"),o=n.length>1&&/^\+?\d+$/.test(n[n.length-1])?parseInt(n.pop(-1),10)||1:1,i=n.join("-");return{hash:e,index:o<1?1:o,gallery:i}}function i(t){""!="=t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function" a(t){var e,n;return!!t&&(e="t.current?t.current.opts:t.opts,""!==(n=e.hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return" e?"\0"="==t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+"" ":"\\"+t})}),n(function(){!1!="=n.fancybox.defaults.hash&&(n(e).on({"onInit.fb":function(t,e){var" n,i;!1!="=e.group[e.currIndex].opts.hash&&(n=o(),(i=a(e))&&n.gallery&&i==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,o,i,s){var" r;i&&!1!="=i.opts.hash&&(r=a(o))&&(o.currentHash=r+(o.group.length">1?"-"+(i.index+1):""),t.location.hash!=="#"+o.currentHash&&(s&&!o.origHash&&(o.origHash=t.location.hash),o.hashTimer&&clearTimeout(o.hashTimer),o.hashTimer=setTimeout(function(){"replaceState"in t.history?(t.history[s?"pushState":"replaceState"]({},e.title,t.location.pathname+t.location.search+"#"+o.currentHash),s&&(o.hasCreatedHistory=!0)):t.location.hash=o.currentHash,o.hashTimer=null},300)))},"beforeClose.fb":function(n,o,i){i&&!1!==i.opts.hash&&(clearTimeout(o.hashTimer),o.currentHash&&o.hasCreatedHistory?t.history.back():o.currentHash&&("replaceState"in t.history?t.history.replaceState({},e.title,t.location.pathname+t.location.search+(o.origHash||"")):t.location.hash=o.origHash),o.currentHash=null)}}),n(t).on("hashchange.fb",function(){var t=o(),e=null;n.each(n(".fancybox-container").get().reverse(),function(t,o){var i=n(o).data("FancyBox");if(i&&i.currentHash)return e=i,!1}),e?e.currentHash===t.gallery+"-"+t.index||1===t.index&&e.currentHash==t.gallery||(e.currentHash=null,e.close()):""!==t.gallery&&i(t)}),setTimeout(function(){n.fancybox.getInstance()||i(o())},50))})}(window,document,jQuery),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,o){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var o=e.current,i=(new Date).getTime();e.group.length</1?1:o,gallery:i}}function></":"&lt;","></a.scrollleft()||n.left></0||n.top></div></a&&(n[i].thumb&&o++,!(o></o.group.length-1)?n.isactive&&"video"!==i.contenttype&&(n.$progress&&e.fancybox.animate(n.$progress.show(),{scalex:1},i.opts.slideshow.speed),n.timer=settimeout(function(){o.current.opts.loop||o.current.index!=o.group.length-1?o.next():o.jumpto(0)},i.opts.slideshow.speed)):(n.stop(),o.idlesecondscounter=0,o.showcontrols())},clear:function(){var></div></div></o.length;r++){var></a.width&&e<a.height:s&&(i=n.fancybox.gettranslate(s),i=i.width<a.width&&i.height<a.height),i},canpan:function(t,e){var></p-g&&(s=p-g)),l.updatecursor(h,g),n.fancybox.animate(u,{top:s,left:a,scalex:r,scaley:c},o||366,function(){l.isanimating=!1}),l.slideshow&&l.slideshow.isactive&&l.slideshow.stop())},scaletofit:function(t){var></f-h&&(a=f-h)),g></0?i.group.length+o:o,!i.slides[t]&&i.group[o]&&(e=n('<div></h-1)&&f.createslide(t+1),(a||s.index></0||t></0&&(r=0),a=n.fancybox.open(s,e,r),a.$trigger=o))}if(t.console=t.console||{info:function(t){}},n){if(n.fn.fancybox)return>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/package-lock.json"/>
      <url>/lib/three/package-lock.json</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>{"name":"theme-next-three","version":"1.0.0","lockfileVersion":1,"requires":true,"dependencies":{"@nodelib/fs.scandir":{"version":"2.1.1","resolved":"https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.1.tgz","integrity":"sha512-NT/skIZjgotDSiXs0WqYhgcuBKhUMgfekCmCGtkUAiLqZdOnrdjmZr9wRl3ll64J9NF79uZ4fk16Dx0yMc/Xbg==","requires":{"@nodelib/fs.stat":"2.0.1","run-parallel":"^1.1.9"}},"@nodelib/fs.stat":{"version":"2.0.1","resolved":"https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.1.tgz","integrity":"sha512-+RqhBlLn6YRBGOIoVYthsG0J9dfpO79eJyN7BYBkZJtfqrBwf2KK+rD/M/yjZR6WBmIhAgOV7S60eCgaSWtbFw=="},"@nodelib/fs.walk":{"version":"1.2.2","resolved":"https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.2.tgz","integrity":"sha512-J/DR3+W12uCzAJkw7niXDcqcKBg6+5G5Q/ZpThpGNzAUz70eOR6RV4XnnSN01qHZiVl0eavoxJsBypQoKsV2QQ==","requires":{"@nodelib/fs.scandir":"2.1.1","fastq":"^1.6.0"}},"@types/events":{"version":"3.0.0","resolved":"https://registry.npmjs.org/@types/events/-/events-3.0.0.tgz","integrity":"sha512-EaObqwIvayI5a8dCzhFrjKzVwKLxjoG9T6Ppd5CEo07LRKfQ8Yokw54r5+Wq7FaBQ+yXRvQAYPrHwya1/UFt9g=="},"@types/glob":{"version":"7.1.1","resolved":"https://registry.npmjs.org/@types/glob/-/glob-7.1.1.tgz","integrity":"sha512-1Bh06cbWJUHMC97acuD6UMG29nMt0Aqz1vF3guLfG+kHHJhy3AyohZFFxYk2f7Q1SQIrNwvncxAE0N/9s70F2w==","requires":{"@types/events":"*","@types/minimatch":"*","@types/node":"*"}},"@types/minimatch":{"version":"3.0.3","resolved":"https://registry.npmjs.org/@types/minimatch/-/minimatch-3.0.3.tgz","integrity":"sha512-tHq6qdbT9U1IRSGf14CL0pUlULksvY9OZ+5eEgl1N7t+OA3tGvNpxJCzuKQlsNgCVwbAs670L1vcVQi8j9HjnA=="},"@types/node":{"version":"12.6.2","resolved":"https://registry.npmjs.org/@types/node/-/node-12.6.2.tgz","integrity":"sha512-gojym4tX0FWeV2gsW4Xmzo5wxGjXGm550oVUII7f7G5o4BV6c7DBdiG1RRQd+y1bvqRyYtPfMK85UM95vsapqQ=="},"ansi-colors":{"version":"1.1.0","resolved":"https://registry.npmjs.org/ansi-colors/-/ansi-colors-1.1.0.tgz","integrity":"sha512-SFKX67auSNoVR38N3L+nvsPjOE0bybKTYbkf5tRvushrAPQ9V75huw0ZxBkKVeRU9kqH3d6HA4xTckbwZ4ixmA==","requires":{"ansi-wrap":"^0.1.0"}},"ansi-gray":{"version":"0.1.1","resolved":"https://registry.npmjs.org/ansi-gray/-/ansi-gray-0.1.1.tgz","integrity":"sha1-KWLPVOyXksSFEKPetSRDaGHvclE=","requires":{"ansi-wrap":"0.1.0"}},"ansi-regex":{"version":"2.1.1","resolved":"https://registry.npmjs.org/ansi-regex/-/ansi-regex-2.1.1.tgz","integrity":"sha1-w7M6te42DYbg5ijwRorn7yfWVN8="},"ansi-wrap":{"version":"0.1.0","resolved":"https://registry.npmjs.org/ansi-wrap/-/ansi-wrap-0.1.0.tgz","integrity":"sha1-qCJQ3bABXponyoLoLqYDu/pF768="},"anymatch":{"version":"2.0.0","resolved":"https://registry.npmjs.org/anymatch/-/anymatch-2.0.0.tgz","integrity":"sha512-5teOsQWABXHHBFP9y3skS5P3d/WfWXpv3FUpy+LorMrNYaT9pI4oLMQX7jzQ2KklNpGpWHzdCXTDT2Y3XGlZBw==","requires":{"micromatch":"^3.1.4","normalize-path":"^2.1.1"},"dependencies":{"braces":{"version":"2.3.2","resolved":"https://registry.npmjs.org/braces/-/braces-2.3.2.tgz","integrity":"sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==","requires":{"arr-flatten":"^1.1.0","array-unique":"^0.3.2","extend-shallow":"^2.0.1","fill-range":"^4.0.0","isobject":"^3.0.1","repeat-element":"^1.1.2","snapdragon":"^0.8.1","snapdragon-node":"^2.0.1","split-string":"^3.0.2","to-regex":"^3.0.1"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"fill-range":{"version":"4.0.0","resolved":"https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz","integrity":"sha1-1USBHUKPmOsGpj3EAtJAPDKMOPc=","requires":{"extend-shallow":"^2.0.1","is-number":"^3.0.0","repeat-string":"^1.6.1","to-regex-range":"^2.1.0"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"is-number":{"version":"3.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz","integrity":"sha1-JP1iAaR4LPUFYcgQJ2r8fRLXEZU=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"micromatch":{"version":"3.1.10","resolved":"https://registry.npmjs.org/micromatch/-/micromatch-3.1.10.tgz","integrity":"sha512-MWikgl9n9M3w+bpsY3He8L+w9eF9338xRl8IAO5viDizwSzziFEyUzo2xrrloB64ADbTf8uA8vRqqttDTOmccg==","requires":{"arr-diff":"^4.0.0","array-unique":"^0.3.2","braces":"^2.3.1","define-property":"^2.0.2","extend-shallow":"^3.0.2","extglob":"^2.0.4","fragment-cache":"^0.2.1","kind-of":"^6.0.2","nanomatch":"^1.2.9","object.pick":"^1.3.0","regex-not":"^1.0.0","snapdragon":"^0.8.1","to-regex":"^3.0.2"}},"to-regex-range":{"version":"2.1.1","resolved":"https://registry.npmjs.org/to-regex-range/-/to-regex-range-2.1.1.tgz","integrity":"sha1-fIDBe53+vlmeJzZ+DU3VWQFB2zg=","requires":{"is-number":"^3.0.0","repeat-string":"^1.6.1"}}}},"append-buffer":{"version":"1.0.2","resolved":"https://registry.npmjs.org/append-buffer/-/append-buffer-1.0.2.tgz","integrity":"sha1-2CIM9GYIFSXv6lBhTz3mUU36WPE=","requires":{"buffer-equal":"^1.0.0"}},"archy":{"version":"1.0.0","resolved":"https://registry.npmjs.org/archy/-/archy-1.0.0.tgz","integrity":"sha1-+cjBN1fMHde8N5rHeyxipcKGjEA="},"arr-diff":{"version":"4.0.0","resolved":"https://registry.npmjs.org/arr-diff/-/arr-diff-4.0.0.tgz","integrity":"sha1-1kYQdP6/7HHn4VI1dhoyml3HxSA="},"arr-filter":{"version":"1.1.2","resolved":"https://registry.npmjs.org/arr-filter/-/arr-filter-1.1.2.tgz","integrity":"sha1-Q/3d0JHo7xGqTEXZzcGOLf8XEe4=","requires":{"make-iterator":"^1.0.0"}},"arr-flatten":{"version":"1.1.0","resolved":"https://registry.npmjs.org/arr-flatten/-/arr-flatten-1.1.0.tgz","integrity":"sha512-L3hKV5R/p5o81R7O02IGnwpDmkp6E982XhtbuwSe3O4qOtMMMtodicASA1Cny2U+aCXcNpml+m4dPsvsJ3jatg=="},"arr-map":{"version":"2.0.2","resolved":"https://registry.npmjs.org/arr-map/-/arr-map-2.0.2.tgz","integrity":"sha1-Onc0X/wc814qkYJWAfnljy4kysQ=","requires":{"make-iterator":"^1.0.0"}},"arr-union":{"version":"3.1.0","resolved":"https://registry.npmjs.org/arr-union/-/arr-union-3.1.0.tgz","integrity":"sha1-45sJrqne+Gao8gbiiK9jkZuuOcQ="},"array-each":{"version":"1.0.1","resolved":"https://registry.npmjs.org/array-each/-/array-each-1.0.1.tgz","integrity":"sha1-p5SvDAWrF1KEbudTofIRoFugxE8="},"array-initial":{"version":"1.1.0","resolved":"https://registry.npmjs.org/array-initial/-/array-initial-1.1.0.tgz","integrity":"sha1-L6dLJnOTccOUe9enrcc74zSz15U=","requires":{"array-slice":"^1.0.0","is-number":"^4.0.0"},"dependencies":{"is-number":{"version":"4.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-4.0.0.tgz","integrity":"sha512-rSklcAIlf1OmFdyAqbnWTLVelsQ58uvZ66S/ZyawjWqIviTWCjg2PzVGw8WUA+nNuPTqb4wgA+NszrJ+08LlgQ=="}}},"array-last":{"version":"1.3.0","resolved":"https://registry.npmjs.org/array-last/-/array-last-1.3.0.tgz","integrity":"sha512-eOCut5rXlI6aCOS7Z7kCplKRKyiFQ6dHFBem4PwlwKeNFk2/XxTrhRh5T9PyaEWGy/NHTZWbY+nsZlNFJu9rYg==","requires":{"is-number":"^4.0.0"},"dependencies":{"is-number":{"version":"4.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-4.0.0.tgz","integrity":"sha512-rSklcAIlf1OmFdyAqbnWTLVelsQ58uvZ66S/ZyawjWqIviTWCjg2PzVGw8WUA+nNuPTqb4wgA+NszrJ+08LlgQ=="}}},"array-slice":{"version":"1.1.0","resolved":"https://registry.npmjs.org/array-slice/-/array-slice-1.1.0.tgz","integrity":"sha512-B1qMD3RBP7O8o0H2KbrXDyB0IccejMF15+87Lvlor12ONPRHP6gTjXMNkt/d3ZuOGbAe66hFmaCfECI24Ufp6w=="},"array-sort":{"version":"1.0.0","resolved":"https://registry.npmjs.org/array-sort/-/array-sort-1.0.0.tgz","integrity":"sha512-ihLeJkonmdiAsD7vpgN3CRcx2J2S0TiYW+IS/5zHBI7mKUq3ySvBdzzBfD236ubDBQFiiyG3SWCPc+msQ9KoYg==","requires":{"default-compare":"^1.0.0","get-value":"^2.0.6","kind-of":"^5.0.2"},"dependencies":{"kind-of":{"version":"5.1.0","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-5.1.0.tgz","integrity":"sha512-NGEErnH6F2vUuXDh+OlbcKW7/wOcfdRHaZ7VWtqCztfHri/++YKmP51OdWeGPuqCOba6kk2OTe5d02VmTB80Pw=="}}},"array-union":{"version":"2.1.0","resolved":"https://registry.npmjs.org/array-union/-/array-union-2.1.0.tgz","integrity":"sha512-HGyxoOTYUyCM6stUe6EJgnd4EoewAI7zMdfqO+kGjnlZmBDz/cR5pf8r/cR4Wq60sL/p0IkcjUEEPwS3GFrIyw=="},"array-unique":{"version":"0.3.2","resolved":"https://registry.npmjs.org/array-unique/-/array-unique-0.3.2.tgz","integrity":"sha1-qJS3XUvE9s1nnvMkSp/Y9Gri1Cg="},"assign-symbols":{"version":"1.0.0","resolved":"https://registry.npmjs.org/assign-symbols/-/assign-symbols-1.0.0.tgz","integrity":"sha1-WWZ/QfrdTyDMvCu5a41Pf3jsA2c="},"async-done":{"version":"1.3.2","resolved":"https://registry.npmjs.org/async-done/-/async-done-1.3.2.tgz","integrity":"sha512-uYkTP8dw2og1tu1nmza1n1CMW0qb8gWWlwqMmLb7MhBVs4BXrFziT6HXUd+/RlRA/i4H9AkofYloUbs1fwMqlw==","requires":{"end-of-stream":"^1.1.0","once":"^1.3.2","process-nextick-args":"^2.0.0","stream-exhaust":"^1.0.1"}},"async-each":{"version":"1.0.3","resolved":"https://registry.npmjs.org/async-each/-/async-each-1.0.3.tgz","integrity":"sha512-z/WhQ5FPySLdvREByI2vZiTWwCnF0moMJ1hK9YQwDTHKh6I7/uSckMetoRGb5UBZPC1z0jlw+n/XCgjeH7y1AQ=="},"async-settle":{"version":"1.0.0","resolved":"https://registry.npmjs.org/async-settle/-/async-settle-1.0.0.tgz","integrity":"sha1-HQqRS7Aldb7IqPOnTlCA9yssDGs=","requires":{"async-done":"^1.2.2"}},"atob":{"version":"2.1.2","resolved":"https://registry.npmjs.org/atob/-/atob-2.1.2.tgz","integrity":"sha512-Wm6ukoaOGJi/73p/cl2GvLjTI5JM1k/O14isD73YML8StrH/7/lRFgmg8nICZgD3bZZvjwCGxtMOD3wWNAu8cg=="},"bach":{"version":"1.2.0","resolved":"https://registry.npmjs.org/bach/-/bach-1.2.0.tgz","integrity":"sha1-Szzpa/JxNPeaG0FKUcFONMO9mIA=","requires":{"arr-filter":"^1.1.1","arr-flatten":"^1.0.1","arr-map":"^2.0.0","array-each":"^1.0.0","array-initial":"^1.0.0","array-last":"^1.1.1","async-done":"^1.2.2","async-settle":"^1.0.0","now-and-later":"^2.0.0"}},"balanced-match":{"version":"1.0.0","resolved":"https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.0.tgz","integrity":"sha1-ibTRmasr7kneFk6gK4nORi1xt2c="},"base":{"version":"0.11.2","resolved":"https://registry.npmjs.org/base/-/base-0.11.2.tgz","integrity":"sha512-5T6P4xPgpp0YDFvSWwEZ4NoE3aM4QBQXDzmVbraCkFj8zHM+mba8SyqB5DbZWyR7mYHo6Y7BdQo3MoA4m0TeQg==","requires":{"cache-base":"^1.0.1","class-utils":"^0.3.5","component-emitter":"^1.2.1","define-property":"^1.0.0","isobject":"^3.0.1","mixin-deep":"^1.2.0","pascalcase":"^0.1.1"},"dependencies":{"define-property":{"version":"1.0.0","resolved":"https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz","integrity":"sha1-dp66rz9KY6rTr56NMEybvnm/sOY=","requires":{"is-descriptor":"^1.0.0"}},"is-accessor-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-1.0.0.tgz","integrity":"sha512-m5hnHTkcVsPfqx3AKlyttIPb7J+XykHvJP2B9bZDjlhLIoEq4XoK64Vg7boZlVWYK6LUY94dYPEE7Lh0ZkZKcQ==","requires":{"kind-of":"^6.0.0"}},"is-data-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-data-descriptor/-/is-data-descriptor-1.0.0.tgz","integrity":"sha512-jbRXy1FmtAoCjQkVmIVYwuuqDFUbaOeDjmed1tOGPrsMhtJA4rD9tkgA0F1qJ3gRFRXcHYVkdeaP50Q5rE/jLQ==","requires":{"kind-of":"^6.0.0"}},"is-descriptor":{"version":"1.0.2","resolved":"https://registry.npmjs.org/is-descriptor/-/is-descriptor-1.0.2.tgz","integrity":"sha512-2eis5WqQGV7peooDyLmNEPUrps9+SXX5c9pL3xEB+4e9HnGuDa7mB7kHxHw4CbqS9k1T2hOH3miL8n8WtiYVtg==","requires":{"is-accessor-descriptor":"^1.0.0","is-data-descriptor":"^1.0.0","kind-of":"^6.0.2"}}}},"binary-extensions":{"version":"1.13.1","resolved":"https://registry.npmjs.org/binary-extensions/-/binary-extensions-1.13.1.tgz","integrity":"sha512-Un7MIEDdUC5gNpcGDV97op1Ywk748MpHcFTHoYs6qnj1Z3j7I53VG3nwZhKzoBZmbdRNnb6WRdFlwl7tSDuZGw=="},"brace-expansion":{"version":"1.1.11","resolved":"https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.11.tgz","integrity":"sha512-iCuPHDFgrHX7H2vEI/5xpz07zSHB00TpugqhmYtVmMO6518mCuRMoOYFldEBl0g187ufozdaHgWKcYFb61qGiA==","requires":{"balanced-match":"^1.0.0","concat-map":"0.0.1"}},"braces":{"version":"3.0.2","resolved":"https://registry.npmjs.org/braces/-/braces-3.0.2.tgz","integrity":"sha512-b8um+L1RzM3WDSzvhm6gIz1yfTbBt6YTlcEKAvsmqCZZFw46z626lVj9j1yEPW33H5H+lBQpZMP1k8l+78Ha0A==","requires":{"fill-range":"^7.0.1"}},"buffer-equal":{"version":"1.0.0","resolved":"https://registry.npmjs.org/buffer-equal/-/buffer-equal-1.0.0.tgz","integrity":"sha1-WWFrSYME1Var1GaWayLu2j7KX74="},"buffer-from":{"version":"1.1.1","resolved":"https://registry.npmjs.org/buffer-from/-/buffer-from-1.1.1.tgz","integrity":"sha512-MQcXEUbCKtEo7bhqEs6560Hyd4XaovZlO/k9V3hjVUF/zwW7KBVdSK4gIt/bzwS9MbR5qob+F5jusZsb0YQK2A=="},"cache-base":{"version":"1.0.1","resolved":"https://registry.npmjs.org/cache-base/-/cache-base-1.0.1.tgz","integrity":"sha512-AKcdTnFSWATd5/GCPRxr2ChwIJ85CeyrEyjRHlKxQ56d4XJMGym0uAiKn0xbLOGOl3+yRpOTi484dVCEc5AUzQ==","requires":{"collection-visit":"^1.0.0","component-emitter":"^1.2.1","get-value":"^2.0.6","has-value":"^1.0.0","isobject":"^3.0.1","set-value":"^2.0.0","to-object-path":"^0.3.0","union-value":"^1.0.0","unset-value":"^1.0.0"}},"camelcase":{"version":"3.0.0","resolved":"https://registry.npmjs.org/camelcase/-/camelcase-3.0.0.tgz","integrity":"sha1-MvxLn82vhF/N9+c7uXysImHwqwo="},"chokidar":{"version":"2.1.6","resolved":"https://registry.npmjs.org/chokidar/-/chokidar-2.1.6.tgz","integrity":"sha512-V2jUo67OKkc6ySiRpJrjlpJKl9kDuG+Xb8VgsGzb+aEouhgS1D0weyPU4lEzdAcsCAvrih2J2BqyXqHWvVLw5g==","requires":{"anymatch":"^2.0.0","async-each":"^1.0.1","braces":"^2.3.2","fsevents":"^1.2.7","glob-parent":"^3.1.0","inherits":"^2.0.3","is-binary-path":"^1.0.0","is-glob":"^4.0.0","normalize-path":"^3.0.0","path-is-absolute":"^1.0.0","readdirp":"^2.2.1","upath":"^1.1.1"},"dependencies":{"braces":{"version":"2.3.2","resolved":"https://registry.npmjs.org/braces/-/braces-2.3.2.tgz","integrity":"sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==","requires":{"arr-flatten":"^1.1.0","array-unique":"^0.3.2","extend-shallow":"^2.0.1","fill-range":"^4.0.0","isobject":"^3.0.1","repeat-element":"^1.1.2","snapdragon":"^0.8.1","snapdragon-node":"^2.0.1","split-string":"^3.0.2","to-regex":"^3.0.1"}},"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}},"fill-range":{"version":"4.0.0","resolved":"https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz","integrity":"sha1-1USBHUKPmOsGpj3EAtJAPDKMOPc=","requires":{"extend-shallow":"^2.0.1","is-number":"^3.0.0","repeat-string":"^1.6.1","to-regex-range":"^2.1.0"}},"glob-parent":{"version":"3.1.0","resolved":"https://registry.npmjs.org/glob-parent/-/glob-parent-3.1.0.tgz","integrity":"sha1-nmr2KZ2NO9K9QEMIMr0RPfkGxa4=","requires":{"is-glob":"^3.1.0","path-dirname":"^1.0.0"},"dependencies":{"is-glob":{"version":"3.1.0","resolved":"https://registry.npmjs.org/is-glob/-/is-glob-3.1.0.tgz","integrity":"sha1-e6WuJCF4BKxwcHuWkiVnSGzD6Eo=","requires":{"is-extglob":"^2.1.0"}}}},"is-number":{"version":"3.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz","integrity":"sha1-JP1iAaR4LPUFYcgQJ2r8fRLXEZU=","requires":{"kind-of":"^3.0.2"}},"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}},"normalize-path":{"version":"3.0.0","resolved":"https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz","integrity":"sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA=="},"to-regex-range":{"version":"2.1.1","resolved":"https://registry.npmjs.org/to-regex-range/-/to-regex-range-2.1.1.tgz","integrity":"sha1-fIDBe53+vlmeJzZ+DU3VWQFB2zg=","requires":{"is-number":"^3.0.0","repeat-string":"^1.6.1"}}}},"class-utils":{"version":"0.3.6","resolved":"https://registry.npmjs.org/class-utils/-/class-utils-0.3.6.tgz","integrity":"sha512-qOhPa/Fj7s6TY8H8esGu5QNpMMQxz79h+urzrNYN6mn+9BnxlDGf5QZ+XeCDsxSjPqsSR56XOZOJmpeurnLMeg==","requires":{"arr-union":"^3.1.0","define-property":"^0.2.5","isobject":"^3.0.0","static-extend":"^0.1.1"},"dependencies":{"define-property":{"version":"0.2.5","resolved":"https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz","integrity":"sha1-w1se+RjsPJkPmlvFe+BKrOxcgRY=","requires":{"is-descriptor":"^0.1.0"}}}},"cliui":{"version":"3.2.0","resolved":"https://registry.npmjs.org/cliui/-/cliui-3.2.0.tgz","integrity":"sha1-EgYBU3qRbSmUD5NNo7SNWFo5IT0=","requires":{"string-width":"^1.0.1","strip-ansi":"^3.0.1","wrap-ansi":"^2.0.0"}},"clone":{"version":"2.1.2","resolved":"https://registry.npmjs.org/clone/-/clone-2.1.2.tgz","integrity":"sha1-G39Ln1kfHo+DZwQBYANFoCiHQ18="},"clone-buffer":{"version":"1.0.0","resolved":"https://registry.npmjs.org/clone-buffer/-/clone-buffer-1.0.0.tgz","integrity":"sha1-4+JbIHrE5wGvch4staFnksrD3Fg="},"clone-stats":{"version":"1.0.0","resolved":"https://registry.npmjs.org/clone-stats/-/clone-stats-1.0.0.tgz","integrity":"sha1-s3gt/4u1R04Yuba/D9/ngvh3doA="},"cloneable-readable":{"version":"1.1.3","resolved":"https://registry.npmjs.org/cloneable-readable/-/cloneable-readable-1.1.3.tgz","integrity":"sha512-2EF8zTQOxYq70Y4XKtorQupqF0m49MBz2/yf5Bj+MHjvpG3Hy7sImifnqD6UA+TKYxeSV+u6qqQPawN5UvnpKQ==","requires":{"inherits":"^2.0.1","process-nextick-args":"^2.0.0","readable-stream":"^2.3.5"}},"code-point-at":{"version":"1.1.0","resolved":"https://registry.npmjs.org/code-point-at/-/code-point-at-1.1.0.tgz","integrity":"sha1-DQcLTQQ6W+ozovGkDi7bPZpMz3c="},"collection-map":{"version":"1.0.0","resolved":"https://registry.npmjs.org/collection-map/-/collection-map-1.0.0.tgz","integrity":"sha1-rqDwb40mx4DCt1SUOFVEsiVa8Yw=","requires":{"arr-map":"^2.0.2","for-own":"^1.0.0","make-iterator":"^1.0.0"}},"collection-visit":{"version":"1.0.0","resolved":"https://registry.npmjs.org/collection-visit/-/collection-visit-1.0.0.tgz","integrity":"sha1-S8A3PBZLwykbTTaMgpzxqApZ3KA=","requires":{"map-visit":"^1.0.0","object-visit":"^1.0.0"}},"color-support":{"version":"1.1.3","resolved":"https://registry.npmjs.org/color-support/-/color-support-1.1.3.tgz","integrity":"sha512-qiBjkpbMLO/HL68y+lh4q0/O1MZFj2RX6X/KmMa3+gJD3z+WwI1ZzDHysvqHGS3mP6mznPckpXmw1nI9cJjyRg=="},"commander":{"version":"2.20.0","resolved":"https://registry.npmjs.org/commander/-/commander-2.20.0.tgz","integrity":"sha512-7j2y+40w61zy6YC2iRNpUe/NwhNyoXrYpHMrSunaMG64nRnaf96zO/KMQR4OyN/UnE5KLyEBnKHd4aG3rskjpQ=="},"component-emitter":{"version":"1.3.0","resolved":"https://registry.npmjs.org/component-emitter/-/component-emitter-1.3.0.tgz","integrity":"sha512-Rd3se6QB+sO1TwqZjscQrurpEPIfO0/yYnSin6Q/rD3mOutHvUrCAhJub3r90uNb+SESBuE0QYoB90YdfatsRg=="},"concat-map":{"version":"0.0.1","resolved":"https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz","integrity":"sha1-2Klr13/Wjfd5OnMDajug1UBdR3s="},"concat-stream":{"version":"1.6.2","resolved":"https://registry.npmjs.org/concat-stream/-/concat-stream-1.6.2.tgz","integrity":"sha512-27HBghJxjiZtIk3Ycvn/4kbJk/1uZuJFfuPEns6LaEvpvG1f0hTea8lilrouyo9mVc2GWdcEZ8OLoGmSADlrCw==","requires":{"buffer-from":"^1.0.0","inherits":"^2.0.3","readable-stream":"^2.2.2","typedarray":"^0.0.6"}},"concat-with-sourcemaps":{"version":"1.1.0","resolved":"https://registry.npmjs.org/concat-with-sourcemaps/-/concat-with-sourcemaps-1.1.0.tgz","integrity":"sha512-4gEjHJFT9e+2W/77h/DS5SGUgwDaOwprX8L/gl5+3ixnzkVJJsZWDSelmN3Oilw3LNDZjZV0yqH1hLG3k6nghg==","requires":{"source-map":"^0.6.1"},"dependencies":{"source-map":{"version":"0.6.1","resolved":"https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz","integrity":"sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g=="}}},"convert-source-map":{"version":"1.6.0","resolved":"https://registry.npmjs.org/convert-source-map/-/convert-source-map-1.6.0.tgz","integrity":"sha512-eFu7XigvxdZ1ETfbgPBohgyQ/Z++C0eEhTor0qRwBw9unw+L0/6V8wkSuGgzdThkiS5lSpdptOQPD8Ak40a+7A==","requires":{"safe-buffer":"~5.1.1"}},"copy-descriptor":{"version":"0.1.1","resolved":"https://registry.npmjs.org/copy-descriptor/-/copy-descriptor-0.1.1.tgz","integrity":"sha1-Z29us8OZl8LuGsOpJP1hJHSPV40="},"copy-props":{"version":"2.0.4","resolved":"https://registry.npmjs.org/copy-props/-/copy-props-2.0.4.tgz","integrity":"sha512-7cjuUME+p+S3HZlbllgsn2CDwS+5eCCX16qBgNC4jgSTf49qR1VKy/Zhl400m0IQXl/bPGEVqncgUUMjrr4s8A==","requires":{"each-props":"^1.3.0","is-plain-object":"^2.0.1"}},"core-util-is":{"version":"1.0.2","resolved":"https://registry.npmjs.org/core-util-is/-/core-util-is-1.0.2.tgz","integrity":"sha1-tf1UIgqivFq1eqtxQMlAdUUDwac="},"d":{"version":"1.0.1","resolved":"https://registry.npmjs.org/d/-/d-1.0.1.tgz","integrity":"sha512-m62ShEObQ39CfralilEQRjH6oAMtNCV1xJyEx5LpRYUVN+EviphDgUc/F3hnYbADmkiNs67Y+3ylmlG7Lnu+FA==","requires":{"es5-ext":"^0.10.50","type":"^1.0.1"}},"debug":{"version":"2.6.9","resolved":"https://registry.npmjs.org/debug/-/debug-2.6.9.tgz","integrity":"sha512-bC7ElrdJaJnPbAP+1EotYvqZsb3ecl5wi6Bfi6BJTUcNowp6cvspg0jXznRTKDjm/E7AdgFBVeAPVMNcKGsHMA==","requires":{"ms":"2.0.0"}},"decamelize":{"version":"1.2.0","resolved":"https://registry.npmjs.org/decamelize/-/decamelize-1.2.0.tgz","integrity":"sha1-9lNNFRSCabIDUue+4m9QH5oZEpA="},"decode-uri-component":{"version":"0.2.0","resolved":"https://registry.npmjs.org/decode-uri-component/-/decode-uri-component-0.2.0.tgz","integrity":"sha1-6zkTMzRYd1y4TNGh+uBiEGu4dUU="},"default-compare":{"version":"1.0.0","resolved":"https://registry.npmjs.org/default-compare/-/default-compare-1.0.0.tgz","integrity":"sha512-QWfXlM0EkAbqOCbD/6HjdwT19j7WCkMyiRhWilc4H9/5h/RzTF9gv5LYh1+CmDV5d1rki6KAWLtQale0xt20eQ==","requires":{"kind-of":"^5.0.2"},"dependencies":{"kind-of":{"version":"5.1.0","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-5.1.0.tgz","integrity":"sha512-NGEErnH6F2vUuXDh+OlbcKW7/wOcfdRHaZ7VWtqCztfHri/++YKmP51OdWeGPuqCOba6kk2OTe5d02VmTB80Pw=="}}},"default-resolution":{"version":"2.0.0","resolved":"https://registry.npmjs.org/default-resolution/-/default-resolution-2.0.0.tgz","integrity":"sha1-vLgrqnKtebQmp2cy8aga1t8m1oQ="},"define-properties":{"version":"1.1.3","resolved":"https://registry.npmjs.org/define-properties/-/define-properties-1.1.3.tgz","integrity":"sha512-3MqfYKj2lLzdMSf8ZIZE/V+Zuy+BgD6f164e8K2w7dgnpKArBDerGYpM46IYYcjnkdPNMjPk9A6VFB8+3SKlXQ==","requires":{"object-keys":"^1.0.12"}},"define-property":{"version":"2.0.2","resolved":"https://registry.npmjs.org/define-property/-/define-property-2.0.2.tgz","integrity":"sha512-jwK2UV4cnPpbcG7+VRARKTZPUWowwXA8bzH5NP6ud0oeAxyYPuGZUAC7hMugpCdz4BeSZl2Dl9k66CHJ/46ZYQ==","requires":{"is-descriptor":"^1.0.2","isobject":"^3.0.1"},"dependencies":{"is-accessor-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-1.0.0.tgz","integrity":"sha512-m5hnHTkcVsPfqx3AKlyttIPb7J+XykHvJP2B9bZDjlhLIoEq4XoK64Vg7boZlVWYK6LUY94dYPEE7Lh0ZkZKcQ==","requires":{"kind-of":"^6.0.0"}},"is-data-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-data-descriptor/-/is-data-descriptor-1.0.0.tgz","integrity":"sha512-jbRXy1FmtAoCjQkVmIVYwuuqDFUbaOeDjmed1tOGPrsMhtJA4rD9tkgA0F1qJ3gRFRXcHYVkdeaP50Q5rE/jLQ==","requires":{"kind-of":"^6.0.0"}},"is-descriptor":{"version":"1.0.2","resolved":"https://registry.npmjs.org/is-descriptor/-/is-descriptor-1.0.2.tgz","integrity":"sha512-2eis5WqQGV7peooDyLmNEPUrps9+SXX5c9pL3xEB+4e9HnGuDa7mB7kHxHw4CbqS9k1T2hOH3miL8n8WtiYVtg==","requires":{"is-accessor-descriptor":"^1.0.0","is-data-descriptor":"^1.0.0","kind-of":"^6.0.2"}}}},"del":{"version":"5.0.0","resolved":"https://registry.npmjs.org/del/-/del-5.0.0.tgz","integrity":"sha512-TfU3nUY0WDIhN18eq+pgpbLY9AfL5RfiE9czKaTSolc6aK7qASXfDErvYgjV1UqCR4sNXDoxO0/idPmhDUt2Sg==","requires":{"globby":"^10.0.0","is-path-cwd":"^2.0.0","is-path-in-cwd":"^2.0.0","p-map":"^2.0.0","rimraf":"^2.6.3"}},"detect-file":{"version":"1.0.0","resolved":"https://registry.npmjs.org/detect-file/-/detect-file-1.0.0.tgz","integrity":"sha1-8NZtA2cqglyxtzvbP+YjEMjlUrc="},"dir-glob":{"version":"3.0.1","resolved":"https://registry.npmjs.org/dir-glob/-/dir-glob-3.0.1.tgz","integrity":"sha512-WkrWp9GR4KXfKGYzOLmTuGVi1UWFfws377n9cc55/tb6DuqyF6pcQ5AbiHEshaDpY9v6oaSr2XCDidGmMwdzIA==","requires":{"path-type":"^4.0.0"}},"duplexify":{"version":"3.7.1","resolved":"https://registry.npmjs.org/duplexify/-/duplexify-3.7.1.tgz","integrity":"sha512-07z8uv2wMyS51kKhD1KsdXJg5WQ6t93RneqRxUHnskXVtlYYkLqM0gqStQZ3pj073g687jPCHrqNfCzawLYh5g==","requires":{"end-of-stream":"^1.0.0","inherits":"^2.0.1","readable-stream":"^2.0.0","stream-shift":"^1.0.0"}},"each-props":{"version":"1.3.2","resolved":"https://registry.npmjs.org/each-props/-/each-props-1.3.2.tgz","integrity":"sha512-vV0Hem3zAGkJAyU7JSjixeU66rwdynTAa1vofCrSA5fEln+m67Az9CcnkVD776/fsN/UjIWmBDoNRS6t6G9RfA==","requires":{"is-plain-object":"^2.0.1","object.defaults":"^1.1.0"}},"end-of-stream":{"version":"1.4.1","resolved":"https://registry.npmjs.org/end-of-stream/-/end-of-stream-1.4.1.tgz","integrity":"sha512-1MkrZNvWTKCaigbn+W15elq2BB/L22nqrSY5DKlo3X6+vclJm8Bb5djXJBmEX6fS3+zCh/F4VBK5Z2KxJt4s2Q==","requires":{"once":"^1.4.0"}},"error-ex":{"version":"1.3.2","resolved":"https://registry.npmjs.org/error-ex/-/error-ex-1.3.2.tgz","integrity":"sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==","requires":{"is-arrayish":"^0.2.1"}},"es5-ext":{"version":"0.10.50","resolved":"https://registry.npmjs.org/es5-ext/-/es5-ext-0.10.50.tgz","integrity":"sha512-KMzZTPBkeQV/JcSQhI5/z6d9VWJ3EnQ194USTUwIYZ2ZbpN8+SGXQKt1h68EX44+qt+Fzr8DO17vnxrw7c3agw==","requires":{"es6-iterator":"~2.0.3","es6-symbol":"~3.1.1","next-tick":"^1.0.0"}},"es6-iterator":{"version":"2.0.3","resolved":"https://registry.npmjs.org/es6-iterator/-/es6-iterator-2.0.3.tgz","integrity":"sha1-p96IkUGgWpSwhUQDstCg+/qY87c=","requires":{"d":"1","es5-ext":"^0.10.35","es6-symbol":"^3.1.1"}},"es6-symbol":{"version":"3.1.1","resolved":"https://registry.npmjs.org/es6-symbol/-/es6-symbol-3.1.1.tgz","integrity":"sha1-vwDvT9q2uhtG7Le2KbTH7VcVzHc=","requires":{"d":"1","es5-ext":"~0.10.14"}},"es6-weak-map":{"version":"2.0.3","resolved":"https://registry.npmjs.org/es6-weak-map/-/es6-weak-map-2.0.3.tgz","integrity":"sha512-p5um32HOTO1kP+w7PRnB+5lQ43Z6muuMuIMffvDN8ZB4GcnjLBV6zGStpbASIMk4DCAvEaamhe2zhyCb/QXXsA==","requires":{"d":"1","es5-ext":"^0.10.46","es6-iterator":"^2.0.3","es6-symbol":"^3.1.1"}},"expand-brackets":{"version":"2.1.4","resolved":"https://registry.npmjs.org/expand-brackets/-/expand-brackets-2.1.4.tgz","integrity":"sha1-t3c14xXOMPa27/D4OwQVGiJEliI=","requires":{"debug":"^2.3.3","define-property":"^0.2.5","extend-shallow":"^2.0.1","posix-character-classes":"^0.1.0","regex-not":"^1.0.0","snapdragon":"^0.8.1","to-regex":"^3.0.1"},"dependencies":{"define-property":{"version":"0.2.5","resolved":"https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz","integrity":"sha1-w1se+RjsPJkPmlvFe+BKrOxcgRY=","requires":{"is-descriptor":"^0.1.0"}},"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"expand-tilde":{"version":"2.0.2","resolved":"https://registry.npmjs.org/expand-tilde/-/expand-tilde-2.0.2.tgz","integrity":"sha1-l+gBqgUt8CRU3kawK/YhZCzchQI=","requires":{"homedir-polyfill":"^1.0.1"}},"extend":{"version":"3.0.2","resolved":"https://registry.npmjs.org/extend/-/extend-3.0.2.tgz","integrity":"sha512-fjquC59cD7CyW6urNXK0FBufkZcoiGG80wTuPujX590cB5Ttln20E2UB4S/WARVqhXffZl2LNgS+gQdPIIim/g=="},"extend-shallow":{"version":"3.0.2","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-3.0.2.tgz","integrity":"sha1-Jqcarwc7OfshJxcnRhMcJwQCjbg=","requires":{"assign-symbols":"^1.0.0","is-extendable":"^1.0.1"},"dependencies":{"is-extendable":{"version":"1.0.1","resolved":"https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz","integrity":"sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==","requires":{"is-plain-object":"^2.0.4"}}}},"extglob":{"version":"2.0.4","resolved":"https://registry.npmjs.org/extglob/-/extglob-2.0.4.tgz","integrity":"sha512-Nmb6QXkELsuBr24CJSkilo6UHHgbekK5UiZgfE6UHD3Eb27YC6oD+bhcT+tJ6cl8dmsgdQxnWlcry8ksBIBLpw==","requires":{"array-unique":"^0.3.2","define-property":"^1.0.0","expand-brackets":"^2.1.4","extend-shallow":"^2.0.1","fragment-cache":"^0.2.1","regex-not":"^1.0.0","snapdragon":"^0.8.1","to-regex":"^3.0.1"},"dependencies":{"define-property":{"version":"1.0.0","resolved":"https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz","integrity":"sha1-dp66rz9KY6rTr56NMEybvnm/sOY=","requires":{"is-descriptor":"^1.0.0"}},"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}},"is-accessor-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-1.0.0.tgz","integrity":"sha512-m5hnHTkcVsPfqx3AKlyttIPb7J+XykHvJP2B9bZDjlhLIoEq4XoK64Vg7boZlVWYK6LUY94dYPEE7Lh0ZkZKcQ==","requires":{"kind-of":"^6.0.0"}},"is-data-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-data-descriptor/-/is-data-descriptor-1.0.0.tgz","integrity":"sha512-jbRXy1FmtAoCjQkVmIVYwuuqDFUbaOeDjmed1tOGPrsMhtJA4rD9tkgA0F1qJ3gRFRXcHYVkdeaP50Q5rE/jLQ==","requires":{"kind-of":"^6.0.0"}},"is-descriptor":{"version":"1.0.2","resolved":"https://registry.npmjs.org/is-descriptor/-/is-descriptor-1.0.2.tgz","integrity":"sha512-2eis5WqQGV7peooDyLmNEPUrps9+SXX5c9pL3xEB+4e9HnGuDa7mB7kHxHw4CbqS9k1T2hOH3miL8n8WtiYVtg==","requires":{"is-accessor-descriptor":"^1.0.0","is-data-descriptor":"^1.0.0","kind-of":"^6.0.2"}}}},"fancy-log":{"version":"1.3.3","resolved":"https://registry.npmjs.org/fancy-log/-/fancy-log-1.3.3.tgz","integrity":"sha512-k9oEhlyc0FrVh25qYuSELjr8oxsCoc4/LEZfg2iJJrfEk/tZL9bCoJE47gqAvI2m/AUjluCS4+3I0eTx8n3AEw==","requires":{"ansi-gray":"^0.1.1","color-support":"^1.1.3","parse-node-version":"^1.0.0","time-stamp":"^1.0.0"}},"fast-glob":{"version":"3.0.4","resolved":"https://registry.npmjs.org/fast-glob/-/fast-glob-3.0.4.tgz","integrity":"sha512-wkIbV6qg37xTJwqSsdnIphL1e+LaGz4AIQqr00mIubMaEhv1/HEmJ0uuCGZRNRUkZZmOB5mJKO0ZUTVq+SxMQg==","requires":{"@nodelib/fs.stat":"^2.0.1","@nodelib/fs.walk":"^1.2.1","glob-parent":"^5.0.0","is-glob":"^4.0.1","merge2":"^1.2.3","micromatch":"^4.0.2"}},"fastq":{"version":"1.6.0","resolved":"https://registry.npmjs.org/fastq/-/fastq-1.6.0.tgz","integrity":"sha512-jmxqQ3Z/nXoeyDmWAzF9kH1aGZSis6e/SbfPmJpUnyZ0ogr6iscHQaml4wsEepEWSdtmpy+eVXmCRIMpxaXqOA==","requires":{"reusify":"^1.0.0"}},"fill-range":{"version":"7.0.1","resolved":"https://registry.npmjs.org/fill-range/-/fill-range-7.0.1.tgz","integrity":"sha512-qOo9F+dMUmC2Lcb4BbVvnKJxTPjCm+RRpe4gDuGrzkL7mEVl/djYSu2OdQ2Pa302N4oqkSg9ir6jaLWJ2USVpQ==","requires":{"to-regex-range":"^5.0.1"}},"find-up":{"version":"1.1.2","resolved":"https://registry.npmjs.org/find-up/-/find-up-1.1.2.tgz","integrity":"sha1-ay6YIrGizgpgq2TWEOzK1TyyTQ8=","requires":{"path-exists":"^2.0.0","pinkie-promise":"^2.0.0"}},"findup-sync":{"version":"3.0.0","resolved":"https://registry.npmjs.org/findup-sync/-/findup-sync-3.0.0.tgz","integrity":"sha512-YbffarhcicEhOrm4CtrwdKBdCuz576RLdhJDsIfvNtxUuhdRet1qZcsMjqbePtAseKdAnDyM/IyXbu7PRPRLYg==","requires":{"detect-file":"^1.0.0","is-glob":"^4.0.0","micromatch":"^3.0.4","resolve-dir":"^1.0.1"},"dependencies":{"braces":{"version":"2.3.2","resolved":"https://registry.npmjs.org/braces/-/braces-2.3.2.tgz","integrity":"sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==","requires":{"arr-flatten":"^1.1.0","array-unique":"^0.3.2","extend-shallow":"^2.0.1","fill-range":"^4.0.0","isobject":"^3.0.1","repeat-element":"^1.1.2","snapdragon":"^0.8.1","snapdragon-node":"^2.0.1","split-string":"^3.0.2","to-regex":"^3.0.1"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"fill-range":{"version":"4.0.0","resolved":"https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz","integrity":"sha1-1USBHUKPmOsGpj3EAtJAPDKMOPc=","requires":{"extend-shallow":"^2.0.1","is-number":"^3.0.0","repeat-string":"^1.6.1","to-regex-range":"^2.1.0"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"is-number":{"version":"3.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz","integrity":"sha1-JP1iAaR4LPUFYcgQJ2r8fRLXEZU=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"micromatch":{"version":"3.1.10","resolved":"https://registry.npmjs.org/micromatch/-/micromatch-3.1.10.tgz","integrity":"sha512-MWikgl9n9M3w+bpsY3He8L+w9eF9338xRl8IAO5viDizwSzziFEyUzo2xrrloB64ADbTf8uA8vRqqttDTOmccg==","requires":{"arr-diff":"^4.0.0","array-unique":"^0.3.2","braces":"^2.3.1","define-property":"^2.0.2","extend-shallow":"^3.0.2","extglob":"^2.0.4","fragment-cache":"^0.2.1","kind-of":"^6.0.2","nanomatch":"^1.2.9","object.pick":"^1.3.0","regex-not":"^1.0.0","snapdragon":"^0.8.1","to-regex":"^3.0.2"}},"to-regex-range":{"version":"2.1.1","resolved":"https://registry.npmjs.org/to-regex-range/-/to-regex-range-2.1.1.tgz","integrity":"sha1-fIDBe53+vlmeJzZ+DU3VWQFB2zg=","requires":{"is-number":"^3.0.0","repeat-string":"^1.6.1"}}}},"fined":{"version":"1.2.0","resolved":"https://registry.npmjs.org/fined/-/fined-1.2.0.tgz","integrity":"sha512-ZYDqPLGxDkDhDZBjZBb+oD1+j0rA4E0pXY50eplAAOPg2N/gUBSSk5IM1/QhPfyVo19lJ+CvXpqfvk+b2p/8Ng==","requires":{"expand-tilde":"^2.0.2","is-plain-object":"^2.0.3","object.defaults":"^1.1.0","object.pick":"^1.2.0","parse-filepath":"^1.0.1"}},"flagged-respawn":{"version":"1.0.1","resolved":"https://registry.npmjs.org/flagged-respawn/-/flagged-respawn-1.0.1.tgz","integrity":"sha512-lNaHNVymajmk0OJMBn8fVUAU1BtDeKIqKoVhk4xAALB57aALg6b4W0MfJ/cUE0g9YBXy5XhSlPIpYIJ7HaY/3Q=="},"flush-write-stream":{"version":"1.1.1","resolved":"https://registry.npmjs.org/flush-write-stream/-/flush-write-stream-1.1.1.tgz","integrity":"sha512-3Z4XhFZ3992uIq0XOqb9AreonueSYphE6oYbpt5+3u06JWklbsPkNv3ZKkP9Bz/r+1MWCaMoSQ28P85+1Yc77w==","requires":{"inherits":"^2.0.3","readable-stream":"^2.3.6"}},"for-in":{"version":"1.0.2","resolved":"https://registry.npmjs.org/for-in/-/for-in-1.0.2.tgz","integrity":"sha1-gQaNKVqBQuwKxybG4iAMMPttXoA="},"for-own":{"version":"1.0.0","resolved":"https://registry.npmjs.org/for-own/-/for-own-1.0.0.tgz","integrity":"sha1-xjMy9BXO3EsE2/5wz4NklMU8tEs=","requires":{"for-in":"^1.0.1"}},"fragment-cache":{"version":"0.2.1","resolved":"https://registry.npmjs.org/fragment-cache/-/fragment-cache-0.2.1.tgz","integrity":"sha1-QpD60n8T6Jvn8zeZxrxaCr//DRk=","requires":{"map-cache":"^0.2.2"}},"fs-mkdirp-stream":{"version":"1.0.0","resolved":"https://registry.npmjs.org/fs-mkdirp-stream/-/fs-mkdirp-stream-1.0.0.tgz","integrity":"sha1-C3gV/DIBxqaeFNuYzgmMFpNSWes=","requires":{"graceful-fs":"^4.1.11","through2":"^2.0.3"}},"fs.realpath":{"version":"1.0.0","resolved":"https://registry.npmjs.org/fs.realpath/-/fs.realpath-1.0.0.tgz","integrity":"sha1-FQStJSMVjKpA20onh8sBQRmU6k8="},"fsevents":{"version":"1.2.9","resolved":"https://registry.npmjs.org/fsevents/-/fsevents-1.2.9.tgz","integrity":"sha512-oeyj2H3EjjonWcFjD5NvZNE9Rqe4UW+nQBU2HNeKw0koVLEFIhtyETyAakeAM3de7Z/SW5kcA+fZUait9EApnw==","optional":true,"requires":{"nan":"^2.12.1","node-pre-gyp":"^0.12.0"},"dependencies":{"abbrev":{"version":"1.1.1","bundled":true,"optional":true},"ansi-regex":{"version":"2.1.1","bundled":true,"optional":true},"aproba":{"version":"1.2.0","bundled":true,"optional":true},"are-we-there-yet":{"version":"1.1.5","bundled":true,"optional":true,"requires":{"delegates":"^1.0.0","readable-stream":"^2.0.6"}},"balanced-match":{"version":"1.0.0","bundled":true,"optional":true},"brace-expansion":{"version":"1.1.11","bundled":true,"optional":true,"requires":{"balanced-match":"^1.0.0","concat-map":"0.0.1"}},"chownr":{"version":"1.1.1","bundled":true,"optional":true},"code-point-at":{"version":"1.1.0","bundled":true,"optional":true},"concat-map":{"version":"0.0.1","bundled":true,"optional":true},"console-control-strings":{"version":"1.1.0","bundled":true,"optional":true},"core-util-is":{"version":"1.0.2","bundled":true,"optional":true},"debug":{"version":"4.1.1","bundled":true,"optional":true,"requires":{"ms":"^2.1.1"}},"deep-extend":{"version":"0.6.0","bundled":true,"optional":true},"delegates":{"version":"1.0.0","bundled":true,"optional":true},"detect-libc":{"version":"1.0.3","bundled":true,"optional":true},"fs-minipass":{"version":"1.2.5","bundled":true,"optional":true,"requires":{"minipass":"^2.2.1"}},"fs.realpath":{"version":"1.0.0","bundled":true,"optional":true},"gauge":{"version":"2.7.4","bundled":true,"optional":true,"requires":{"aproba":"^1.0.3","console-control-strings":"^1.0.0","has-unicode":"^2.0.0","object-assign":"^4.1.0","signal-exit":"^3.0.0","string-width":"^1.0.1","strip-ansi":"^3.0.1","wide-align":"^1.1.0"}},"glob":{"version":"7.1.3","bundled":true,"optional":true,"requires":{"fs.realpath":"^1.0.0","inflight":"^1.0.4","inherits":"2","minimatch":"^3.0.4","once":"^1.3.0","path-is-absolute":"^1.0.0"}},"has-unicode":{"version":"2.0.1","bundled":true,"optional":true},"iconv-lite":{"version":"0.4.24","bundled":true,"optional":true,"requires":{"safer-buffer":">= 2.1.2 < 3"}},"ignore-walk":{"version":"3.0.1","bundled":true,"optional":true,"requires":{"minimatch":"^3.0.4"}},"inflight":{"version":"1.0.6","bundled":true,"optional":true,"requires":{"once":"^1.3.0","wrappy":"1"}},"inherits":{"version":"2.0.3","bundled":true,"optional":true},"ini":{"version":"1.3.5","bundled":true,"optional":true},"is-fullwidth-code-point":{"version":"1.0.0","bundled":true,"optional":true,"requires":{"number-is-nan":"^1.0.0"}},"isarray":{"version":"1.0.0","bundled":true,"optional":true},"minimatch":{"version":"3.0.4","bundled":true,"optional":true,"requires":{"brace-expansion":"^1.1.7"}},"minimist":{"version":"0.0.8","bundled":true,"optional":true},"minipass":{"version":"2.3.5","bundled":true,"optional":true,"requires":{"safe-buffer":"^5.1.2","yallist":"^3.0.0"}},"minizlib":{"version":"1.2.1","bundled":true,"optional":true,"requires":{"minipass":"^2.2.1"}},"mkdirp":{"version":"0.5.1","bundled":true,"optional":true,"requires":{"minimist":"0.0.8"}},"ms":{"version":"2.1.1","bundled":true,"optional":true},"needle":{"version":"2.3.0","bundled":true,"optional":true,"requires":{"debug":"^4.1.0","iconv-lite":"^0.4.4","sax":"^1.2.4"}},"node-pre-gyp":{"version":"0.12.0","bundled":true,"optional":true,"requires":{"detect-libc":"^1.0.2","mkdirp":"^0.5.1","needle":"^2.2.1","nopt":"^4.0.1","npm-packlist":"^1.1.6","npmlog":"^4.0.2","rc":"^1.2.7","rimraf":"^2.6.1","semver":"^5.3.0","tar":"^4"}},"nopt":{"version":"4.0.1","bundled":true,"optional":true,"requires":{"abbrev":"1","osenv":"^0.1.4"}},"npm-bundled":{"version":"1.0.6","bundled":true,"optional":true},"npm-packlist":{"version":"1.4.1","bundled":true,"optional":true,"requires":{"ignore-walk":"^3.0.1","npm-bundled":"^1.0.1"}},"npmlog":{"version":"4.1.2","bundled":true,"optional":true,"requires":{"are-we-there-yet":"~1.1.2","console-control-strings":"~1.1.0","gauge":"~2.7.3","set-blocking":"~2.0.0"}},"number-is-nan":{"version":"1.0.1","bundled":true,"optional":true},"object-assign":{"version":"4.1.1","bundled":true,"optional":true},"once":{"version":"1.4.0","bundled":true,"optional":true,"requires":{"wrappy":"1"}},"os-homedir":{"version":"1.0.2","bundled":true,"optional":true},"os-tmpdir":{"version":"1.0.2","bundled":true,"optional":true},"osenv":{"version":"0.1.5","bundled":true,"optional":true,"requires":{"os-homedir":"^1.0.0","os-tmpdir":"^1.0.0"}},"path-is-absolute":{"version":"1.0.1","bundled":true,"optional":true},"process-nextick-args":{"version":"2.0.0","bundled":true,"optional":true},"rc":{"version":"1.2.8","bundled":true,"optional":true,"requires":{"deep-extend":"^0.6.0","ini":"~1.3.0","minimist":"^1.2.0","strip-json-comments":"~2.0.1"},"dependencies":{"minimist":{"version":"1.2.0","bundled":true,"optional":true}}},"readable-stream":{"version":"2.3.6","bundled":true,"optional":true,"requires":{"core-util-is":"~1.0.0","inherits":"~2.0.3","isarray":"~1.0.0","process-nextick-args":"~2.0.0","safe-buffer":"~5.1.1","string_decoder":"~1.1.1","util-deprecate":"~1.0.1"}},"rimraf":{"version":"2.6.3","bundled":true,"optional":true,"requires":{"glob":"^7.1.3"}},"safe-buffer":{"version":"5.1.2","bundled":true,"optional":true},"safer-buffer":{"version":"2.1.2","bundled":true,"optional":true},"sax":{"version":"1.2.4","bundled":true,"optional":true},"semver":{"version":"5.7.0","bundled":true,"optional":true},"set-blocking":{"version":"2.0.0","bundled":true,"optional":true},"signal-exit":{"version":"3.0.2","bundled":true,"optional":true},"string-width":{"version":"1.0.2","bundled":true,"optional":true,"requires":{"code-point-at":"^1.0.0","is-fullwidth-code-point":"^1.0.0","strip-ansi":"^3.0.0"}},"string_decoder":{"version":"1.1.1","bundled":true,"optional":true,"requires":{"safe-buffer":"~5.1.0"}},"strip-ansi":{"version":"3.0.1","bundled":true,"optional":true,"requires":{"ansi-regex":"^2.0.0"}},"strip-json-comments":{"version":"2.0.1","bundled":true,"optional":true},"tar":{"version":"4.4.8","bundled":true,"optional":true,"requires":{"chownr":"^1.1.1","fs-minipass":"^1.2.5","minipass":"^2.3.4","minizlib":"^1.1.1","mkdirp":"^0.5.0","safe-buffer":"^5.1.2","yallist":"^3.0.2"}},"util-deprecate":{"version":"1.0.2","bundled":true,"optional":true},"wide-align":{"version":"1.1.3","bundled":true,"optional":true,"requires":{"string-width":"^1.0.2 || 2"}},"wrappy":{"version":"1.0.2","bundled":true,"optional":true},"yallist":{"version":"3.0.3","bundled":true,"optional":true}}},"function-bind":{"version":"1.1.1","resolved":"https://registry.npmjs.org/function-bind/-/function-bind-1.1.1.tgz","integrity":"sha512-yIovAzMX49sF8Yl58fSCWJ5svSLuaibPxXQJFLmBObTuCr0Mf1KiPopGM9NiFjiYBCbfaa2Fh6breQ6ANVTI0A=="},"get-caller-file":{"version":"1.0.3","resolved":"https://registry.npmjs.org/get-caller-file/-/get-caller-file-1.0.3.tgz","integrity":"sha512-3t6rVToeoZfYSGd8YoLFR2DJkiQrIiUrGcjvFX2mDw3bn6k2OtwHN0TNCLbBO+w8qTvimhDkv+LSscbJY1vE6w=="},"get-value":{"version":"2.0.6","resolved":"https://registry.npmjs.org/get-value/-/get-value-2.0.6.tgz","integrity":"sha1-3BXKHGcjh8p2vTesCjlbogQqLCg="},"glob":{"version":"7.1.4","resolved":"https://registry.npmjs.org/glob/-/glob-7.1.4.tgz","integrity":"sha512-hkLPepehmnKk41pUGm3sYxoFs/umurYfYJCerbXEyFIWcAzvpipAgVkBqqT9RBKMGjnq6kMuyYwha6csxbiM1A==","requires":{"fs.realpath":"^1.0.0","inflight":"^1.0.4","inherits":"2","minimatch":"^3.0.4","once":"^1.3.0","path-is-absolute":"^1.0.0"}},"glob-parent":{"version":"5.0.0","resolved":"https://registry.npmjs.org/glob-parent/-/glob-parent-5.0.0.tgz","integrity":"sha512-Z2RwiujPRGluePM6j699ktJYxmPpJKCfpGA13jz2hmFZC7gKetzrWvg5KN3+OsIFmydGyZ1AVwERCq1w/ZZwRg==","requires":{"is-glob":"^4.0.1"}},"glob-stream":{"version":"6.1.0","resolved":"https://registry.npmjs.org/glob-stream/-/glob-stream-6.1.0.tgz","integrity":"sha1-cEXJlBOz65SIjYOrRtC0BMx73eQ=","requires":{"extend":"^3.0.0","glob":"^7.1.1","glob-parent":"^3.1.0","is-negated-glob":"^1.0.0","ordered-read-streams":"^1.0.0","pumpify":"^1.3.5","readable-stream":"^2.1.5","remove-trailing-separator":"^1.0.1","to-absolute-glob":"^2.0.0","unique-stream":"^2.0.2"},"dependencies":{"glob-parent":{"version":"3.1.0","resolved":"https://registry.npmjs.org/glob-parent/-/glob-parent-3.1.0.tgz","integrity":"sha1-nmr2KZ2NO9K9QEMIMr0RPfkGxa4=","requires":{"is-glob":"^3.1.0","path-dirname":"^1.0.0"}},"is-glob":{"version":"3.1.0","resolved":"https://registry.npmjs.org/is-glob/-/is-glob-3.1.0.tgz","integrity":"sha1-e6WuJCF4BKxwcHuWkiVnSGzD6Eo=","requires":{"is-extglob":"^2.1.0"}}}},"glob-watcher":{"version":"5.0.3","resolved":"https://registry.npmjs.org/glob-watcher/-/glob-watcher-5.0.3.tgz","integrity":"sha512-8tWsULNEPHKQ2MR4zXuzSmqbdyV5PtwwCaWSGQ1WwHsJ07ilNeN1JB8ntxhckbnpSHaf9dXFUHzIWvm1I13dsg==","requires":{"anymatch":"^2.0.0","async-done":"^1.2.0","chokidar":"^2.0.0","is-negated-glob":"^1.0.0","just-debounce":"^1.0.0","object.defaults":"^1.1.0"}},"global-modules":{"version":"1.0.0","resolved":"https://registry.npmjs.org/global-modules/-/global-modules-1.0.0.tgz","integrity":"sha512-sKzpEkf11GpOFuw0Zzjzmt4B4UZwjOcG757PPvrfhxcLFbq0wpsgpOqxpxtxFiCG4DtG93M6XRVbF2oGdev7bg==","requires":{"global-prefix":"^1.0.1","is-windows":"^1.0.1","resolve-dir":"^1.0.0"}},"global-prefix":{"version":"1.0.2","resolved":"https://registry.npmjs.org/global-prefix/-/global-prefix-1.0.2.tgz","integrity":"sha1-2/dDxsFJklk8ZVVoy2btMsASLr4=","requires":{"expand-tilde":"^2.0.2","homedir-polyfill":"^1.0.1","ini":"^1.3.4","is-windows":"^1.0.1","which":"^1.2.14"}},"globby":{"version":"10.0.1","resolved":"https://registry.npmjs.org/globby/-/globby-10.0.1.tgz","integrity":"sha512-sSs4inE1FB2YQiymcmTv6NWENryABjUNPeWhOvmn4SjtKybglsyPZxFB3U1/+L1bYi0rNZDqCLlHyLYDl1Pq5A==","requires":{"@types/glob":"^7.1.1","array-union":"^2.1.0","dir-glob":"^3.0.1","fast-glob":"^3.0.3","glob":"^7.1.3","ignore":"^5.1.1","merge2":"^1.2.3","slash":"^3.0.0"}},"glogg":{"version":"1.0.2","resolved":"https://registry.npmjs.org/glogg/-/glogg-1.0.2.tgz","integrity":"sha512-5mwUoSuBk44Y4EshyiqcH95ZntbDdTQqA3QYSrxmzj28Ai0vXBGMH1ApSANH14j2sIRtqCEyg6PfsuP7ElOEDA==","requires":{"sparkles":"^1.0.0"}},"graceful-fs":{"version":"4.2.0","resolved":"https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.0.tgz","integrity":"sha512-jpSvDPV4Cq/bgtpndIWbI5hmYxhQGHPC4d4cqBPb4DLniCfhJokdXhwhaDuLBGLQdvvRum/UiX6ECVIPvDXqdg=="},"gulp":{"version":"4.0.2","resolved":"https://registry.npmjs.org/gulp/-/gulp-4.0.2.tgz","integrity":"sha512-dvEs27SCZt2ibF29xYgmnwwCYZxdxhQ/+LFWlbAW8y7jt68L/65402Lz3+CKy0Ov4rOs+NERmDq7YlZaDqUIfA==","requires":{"glob-watcher":"^5.0.3","gulp-cli":"^2.2.0","undertaker":"^1.2.1","vinyl-fs":"^3.0.0"},"dependencies":{"gulp-cli":{"version":"2.2.0","resolved":"https://registry.npmjs.org/gulp-cli/-/gulp-cli-2.2.0.tgz","integrity":"sha512-rGs3bVYHdyJpLqR0TUBnlcZ1O5O++Zs4bA0ajm+zr3WFCfiSLjGwoCBqFs18wzN+ZxahT9DkOK5nDf26iDsWjA==","requires":{"ansi-colors":"^1.0.1","archy":"^1.0.0","array-sort":"^1.0.0","color-support":"^1.1.3","concat-stream":"^1.6.0","copy-props":"^2.0.1","fancy-log":"^1.3.2","gulplog":"^1.0.0","interpret":"^1.1.0","isobject":"^3.0.1","liftoff":"^3.1.0","matchdep":"^2.0.0","mute-stdout":"^1.0.0","pretty-hrtime":"^1.0.0","replace-homedir":"^1.0.0","semver-greatest-satisfied-range":"^1.1.0","v8flags":"^3.0.1","yargs":"^7.1.0"}}}},"gulp-concat":{"version":"2.6.1","resolved":"https://registry.npmjs.org/gulp-concat/-/gulp-concat-2.6.1.tgz","integrity":"sha1-Yz0WyV2IUEYorQJmVmPO5aR5M1M=","requires":{"concat-with-sourcemaps":"^1.0.0","through2":"^2.0.0","vinyl":"^2.0.0"}},"gulp-uglify":{"version":"3.0.2","resolved":"https://registry.npmjs.org/gulp-uglify/-/gulp-uglify-3.0.2.tgz","integrity":"sha512-gk1dhB74AkV2kzqPMQBLA3jPoIAPd/nlNzP2XMDSG8XZrqnlCiDGAqC+rZOumzFvB5zOphlFh6yr3lgcAb/OOg==","requires":{"array-each":"^1.0.1","extend-shallow":"^3.0.2","gulplog":"^1.0.0","has-gulplog":"^0.1.0","isobject":"^3.0.1","make-error-cause":"^1.1.1","safe-buffer":"^5.1.2","through2":"^2.0.0","uglify-js":"^3.0.5","vinyl-sourcemaps-apply":"^0.2.0"}},"gulplog":{"version":"1.0.0","resolved":"https://registry.npmjs.org/gulplog/-/gulplog-1.0.0.tgz","integrity":"sha1-4oxNRdBey77YGDY86PnFkmIp/+U=","requires":{"glogg":"^1.0.0"}},"has-gulplog":{"version":"0.1.0","resolved":"https://registry.npmjs.org/has-gulplog/-/has-gulplog-0.1.0.tgz","integrity":"sha1-ZBTIKRNpfaUVkDl9r7EvIpZ4Ec4=","requires":{"sparkles":"^1.0.0"}},"has-symbols":{"version":"1.0.0","resolved":"https://registry.npmjs.org/has-symbols/-/has-symbols-1.0.0.tgz","integrity":"sha1-uhqPGvKg/DllD1yFA2dwQSIGO0Q="},"has-value":{"version":"1.0.0","resolved":"https://registry.npmjs.org/has-value/-/has-value-1.0.0.tgz","integrity":"sha1-GLKB2lhbHFxR3vJMkw7SmgvmsXc=","requires":{"get-value":"^2.0.6","has-values":"^1.0.0","isobject":"^3.0.0"}},"has-values":{"version":"1.0.0","resolved":"https://registry.npmjs.org/has-values/-/has-values-1.0.0.tgz","integrity":"sha1-lbC2P+whRmGab+V/51Yo1aOe/k8=","requires":{"is-number":"^3.0.0","kind-of":"^4.0.0"},"dependencies":{"is-number":{"version":"3.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz","integrity":"sha1-JP1iAaR4LPUFYcgQJ2r8fRLXEZU=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"kind-of":{"version":"4.0.0","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-4.0.0.tgz","integrity":"sha1-IIE989cSkosgc3hpGkUGb65y3Vc=","requires":{"is-buffer":"^1.1.5"}}}},"homedir-polyfill":{"version":"1.0.3","resolved":"https://registry.npmjs.org/homedir-polyfill/-/homedir-polyfill-1.0.3.tgz","integrity":"sha512-eSmmWE5bZTK2Nou4g0AI3zZ9rswp7GRKoKXS1BLUkvPviOqs4YTN1djQIqrXy9k5gEtdLPy86JjRwsNM9tnDcA==","requires":{"parse-passwd":"^1.0.0"}},"hosted-git-info":{"version":"2.7.1","resolved":"https://registry.npmjs.org/hosted-git-info/-/hosted-git-info-2.7.1.tgz","integrity":"sha512-7T/BxH19zbcCTa8XkMlbK5lTo1WtgkFi3GvdWEyNuc4Vex7/9Dqbnpsf4JMydcfj9HCg4zUWFTL3Za6lapg5/w=="},"ignore":{"version":"5.1.2","resolved":"https://registry.npmjs.org/ignore/-/ignore-5.1.2.tgz","integrity":"sha512-vdqWBp7MyzdmHkkRWV5nY+PfGRbYbahfuvsBCh277tq+w9zyNi7h5CYJCK0kmzti9kU+O/cB7sE8HvKv6aXAKQ=="},"inflight":{"version":"1.0.6","resolved":"https://registry.npmjs.org/inflight/-/inflight-1.0.6.tgz","integrity":"sha1-Sb1jMdfQLQwJvJEKEHW6gWW1bfk=","requires":{"once":"^1.3.0","wrappy":"1"}},"inherits":{"version":"2.0.4","resolved":"https://registry.npmjs.org/inherits/-/inherits-2.0.4.tgz","integrity":"sha512-k/vGaX4/Yla3WzyMCvTQOXYeIHvqOKtnqBduzTHpzpQZzAskKMhZ2K+EnBiSM9zGSoIFeMpXKxa4dYeZIQqewQ=="},"ini":{"version":"1.3.5","resolved":"https://registry.npmjs.org/ini/-/ini-1.3.5.tgz","integrity":"sha512-RZY5huIKCMRWDUqZlEi72f/lmXKMvuszcMBduliQ3nnWbx9X/ZBQO7DijMEYS9EhHBb2qacRUMtC7svLwe0lcw=="},"interpret":{"version":"1.2.0","resolved":"https://registry.npmjs.org/interpret/-/interpret-1.2.0.tgz","integrity":"sha512-mT34yGKMNceBQUoVn7iCDKDntA7SC6gycMAWzGx1z/CMCTV7b2AAtXlo3nRyHZ1FelRkQbQjprHSYGwzLtkVbw=="},"invert-kv":{"version":"1.0.0","resolved":"https://registry.npmjs.org/invert-kv/-/invert-kv-1.0.0.tgz","integrity":"sha1-EEqOSqym09jNFXqO+L+rLXo//bY="},"is-absolute":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-absolute/-/is-absolute-1.0.0.tgz","integrity":"sha512-dOWoqflvcydARa360Gvv18DZ/gRuHKi2NU/wU5X1ZFzdYfH29nkiNZsF3mp4OJ3H4yo9Mx8A/uAGNzpzPN3yBA==","requires":{"is-relative":"^1.0.0","is-windows":"^1.0.1"}},"is-accessor-descriptor":{"version":"0.1.6","resolved":"https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-0.1.6.tgz","integrity":"sha1-qeEss66Nh2cn7u84Q/igiXtcmNY=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"is-arrayish":{"version":"0.2.1","resolved":"https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.2.1.tgz","integrity":"sha1-d8mYQFJ6qOyxqLppe4BkWnqSap0="},"is-binary-path":{"version":"1.0.1","resolved":"https://registry.npmjs.org/is-binary-path/-/is-binary-path-1.0.1.tgz","integrity":"sha1-dfFmQrSA8YenEcgUFh/TpKdlWJg=","requires":{"binary-extensions":"^1.0.0"}},"is-buffer":{"version":"1.1.6","resolved":"https://registry.npmjs.org/is-buffer/-/is-buffer-1.1.6.tgz","integrity":"sha512-NcdALwpXkTm5Zvvbk7owOUSvVvBKDgKP5/ewfXEznmQFfs4ZRmanOeKBTjRVjka3QFoN6XJ+9F3USqfHqTaU5w=="},"is-data-descriptor":{"version":"0.1.4","resolved":"https://registry.npmjs.org/is-data-descriptor/-/is-data-descriptor-0.1.4.tgz","integrity":"sha1-C17mSDiOLIYCgueT8YVv7D8wG1Y=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"is-descriptor":{"version":"0.1.6","resolved":"https://registry.npmjs.org/is-descriptor/-/is-descriptor-0.1.6.tgz","integrity":"sha512-avDYr0SB3DwO9zsMov0gKCESFYqCnE4hq/4z3TdUlukEy5t9C0YRq7HLrsN52NAcqXKaepeCD0n+B0arnVG3Hg==","requires":{"is-accessor-descriptor":"^0.1.6","is-data-descriptor":"^0.1.4","kind-of":"^5.0.0"},"dependencies":{"kind-of":{"version":"5.1.0","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-5.1.0.tgz","integrity":"sha512-NGEErnH6F2vUuXDh+OlbcKW7/wOcfdRHaZ7VWtqCztfHri/++YKmP51OdWeGPuqCOba6kk2OTe5d02VmTB80Pw=="}}},"is-extendable":{"version":"0.1.1","resolved":"https://registry.npmjs.org/is-extendable/-/is-extendable-0.1.1.tgz","integrity":"sha1-YrEQ4omkcUGOPsNqYX1HLjAd/Ik="},"is-extglob":{"version":"2.1.1","resolved":"https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz","integrity":"sha1-qIwCU1eR8C7TfHahueqXc8gz+MI="},"is-fullwidth-code-point":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-1.0.0.tgz","integrity":"sha1-754xOG8DGn8NZDr4L95QxFfvAMs=","requires":{"number-is-nan":"^1.0.0"}},"is-glob":{"version":"4.0.1","resolved":"https://registry.npmjs.org/is-glob/-/is-glob-4.0.1.tgz","integrity":"sha512-5G0tKtBTFImOqDnLB2hG6Bp2qcKEFduo4tZu9MT/H6NQv/ghhy30o55ufafxJ/LdH79LLs2Kfrn85TLKyA7BUg==","requires":{"is-extglob":"^2.1.1"}},"is-negated-glob":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-negated-glob/-/is-negated-glob-1.0.0.tgz","integrity":"sha1-aRC8pdqMleeEtXUbl2z1oQ/uNtI="},"is-number":{"version":"7.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz","integrity":"sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng=="},"is-path-cwd":{"version":"2.2.0","resolved":"https://registry.npmjs.org/is-path-cwd/-/is-path-cwd-2.2.0.tgz","integrity":"sha512-w942bTcih8fdJPJmQHFzkS76NEP8Kzzvmw92cXsazb8intwLqPibPPdXf4ANdKV3rYMuuQYGIWtvz9JilB3NFQ=="},"is-path-in-cwd":{"version":"2.1.0","resolved":"https://registry.npmjs.org/is-path-in-cwd/-/is-path-in-cwd-2.1.0.tgz","integrity":"sha512-rNocXHgipO+rvnP6dk3zI20RpOtrAM/kzbB258Uw5BWr3TpXi861yzjo16Dn4hUox07iw5AyeMLHWsujkjzvRQ==","requires":{"is-path-inside":"^2.1.0"}},"is-path-inside":{"version":"2.1.0","resolved":"https://registry.npmjs.org/is-path-inside/-/is-path-inside-2.1.0.tgz","integrity":"sha512-wiyhTzfDWsvwAW53OBWF5zuvaOGlZ6PwYxAbPVDhpm+gM09xKQGjBq/8uYN12aDvMxnAnq3dxTyoSoRNmg5YFg==","requires":{"path-is-inside":"^1.0.2"}},"is-plain-object":{"version":"2.0.4","resolved":"https://registry.npmjs.org/is-plain-object/-/is-plain-object-2.0.4.tgz","integrity":"sha512-h5PpgXkWitc38BBMYawTYMWJHFZJVnBquFE57xFpjB8pJFiF6gZ+bU+WyI/yqXiFR5mdLsgYNaPe8uao6Uv9Og==","requires":{"isobject":"^3.0.1"}},"is-relative":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-relative/-/is-relative-1.0.0.tgz","integrity":"sha512-Kw/ReK0iqwKeu0MITLFuj0jbPAmEiOsIwyIXvvbfa6QfmN9pkD1M+8pdk7Rl/dTKbH34/XBFMbgD4iMJhLQbGA==","requires":{"is-unc-path":"^1.0.0"}},"is-unc-path":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-unc-path/-/is-unc-path-1.0.0.tgz","integrity":"sha512-mrGpVd0fs7WWLfVsStvgF6iEJnbjDFZh9/emhRDcGWTduTfNHd9CHeUwH3gYIjdbwo4On6hunkztwOaAw0yllQ==","requires":{"unc-path-regex":"^0.1.2"}},"is-utf8":{"version":"0.2.1","resolved":"https://registry.npmjs.org/is-utf8/-/is-utf8-0.2.1.tgz","integrity":"sha1-Sw2hRCEE0bM2NA6AeX6GXPOffXI="},"is-valid-glob":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-valid-glob/-/is-valid-glob-1.0.0.tgz","integrity":"sha1-Kb8+/3Ab4tTTFdusw5vDn+j2Aao="},"is-windows":{"version":"1.0.2","resolved":"https://registry.npmjs.org/is-windows/-/is-windows-1.0.2.tgz","integrity":"sha512-eXK1UInq2bPmjyX6e3VHIzMLobc4J94i4AWn+Hpq3OU5KkrRC96OAcR3PRJ/pGu6m8TRnBHP9dkXQVsT/COVIA=="},"isarray":{"version":"1.0.0","resolved":"https://registry.npmjs.org/isarray/-/isarray-1.0.0.tgz","integrity":"sha1-u5NdSFgsuhaMBoNJV6VKPgcSTxE="},"isexe":{"version":"2.0.0","resolved":"https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz","integrity":"sha1-6PvzdNxVb/iUehDcsFctYz8s+hA="},"isobject":{"version":"3.0.1","resolved":"https://registry.npmjs.org/isobject/-/isobject-3.0.1.tgz","integrity":"sha1-TkMekrEalzFjaqH5yNHMvP2reN8="},"json-stable-stringify-without-jsonify":{"version":"1.0.1","resolved":"https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz","integrity":"sha1-nbe1lJatPzz+8wp1FC0tkwrXJlE="},"just-debounce":{"version":"1.0.0","resolved":"https://registry.npmjs.org/just-debounce/-/just-debounce-1.0.0.tgz","integrity":"sha1-h/zPrv/AtozRnVX2cilD+SnqNeo="},"kind-of":{"version":"6.0.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-6.0.2.tgz","integrity":"sha512-s5kLOcnH0XqDO+FvuaLX8DDjZ18CGFk7VygH40QoKPUQhW4e2rvM0rwUq0t8IQDOwYSeLK01U90OjzBTme2QqA=="},"last-run":{"version":"1.1.1","resolved":"https://registry.npmjs.org/last-run/-/last-run-1.1.1.tgz","integrity":"sha1-RblpQsF7HHnHchmCWbqUO+v4yls=","requires":{"default-resolution":"^2.0.0","es6-weak-map":"^2.0.1"}},"lazystream":{"version":"1.0.0","resolved":"https://registry.npmjs.org/lazystream/-/lazystream-1.0.0.tgz","integrity":"sha1-9plf4PggOS9hOWvolGJAe7dxaOQ=","requires":{"readable-stream":"^2.0.5"}},"lcid":{"version":"1.0.0","resolved":"https://registry.npmjs.org/lcid/-/lcid-1.0.0.tgz","integrity":"sha1-MIrMr6C8SDo4Z7S28rlQYlHRuDU=","requires":{"invert-kv":"^1.0.0"}},"lead":{"version":"1.0.0","resolved":"https://registry.npmjs.org/lead/-/lead-1.0.0.tgz","integrity":"sha1-bxT5mje+Op3XhPVJVpDlkDRm7kI=","requires":{"flush-write-stream":"^1.0.2"}},"liftoff":{"version":"3.1.0","resolved":"https://registry.npmjs.org/liftoff/-/liftoff-3.1.0.tgz","integrity":"sha512-DlIPlJUkCV0Ips2zf2pJP0unEoT1kwYhiiPUGF3s/jtxTCjziNLoiVVh+jqWOWeFi6mmwQ5fNxvAUyPad4Dfog==","requires":{"extend":"^3.0.0","findup-sync":"^3.0.0","fined":"^1.0.1","flagged-respawn":"^1.0.0","is-plain-object":"^2.0.4","object.map":"^1.0.0","rechoir":"^0.6.2","resolve":"^1.1.7"}},"load-json-file":{"version":"1.1.0","resolved":"https://registry.npmjs.org/load-json-file/-/load-json-file-1.1.0.tgz","integrity":"sha1-lWkFcI1YtLq0wiYbBPWfMcmTdMA=","requires":{"graceful-fs":"^4.1.2","parse-json":"^2.2.0","pify":"^2.0.0","pinkie-promise":"^2.0.0","strip-bom":"^2.0.0"}},"make-error":{"version":"1.3.5","resolved":"https://registry.npmjs.org/make-error/-/make-error-1.3.5.tgz","integrity":"sha512-c3sIjNUow0+8swNwVpqoH4YCShKNFkMaw6oH1mNS2haDZQqkeZFlHS3dhoeEbKKmJB4vXpJucU6oH75aDYeE9g=="},"make-error-cause":{"version":"1.2.2","resolved":"https://registry.npmjs.org/make-error-cause/-/make-error-cause-1.2.2.tgz","integrity":"sha1-3wOI/NCzeBbf8KX7gQiTl3fcvJ0=","requires":{"make-error":"^1.2.0"}},"make-iterator":{"version":"1.0.1","resolved":"https://registry.npmjs.org/make-iterator/-/make-iterator-1.0.1.tgz","integrity":"sha512-pxiuXh0iVEq7VM7KMIhs5gxsfxCux2URptUQaXo4iZZJxBAzTPOLE2BumO5dbfVYq/hBJFBR/a1mFDmOx5AGmw==","requires":{"kind-of":"^6.0.2"}},"map-cache":{"version":"0.2.2","resolved":"https://registry.npmjs.org/map-cache/-/map-cache-0.2.2.tgz","integrity":"sha1-wyq9C9ZSXZsFFkW7TyasXcmKDb8="},"map-visit":{"version":"1.0.0","resolved":"https://registry.npmjs.org/map-visit/-/map-visit-1.0.0.tgz","integrity":"sha1-7Nyo8TFE5mDxtb1B8S80edmN+48=","requires":{"object-visit":"^1.0.0"}},"matchdep":{"version":"2.0.0","resolved":"https://registry.npmjs.org/matchdep/-/matchdep-2.0.0.tgz","integrity":"sha1-xvNINKDY28OzfCfui7yyfHd1WC4=","requires":{"findup-sync":"^2.0.0","micromatch":"^3.0.4","resolve":"^1.4.0","stack-trace":"0.0.10"},"dependencies":{"braces":{"version":"2.3.2","resolved":"https://registry.npmjs.org/braces/-/braces-2.3.2.tgz","integrity":"sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==","requires":{"arr-flatten":"^1.1.0","array-unique":"^0.3.2","extend-shallow":"^2.0.1","fill-range":"^4.0.0","isobject":"^3.0.1","repeat-element":"^1.1.2","snapdragon":"^0.8.1","snapdragon-node":"^2.0.1","split-string":"^3.0.2","to-regex":"^3.0.1"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"fill-range":{"version":"4.0.0","resolved":"https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz","integrity":"sha1-1USBHUKPmOsGpj3EAtJAPDKMOPc=","requires":{"extend-shallow":"^2.0.1","is-number":"^3.0.0","repeat-string":"^1.6.1","to-regex-range":"^2.1.0"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"findup-sync":{"version":"2.0.0","resolved":"https://registry.npmjs.org/findup-sync/-/findup-sync-2.0.0.tgz","integrity":"sha1-kyaxSIwi0aYIhlCoaQGy2akKLLw=","requires":{"detect-file":"^1.0.0","is-glob":"^3.1.0","micromatch":"^3.0.4","resolve-dir":"^1.0.1"}},"is-glob":{"version":"3.1.0","resolved":"https://registry.npmjs.org/is-glob/-/is-glob-3.1.0.tgz","integrity":"sha1-e6WuJCF4BKxwcHuWkiVnSGzD6Eo=","requires":{"is-extglob":"^2.1.0"}},"is-number":{"version":"3.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz","integrity":"sha1-JP1iAaR4LPUFYcgQJ2r8fRLXEZU=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"micromatch":{"version":"3.1.10","resolved":"https://registry.npmjs.org/micromatch/-/micromatch-3.1.10.tgz","integrity":"sha512-MWikgl9n9M3w+bpsY3He8L+w9eF9338xRl8IAO5viDizwSzziFEyUzo2xrrloB64ADbTf8uA8vRqqttDTOmccg==","requires":{"arr-diff":"^4.0.0","array-unique":"^0.3.2","braces":"^2.3.1","define-property":"^2.0.2","extend-shallow":"^3.0.2","extglob":"^2.0.4","fragment-cache":"^0.2.1","kind-of":"^6.0.2","nanomatch":"^1.2.9","object.pick":"^1.3.0","regex-not":"^1.0.0","snapdragon":"^0.8.1","to-regex":"^3.0.2"}},"to-regex-range":{"version":"2.1.1","resolved":"https://registry.npmjs.org/to-regex-range/-/to-regex-range-2.1.1.tgz","integrity":"sha1-fIDBe53+vlmeJzZ+DU3VWQFB2zg=","requires":{"is-number":"^3.0.0","repeat-string":"^1.6.1"}}}},"merge2":{"version":"1.2.3","resolved":"https://registry.npmjs.org/merge2/-/merge2-1.2.3.tgz","integrity":"sha512-gdUU1Fwj5ep4kplwcmftruWofEFt6lfpkkr3h860CXbAB9c3hGb55EOL2ali0Td5oebvW0E1+3Sr+Ur7XfKpRA=="},"micromatch":{"version":"4.0.2","resolved":"https://registry.npmjs.org/micromatch/-/micromatch-4.0.2.tgz","integrity":"sha512-y7FpHSbMUMoyPbYUSzO6PaZ6FyRnQOpHuKwbo1G+Knck95XVU4QAiKdGEnj5wwoS7PlOgthX/09u5iFJ+aYf5Q==","requires":{"braces":"^3.0.1","picomatch":"^2.0.5"}},"minimatch":{"version":"3.0.4","resolved":"https://registry.npmjs.org/minimatch/-/minimatch-3.0.4.tgz","integrity":"sha512-yJHVQEhyqPLUTgt9B83PXu6W3rx4MvvHvSUvToogpwoGDOUQ+yDrR0HRot+yOCdCO7u4hX3pWft6kWBBcqh0UA==","requires":{"brace-expansion":"^1.1.7"}},"mixin-deep":{"version":"1.3.2","resolved":"https://registry.npmjs.org/mixin-deep/-/mixin-deep-1.3.2.tgz","integrity":"sha512-WRoDn//mXBiJ1H40rqa3vH0toePwSsGb45iInWlTySa+Uu4k3tYUSxa2v1KqAiLtvlrSzaExqS1gtk96A9zvEA==","requires":{"for-in":"^1.0.2","is-extendable":"^1.0.1"},"dependencies":{"is-extendable":{"version":"1.0.1","resolved":"https://registry.npmjs.org/is-extendable/-/is-extendable-1.0.1.tgz","integrity":"sha512-arnXMxT1hhoKo9k1LZdmlNyJdDDfy2v0fXjFlmok4+i8ul/6WlbVge9bhM74OpNPQPMGUToDtz+KXa1PneJxOA==","requires":{"is-plain-object":"^2.0.4"}}}},"ms":{"version":"2.0.0","resolved":"https://registry.npmjs.org/ms/-/ms-2.0.0.tgz","integrity":"sha1-VgiurfwAvmwpAd9fmGF4jeDVl8g="},"mute-stdout":{"version":"1.0.1","resolved":"https://registry.npmjs.org/mute-stdout/-/mute-stdout-1.0.1.tgz","integrity":"sha512-kDcwXR4PS7caBpuRYYBUz9iVixUk3anO3f5OYFiIPwK/20vCzKCHyKoulbiDY1S53zD2bxUpxN/IJ+TnXjfvxg=="},"nan":{"version":"2.14.0","resolved":"https://registry.npmjs.org/nan/-/nan-2.14.0.tgz","integrity":"sha512-INOFj37C7k3AfaNTtX8RhsTw7qRy7eLET14cROi9+5HAVbbHuIWUHEauBv5qT4Av2tWasiTY1Jw6puUNqRJXQg==","optional":true},"nanomatch":{"version":"1.2.13","resolved":"https://registry.npmjs.org/nanomatch/-/nanomatch-1.2.13.tgz","integrity":"sha512-fpoe2T0RbHwBTBUOftAfBPaDEi06ufaUai0mE6Yn1kacc3SnTErfb/h+X94VXzI64rKFHYImXSvdwGGCmwOqCA==","requires":{"arr-diff":"^4.0.0","array-unique":"^0.3.2","define-property":"^2.0.2","extend-shallow":"^3.0.2","fragment-cache":"^0.2.1","is-windows":"^1.0.2","kind-of":"^6.0.2","object.pick":"^1.3.0","regex-not":"^1.0.0","snapdragon":"^0.8.1","to-regex":"^3.0.1"}},"next-tick":{"version":"1.0.0","resolved":"https://registry.npmjs.org/next-tick/-/next-tick-1.0.0.tgz","integrity":"sha1-yobR/ogoFpsBICCOPchCS524NCw="},"normalize-package-data":{"version":"2.5.0","resolved":"https://registry.npmjs.org/normalize-package-data/-/normalize-package-data-2.5.0.tgz","integrity":"sha512-/5CMN3T0R4XTj4DcGaexo+roZSdSFW/0AOOTROrjxzCG1wrWXEsGbRKevjlIL+ZDE4sZlJr5ED4YW0yqmkK+eA==","requires":{"hosted-git-info":"^2.1.4","resolve":"^1.10.0","semver":"2 || 3 || 4 || 5","validate-npm-package-license":"^3.0.1"}},"normalize-path":{"version":"2.1.1","resolved":"https://registry.npmjs.org/normalize-path/-/normalize-path-2.1.1.tgz","integrity":"sha1-GrKLVW4Zg2Oowab35vogE3/mrtk=","requires":{"remove-trailing-separator":"^1.0.1"}},"now-and-later":{"version":"2.0.1","resolved":"https://registry.npmjs.org/now-and-later/-/now-and-later-2.0.1.tgz","integrity":"sha512-KGvQ0cB70AQfg107Xvs/Fbu+dGmZoTRJp2TaPwcwQm3/7PteUyN2BCgk8KBMPGBUXZdVwyWS8fDCGFygBm19UQ==","requires":{"once":"^1.3.2"}},"number-is-nan":{"version":"1.0.1","resolved":"https://registry.npmjs.org/number-is-nan/-/number-is-nan-1.0.1.tgz","integrity":"sha1-CXtgK1NCKlIsGvuHkDGDNpQaAR0="},"object-copy":{"version":"0.1.0","resolved":"https://registry.npmjs.org/object-copy/-/object-copy-0.1.0.tgz","integrity":"sha1-fn2Fi3gb18mRpBupde04EnVOmYw=","requires":{"copy-descriptor":"^0.1.0","define-property":"^0.2.5","kind-of":"^3.0.3"},"dependencies":{"define-property":{"version":"0.2.5","resolved":"https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz","integrity":"sha1-w1se+RjsPJkPmlvFe+BKrOxcgRY=","requires":{"is-descriptor":"^0.1.0"}},"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"object-keys":{"version":"1.1.1","resolved":"https://registry.npmjs.org/object-keys/-/object-keys-1.1.1.tgz","integrity":"sha512-NuAESUOUMrlIXOfHKzD6bpPu3tYt3xvjNdRIQ+FeT0lNb4K8WR70CaDxhuNguS2XG+GjkyMwOzsN5ZktImfhLA=="},"object-visit":{"version":"1.0.1","resolved":"https://registry.npmjs.org/object-visit/-/object-visit-1.0.1.tgz","integrity":"sha1-95xEk68MU3e1n+OdOV5BBC3QRbs=","requires":{"isobject":"^3.0.0"}},"object.assign":{"version":"4.1.0","resolved":"https://registry.npmjs.org/object.assign/-/object.assign-4.1.0.tgz","integrity":"sha512-exHJeq6kBKj58mqGyTQ9DFvrZC/eR6OwxzoM9YRoGBqrXYonaFyGiFMuc9VZrXf7DarreEwMpurG3dd+CNyW5w==","requires":{"define-properties":"^1.1.2","function-bind":"^1.1.1","has-symbols":"^1.0.0","object-keys":"^1.0.11"}},"object.defaults":{"version":"1.1.0","resolved":"https://registry.npmjs.org/object.defaults/-/object.defaults-1.1.0.tgz","integrity":"sha1-On+GgzS0B96gbaFtiNXNKeQ1/s8=","requires":{"array-each":"^1.0.1","array-slice":"^1.0.0","for-own":"^1.0.0","isobject":"^3.0.0"}},"object.map":{"version":"1.0.1","resolved":"https://registry.npmjs.org/object.map/-/object.map-1.0.1.tgz","integrity":"sha1-z4Plncj8wK1fQlDh94s7gb2AHTc=","requires":{"for-own":"^1.0.0","make-iterator":"^1.0.0"}},"object.pick":{"version":"1.3.0","resolved":"https://registry.npmjs.org/object.pick/-/object.pick-1.3.0.tgz","integrity":"sha1-h6EKxMFpS9Lhy/U1kaZhQftd10c=","requires":{"isobject":"^3.0.1"}},"object.reduce":{"version":"1.0.1","resolved":"https://registry.npmjs.org/object.reduce/-/object.reduce-1.0.1.tgz","integrity":"sha1-b+NI8qx/oPlcpiEiZZkJaCW7A60=","requires":{"for-own":"^1.0.0","make-iterator":"^1.0.0"}},"once":{"version":"1.4.0","resolved":"https://registry.npmjs.org/once/-/once-1.4.0.tgz","integrity":"sha1-WDsap3WWHUsROsF9nFC6753Xa9E=","requires":{"wrappy":"1"}},"ordered-read-streams":{"version":"1.0.1","resolved":"https://registry.npmjs.org/ordered-read-streams/-/ordered-read-streams-1.0.1.tgz","integrity":"sha1-d8DLN8QVJdZBZtmQ/61+xqDhNj4=","requires":{"readable-stream":"^2.0.1"}},"os-locale":{"version":"1.4.0","resolved":"https://registry.npmjs.org/os-locale/-/os-locale-1.4.0.tgz","integrity":"sha1-IPnxeuKe00XoveWDsT0gCYA8FNk=","requires":{"lcid":"^1.0.0"}},"p-map":{"version":"2.1.0","resolved":"https://registry.npmjs.org/p-map/-/p-map-2.1.0.tgz","integrity":"sha512-y3b8Kpd8OAN444hxfBbFfj1FY/RjtTd8tzYwhUqNYXx0fXx2iX4maP4Qr6qhIKbQXI02wTLAda4fYUbDagTUFw=="},"parse-filepath":{"version":"1.0.2","resolved":"https://registry.npmjs.org/parse-filepath/-/parse-filepath-1.0.2.tgz","integrity":"sha1-pjISf1Oq89FYdvWHLz/6x2PWyJE=","requires":{"is-absolute":"^1.0.0","map-cache":"^0.2.0","path-root":"^0.1.1"}},"parse-json":{"version":"2.2.0","resolved":"https://registry.npmjs.org/parse-json/-/parse-json-2.2.0.tgz","integrity":"sha1-9ID0BDTvgHQfhGkJn43qGPVaTck=","requires":{"error-ex":"^1.2.0"}},"parse-node-version":{"version":"1.0.1","resolved":"https://registry.npmjs.org/parse-node-version/-/parse-node-version-1.0.1.tgz","integrity":"sha512-3YHlOa/JgH6Mnpr05jP9eDG254US9ek25LyIxZlDItp2iJtwyaXQb57lBYLdT3MowkUFYEV2XXNAYIPlESvJlA=="},"parse-passwd":{"version":"1.0.0","resolved":"https://registry.npmjs.org/parse-passwd/-/parse-passwd-1.0.0.tgz","integrity":"sha1-bVuTSkVpk7I9N/QKOC1vFmao5cY="},"pascalcase":{"version":"0.1.1","resolved":"https://registry.npmjs.org/pascalcase/-/pascalcase-0.1.1.tgz","integrity":"sha1-s2PlXoAGym/iF4TS2yK9FdeRfxQ="},"path-dirname":{"version":"1.0.2","resolved":"https://registry.npmjs.org/path-dirname/-/path-dirname-1.0.2.tgz","integrity":"sha1-zDPSTVJeCZpTiMAzbG4yuRYGCeA="},"path-exists":{"version":"2.1.0","resolved":"https://registry.npmjs.org/path-exists/-/path-exists-2.1.0.tgz","integrity":"sha1-D+tsZPD8UY2adU3V77YscCJ2H0s=","requires":{"pinkie-promise":"^2.0.0"}},"path-is-absolute":{"version":"1.0.1","resolved":"https://registry.npmjs.org/path-is-absolute/-/path-is-absolute-1.0.1.tgz","integrity":"sha1-F0uSaHNVNP+8es5r9TpanhtcX18="},"path-is-inside":{"version":"1.0.2","resolved":"https://registry.npmjs.org/path-is-inside/-/path-is-inside-1.0.2.tgz","integrity":"sha1-NlQX3t5EQw0cEa9hAn+s8HS9/FM="},"path-parse":{"version":"1.0.6","resolved":"https://registry.npmjs.org/path-parse/-/path-parse-1.0.6.tgz","integrity":"sha512-GSmOT2EbHrINBf9SR7CDELwlJ8AENk3Qn7OikK4nFYAu3Ote2+JYNVvkpAEQm3/TLNEJFD/xZJjzyxg3KBWOzw=="},"path-root":{"version":"0.1.1","resolved":"https://registry.npmjs.org/path-root/-/path-root-0.1.1.tgz","integrity":"sha1-mkpoFMrBwM1zNgqV8yCDyOpHRbc=","requires":{"path-root-regex":"^0.1.0"}},"path-root-regex":{"version":"0.1.2","resolved":"https://registry.npmjs.org/path-root-regex/-/path-root-regex-0.1.2.tgz","integrity":"sha1-v8zcjfWxLcUsi0PsONGNcsBLqW0="},"path-type":{"version":"4.0.0","resolved":"https://registry.npmjs.org/path-type/-/path-type-4.0.0.tgz","integrity":"sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw=="},"picomatch":{"version":"2.0.7","resolved":"https://registry.npmjs.org/picomatch/-/picomatch-2.0.7.tgz","integrity":"sha512-oLHIdio3tZ0qH76NybpeneBhYVj0QFTfXEFTc/B3zKQspYfYYkWYgFsmzo+4kvId/bQRcNkVeguI3y+CD22BtA=="},"pify":{"version":"2.3.0","resolved":"https://registry.npmjs.org/pify/-/pify-2.3.0.tgz","integrity":"sha1-7RQaasBDqEnqWISY59yosVMw6Qw="},"pinkie":{"version":"2.0.4","resolved":"https://registry.npmjs.org/pinkie/-/pinkie-2.0.4.tgz","integrity":"sha1-clVrgM+g1IqXToDnckjoDtT3+HA="},"pinkie-promise":{"version":"2.0.1","resolved":"https://registry.npmjs.org/pinkie-promise/-/pinkie-promise-2.0.1.tgz","integrity":"sha1-ITXW36ejWMBprJsXh3YogihFD/o=","requires":{"pinkie":"^2.0.0"}},"posix-character-classes":{"version":"0.1.1","resolved":"https://registry.npmjs.org/posix-character-classes/-/posix-character-classes-0.1.1.tgz","integrity":"sha1-AerA/jta9xoqbAL+q7jB/vfgDqs="},"pretty-hrtime":{"version":"1.0.3","resolved":"https://registry.npmjs.org/pretty-hrtime/-/pretty-hrtime-1.0.3.tgz","integrity":"sha1-t+PqQkNaTJsnWdmeDyAesZWALuE="},"process-nextick-args":{"version":"2.0.1","resolved":"https://registry.npmjs.org/process-nextick-args/-/process-nextick-args-2.0.1.tgz","integrity":"sha512-3ouUOpQhtgrbOa17J7+uxOTpITYWaGP7/AhoR3+A+/1e9skrzelGi/dXzEYyvbxubEF6Wn2ypscTKiKJFFn1ag=="},"pump":{"version":"2.0.1","resolved":"https://registry.npmjs.org/pump/-/pump-2.0.1.tgz","integrity":"sha512-ruPMNRkN3MHP1cWJc9OWr+T/xDP0jhXYCLfJcBuX54hhfIBnaQmAUMfDcG4DM5UMWByBbJY69QSphm3jtDKIkA==","requires":{"end-of-stream":"^1.1.0","once":"^1.3.1"}},"pumpify":{"version":"1.5.1","resolved":"https://registry.npmjs.org/pumpify/-/pumpify-1.5.1.tgz","integrity":"sha512-oClZI37HvuUJJxSKKrC17bZ9Cu0ZYhEAGPsPUy9KlMUmv9dKX2o77RUmq7f3XjIxbwyGwYzbzQ1L2Ks8sIradQ==","requires":{"duplexify":"^3.6.0","inherits":"^2.0.3","pump":"^2.0.0"}},"read-pkg":{"version":"1.1.0","resolved":"https://registry.npmjs.org/read-pkg/-/read-pkg-1.1.0.tgz","integrity":"sha1-9f+qXs0pyzHAR0vKfXVra7KePyg=","requires":{"load-json-file":"^1.0.0","normalize-package-data":"^2.3.2","path-type":"^1.0.0"},"dependencies":{"path-type":{"version":"1.1.0","resolved":"https://registry.npmjs.org/path-type/-/path-type-1.1.0.tgz","integrity":"sha1-WcRPfuSR2nBNpBXaWkBwuk+P5EE=","requires":{"graceful-fs":"^4.1.2","pify":"^2.0.0","pinkie-promise":"^2.0.0"}}}},"read-pkg-up":{"version":"1.0.1","resolved":"https://registry.npmjs.org/read-pkg-up/-/read-pkg-up-1.0.1.tgz","integrity":"sha1-nWPBMnbAZZGNV/ACpX9AobZD+wI=","requires":{"find-up":"^1.0.0","read-pkg":"^1.0.0"}},"readable-stream":{"version":"2.3.6","resolved":"https://registry.npmjs.org/readable-stream/-/readable-stream-2.3.6.tgz","integrity":"sha512-tQtKA9WIAhBF3+VLAseyMqZeBjW0AHJoxOtYqSUZNJxauErmLbVm2FW1y+J/YA9dUrAC39ITejlZWhVIwawkKw==","requires":{"core-util-is":"~1.0.0","inherits":"~2.0.3","isarray":"~1.0.0","process-nextick-args":"~2.0.0","safe-buffer":"~5.1.1","string_decoder":"~1.1.1","util-deprecate":"~1.0.1"}},"readdirp":{"version":"2.2.1","resolved":"https://registry.npmjs.org/readdirp/-/readdirp-2.2.1.tgz","integrity":"sha512-1JU/8q+VgFZyxwrJ+SVIOsh+KywWGpds3NTqikiKpDMZWScmAYyKIgqkO+ARvNWJfXeXR1zxz7aHF4u4CyH6vQ==","requires":{"graceful-fs":"^4.1.11","micromatch":"^3.1.10","readable-stream":"^2.0.2"},"dependencies":{"braces":{"version":"2.3.2","resolved":"https://registry.npmjs.org/braces/-/braces-2.3.2.tgz","integrity":"sha512-aNdbnj9P8PjdXU4ybaWLK2IF3jc/EoDYbC7AazW6to3TRsfXxscC9UXOB5iDiEQrkyIbWp2SLQda4+QAa7nc3w==","requires":{"arr-flatten":"^1.1.0","array-unique":"^0.3.2","extend-shallow":"^2.0.1","fill-range":"^4.0.0","isobject":"^3.0.1","repeat-element":"^1.1.2","snapdragon":"^0.8.1","snapdragon-node":"^2.0.1","split-string":"^3.0.2","to-regex":"^3.0.1"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"fill-range":{"version":"4.0.0","resolved":"https://registry.npmjs.org/fill-range/-/fill-range-4.0.0.tgz","integrity":"sha1-1USBHUKPmOsGpj3EAtJAPDKMOPc=","requires":{"extend-shallow":"^2.0.1","is-number":"^3.0.0","repeat-string":"^1.6.1","to-regex-range":"^2.1.0"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"is-number":{"version":"3.0.0","resolved":"https://registry.npmjs.org/is-number/-/is-number-3.0.0.tgz","integrity":"sha1-JP1iAaR4LPUFYcgQJ2r8fRLXEZU=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"micromatch":{"version":"3.1.10","resolved":"https://registry.npmjs.org/micromatch/-/micromatch-3.1.10.tgz","integrity":"sha512-MWikgl9n9M3w+bpsY3He8L+w9eF9338xRl8IAO5viDizwSzziFEyUzo2xrrloB64ADbTf8uA8vRqqttDTOmccg==","requires":{"arr-diff":"^4.0.0","array-unique":"^0.3.2","braces":"^2.3.1","define-property":"^2.0.2","extend-shallow":"^3.0.2","extglob":"^2.0.4","fragment-cache":"^0.2.1","kind-of":"^6.0.2","nanomatch":"^1.2.9","object.pick":"^1.3.0","regex-not":"^1.0.0","snapdragon":"^0.8.1","to-regex":"^3.0.2"}},"to-regex-range":{"version":"2.1.1","resolved":"https://registry.npmjs.org/to-regex-range/-/to-regex-range-2.1.1.tgz","integrity":"sha1-fIDBe53+vlmeJzZ+DU3VWQFB2zg=","requires":{"is-number":"^3.0.0","repeat-string":"^1.6.1"}}}},"rechoir":{"version":"0.6.2","resolved":"https://registry.npmjs.org/rechoir/-/rechoir-0.6.2.tgz","integrity":"sha1-hSBLVNuoLVdC4oyWdW70OvUOM4Q=","requires":{"resolve":"^1.1.6"}},"regex-not":{"version":"1.0.2","resolved":"https://registry.npmjs.org/regex-not/-/regex-not-1.0.2.tgz","integrity":"sha512-J6SDjUgDxQj5NusnOtdFxDwN/+HWykR8GELwctJ7mdqhcyy1xEc4SRFHUXvxTp661YaVKAjfRLZ9cCqS6tn32A==","requires":{"extend-shallow":"^3.0.2","safe-regex":"^1.1.0"}},"remove-bom-buffer":{"version":"3.0.0","resolved":"https://registry.npmjs.org/remove-bom-buffer/-/remove-bom-buffer-3.0.0.tgz","integrity":"sha512-8v2rWhaakv18qcvNeli2mZ/TMTL2nEyAKRvzo1WtnZBl15SHyEhrCu2/xKlJyUFKHiHgfXIyuY6g2dObJJycXQ==","requires":{"is-buffer":"^1.1.5","is-utf8":"^0.2.1"}},"remove-bom-stream":{"version":"1.2.0","resolved":"https://registry.npmjs.org/remove-bom-stream/-/remove-bom-stream-1.2.0.tgz","integrity":"sha1-BfGlk/FuQuH7kOv1nejlaVJflSM=","requires":{"remove-bom-buffer":"^3.0.0","safe-buffer":"^5.1.0","through2":"^2.0.3"}},"remove-trailing-separator":{"version":"1.1.0","resolved":"https://registry.npmjs.org/remove-trailing-separator/-/remove-trailing-separator-1.1.0.tgz","integrity":"sha1-wkvOKig62tW8P1jg1IJJuSN52O8="},"repeat-element":{"version":"1.1.3","resolved":"https://registry.npmjs.org/repeat-element/-/repeat-element-1.1.3.tgz","integrity":"sha512-ahGq0ZnV5m5XtZLMb+vP76kcAM5nkLqk0lpqAuojSKGgQtn4eRi4ZZGm2olo2zKFH+sMsWaqOCW1dqAnOru72g=="},"repeat-string":{"version":"1.6.1","resolved":"https://registry.npmjs.org/repeat-string/-/repeat-string-1.6.1.tgz","integrity":"sha1-jcrkcOHIirwtYA//Sndihtp15jc="},"replace-ext":{"version":"1.0.0","resolved":"https://registry.npmjs.org/replace-ext/-/replace-ext-1.0.0.tgz","integrity":"sha1-3mMSg3P8v3w8z6TeWkgMRaZ5WOs="},"replace-homedir":{"version":"1.0.0","resolved":"https://registry.npmjs.org/replace-homedir/-/replace-homedir-1.0.0.tgz","integrity":"sha1-6H9tUTuSjd6AgmDBK+f+xv9ueYw=","requires":{"homedir-polyfill":"^1.0.1","is-absolute":"^1.0.0","remove-trailing-separator":"^1.1.0"}},"require-directory":{"version":"2.1.1","resolved":"https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz","integrity":"sha1-jGStX9MNqxyXbiNE/+f3kqam30I="},"require-main-filename":{"version":"1.0.1","resolved":"https://registry.npmjs.org/require-main-filename/-/require-main-filename-1.0.1.tgz","integrity":"sha1-l/cXtp1IeE9fUmpsWqj/3aBVpNE="},"resolve":{"version":"1.11.1","resolved":"https://registry.npmjs.org/resolve/-/resolve-1.11.1.tgz","integrity":"sha512-vIpgF6wfuJOZI7KKKSP+HmiKggadPQAdsp5HiC1mvqnfp0gF1vdwgBWZIdrVft9pgqoMFQN+R7BSWZiBxx+BBw==","requires":{"path-parse":"^1.0.6"}},"resolve-dir":{"version":"1.0.1","resolved":"https://registry.npmjs.org/resolve-dir/-/resolve-dir-1.0.1.tgz","integrity":"sha1-eaQGRMNivoLybv/nOcm7U4IEb0M=","requires":{"expand-tilde":"^2.0.0","global-modules":"^1.0.0"}},"resolve-options":{"version":"1.1.0","resolved":"https://registry.npmjs.org/resolve-options/-/resolve-options-1.1.0.tgz","integrity":"sha1-MrueOcBtZzONyTeMDW1gdFZq0TE=","requires":{"value-or-function":"^3.0.0"}},"resolve-url":{"version":"0.2.1","resolved":"https://registry.npmjs.org/resolve-url/-/resolve-url-0.2.1.tgz","integrity":"sha1-LGN/53yJOv0qZj/iGqkIAGjiBSo="},"ret":{"version":"0.1.15","resolved":"https://registry.npmjs.org/ret/-/ret-0.1.15.tgz","integrity":"sha512-TTlYpa+OL+vMMNG24xSlQGEJ3B/RzEfUlLct7b5G/ytav+wPrplCpVMFuwzXbkecJrb6IYo1iFb0S9v37754mg=="},"reusify":{"version":"1.0.4","resolved":"https://registry.npmjs.org/reusify/-/reusify-1.0.4.tgz","integrity":"sha512-U9nH88a3fc/ekCF1l0/UP1IosiuIjyTh7hBvXVMHYgVcfGvt897Xguj2UOLDeI5BG2m7/uwyaLVT6fbtCwTyzw=="},"rimraf":{"version":"2.6.3","resolved":"https://registry.npmjs.org/rimraf/-/rimraf-2.6.3.tgz","integrity":"sha512-mwqeW5XsA2qAejG46gYdENaxXjx9onRNCfn7L0duuP4hCuTIi/QO7PDK07KJfp1d+izWPrzEJDcSqBa0OZQriA==","requires":{"glob":"^7.1.3"}},"run-parallel":{"version":"1.1.9","resolved":"https://registry.npmjs.org/run-parallel/-/run-parallel-1.1.9.tgz","integrity":"sha512-DEqnSRTDw/Tc3FXf49zedI638Z9onwUotBMiUFKmrO2sdFKIbXamXGQ3Axd4qgphxKB4kw/qP1w5kTxnfU1B9Q=="},"safe-buffer":{"version":"5.1.2","resolved":"https://registry.npmjs.org/safe-buffer/-/safe-buffer-5.1.2.tgz","integrity":"sha512-Gd2UZBJDkXlY7GbJxfsE8/nvKkUEU1G38c1siN6QP6a9PT9MmHB8GnpscSmMJSoF8LOIrt8ud/wPtojys4G6+g=="},"safe-regex":{"version":"1.1.0","resolved":"https://registry.npmjs.org/safe-regex/-/safe-regex-1.1.0.tgz","integrity":"sha1-QKNmnzsHfR6UPURinhV91IAjvy4=","requires":{"ret":"~0.1.10"}},"semver":{"version":"5.7.0","resolved":"https://registry.npmjs.org/semver/-/semver-5.7.0.tgz","integrity":"sha512-Ya52jSX2u7QKghxeoFGpLwCtGlt7j0oY9DYb5apt9nPlJ42ID+ulTXESnt/qAQcoSERyZ5sl3LDIOw0nAn/5DA=="},"semver-greatest-satisfied-range":{"version":"1.1.0","resolved":"https://registry.npmjs.org/semver-greatest-satisfied-range/-/semver-greatest-satisfied-range-1.1.0.tgz","integrity":"sha1-E+jCZYq5aRywzXEJMkAoDTb3els=","requires":{"sver-compat":"^1.5.0"}},"set-blocking":{"version":"2.0.0","resolved":"https://registry.npmjs.org/set-blocking/-/set-blocking-2.0.0.tgz","integrity":"sha1-BF+XgtARrppoA93TgrJDkrPYkPc="},"set-value":{"version":"2.0.1","resolved":"https://registry.npmjs.org/set-value/-/set-value-2.0.1.tgz","integrity":"sha512-JxHc1weCN68wRY0fhCoXpyK55m/XPHafOmK4UWD7m2CI14GMcFypt4w/0+NV5f/ZMby2F6S2wwA7fgynh9gWSw==","requires":{"extend-shallow":"^2.0.1","is-extendable":"^0.1.1","is-plain-object":"^2.0.3","split-string":"^3.0.1"},"dependencies":{"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"slash":{"version":"3.0.0","resolved":"https://registry.npmjs.org/slash/-/slash-3.0.0.tgz","integrity":"sha512-g9Q1haeby36OSStwb4ntCGGGaKsaVSjQ68fBxoQcutl5fS1vuY18H3wSt3jFyFtrkx+Kz0V1G85A4MyAdDMi2Q=="},"snapdragon":{"version":"0.8.2","resolved":"https://registry.npmjs.org/snapdragon/-/snapdragon-0.8.2.tgz","integrity":"sha512-FtyOnWN/wCHTVXOMwvSv26d+ko5vWlIDD6zoUJ7LW8vh+ZBC8QdljveRP+crNrtBwioEUWy/4dMtbBjA4ioNlg==","requires":{"base":"^0.11.1","debug":"^2.2.0","define-property":"^0.2.5","extend-shallow":"^2.0.1","map-cache":"^0.2.2","source-map":"^0.5.6","source-map-resolve":"^0.5.0","use":"^3.1.0"},"dependencies":{"define-property":{"version":"0.2.5","resolved":"https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz","integrity":"sha1-w1se+RjsPJkPmlvFe+BKrOxcgRY=","requires":{"is-descriptor":"^0.1.0"}},"extend-shallow":{"version":"2.0.1","resolved":"https://registry.npmjs.org/extend-shallow/-/extend-shallow-2.0.1.tgz","integrity":"sha1-Ua99YUrZqfYQ6huvu5idaxxWiQ8=","requires":{"is-extendable":"^0.1.0"}}}},"snapdragon-node":{"version":"2.1.1","resolved":"https://registry.npmjs.org/snapdragon-node/-/snapdragon-node-2.1.1.tgz","integrity":"sha512-O27l4xaMYt/RSQ5TR3vpWCAB5Kb/czIcqUFOM/C4fYcLnbZUc1PkjTAMjof2pBWaSTwOUd6qUHcFGVGj7aIwnw==","requires":{"define-property":"^1.0.0","isobject":"^3.0.0","snapdragon-util":"^3.0.1"},"dependencies":{"define-property":{"version":"1.0.0","resolved":"https://registry.npmjs.org/define-property/-/define-property-1.0.0.tgz","integrity":"sha1-dp66rz9KY6rTr56NMEybvnm/sOY=","requires":{"is-descriptor":"^1.0.0"}},"is-accessor-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-accessor-descriptor/-/is-accessor-descriptor-1.0.0.tgz","integrity":"sha512-m5hnHTkcVsPfqx3AKlyttIPb7J+XykHvJP2B9bZDjlhLIoEq4XoK64Vg7boZlVWYK6LUY94dYPEE7Lh0ZkZKcQ==","requires":{"kind-of":"^6.0.0"}},"is-data-descriptor":{"version":"1.0.0","resolved":"https://registry.npmjs.org/is-data-descriptor/-/is-data-descriptor-1.0.0.tgz","integrity":"sha512-jbRXy1FmtAoCjQkVmIVYwuuqDFUbaOeDjmed1tOGPrsMhtJA4rD9tkgA0F1qJ3gRFRXcHYVkdeaP50Q5rE/jLQ==","requires":{"kind-of":"^6.0.0"}},"is-descriptor":{"version":"1.0.2","resolved":"https://registry.npmjs.org/is-descriptor/-/is-descriptor-1.0.2.tgz","integrity":"sha512-2eis5WqQGV7peooDyLmNEPUrps9+SXX5c9pL3xEB+4e9HnGuDa7mB7kHxHw4CbqS9k1T2hOH3miL8n8WtiYVtg==","requires":{"is-accessor-descriptor":"^1.0.0","is-data-descriptor":"^1.0.0","kind-of":"^6.0.2"}}}},"snapdragon-util":{"version":"3.0.1","resolved":"https://registry.npmjs.org/snapdragon-util/-/snapdragon-util-3.0.1.tgz","integrity":"sha512-mbKkMdQKsjX4BAL4bRYTj21edOf8cN7XHdYUJEe+Zn99hVEYcMvKPct1IqNe7+AZPirn8BCDOQBHQZknqmKlZQ==","requires":{"kind-of":"^3.2.0"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"source-map":{"version":"0.5.7","resolved":"https://registry.npmjs.org/source-map/-/source-map-0.5.7.tgz","integrity":"sha1-igOdLRAh0i0eoUyA2OpGi6LvP8w="},"source-map-resolve":{"version":"0.5.2","resolved":"https://registry.npmjs.org/source-map-resolve/-/source-map-resolve-0.5.2.tgz","integrity":"sha512-MjqsvNwyz1s0k81Goz/9vRBe9SZdB09Bdw+/zYyO+3CuPk6fouTaxscHkgtE8jKvf01kVfl8riHzERQ/kefaSA==","requires":{"atob":"^2.1.1","decode-uri-component":"^0.2.0","resolve-url":"^0.2.1","source-map-url":"^0.4.0","urix":"^0.1.0"}},"source-map-url":{"version":"0.4.0","resolved":"https://registry.npmjs.org/source-map-url/-/source-map-url-0.4.0.tgz","integrity":"sha1-PpNdfd1zYxuXZZlW1VEo6HtQhKM="},"sparkles":{"version":"1.0.1","resolved":"https://registry.npmjs.org/sparkles/-/sparkles-1.0.1.tgz","integrity":"sha512-dSO0DDYUahUt/0/pD/Is3VIm5TGJjludZ0HVymmhYF6eNA53PVLhnUk0znSYbH8IYBuJdCE+1luR22jNLMaQdw=="},"spdx-correct":{"version":"3.1.0","resolved":"https://registry.npmjs.org/spdx-correct/-/spdx-correct-3.1.0.tgz","integrity":"sha512-lr2EZCctC2BNR7j7WzJ2FpDznxky1sjfxvvYEyzxNyb6lZXHODmEoJeFu4JupYlkfha1KZpJyoqiJ7pgA1qq8Q==","requires":{"spdx-expression-parse":"^3.0.0","spdx-license-ids":"^3.0.0"}},"spdx-exceptions":{"version":"2.2.0","resolved":"https://registry.npmjs.org/spdx-exceptions/-/spdx-exceptions-2.2.0.tgz","integrity":"sha512-2XQACfElKi9SlVb1CYadKDXvoajPgBVPn/gOQLrTvHdElaVhr7ZEbqJaRnJLVNeaI4cMEAgVCeBMKF6MWRDCRA=="},"spdx-expression-parse":{"version":"3.0.0","resolved":"https://registry.npmjs.org/spdx-expression-parse/-/spdx-expression-parse-3.0.0.tgz","integrity":"sha512-Yg6D3XpRD4kkOmTpdgbUiEJFKghJH03fiC1OPll5h/0sO6neh2jqRDVHOQ4o/LMea0tgCkbMgea5ip/e+MkWyg==","requires":{"spdx-exceptions":"^2.1.0","spdx-license-ids":"^3.0.0"}},"spdx-license-ids":{"version":"3.0.5","resolved":"https://registry.npmjs.org/spdx-license-ids/-/spdx-license-ids-3.0.5.tgz","integrity":"sha512-J+FWzZoynJEXGphVIS+XEh3kFSjZX/1i9gFBaWQcB+/tmpe2qUsSBABpcxqxnAxFdiUFEgAX1bjYGQvIZmoz9Q=="},"split-string":{"version":"3.1.0","resolved":"https://registry.npmjs.org/split-string/-/split-string-3.1.0.tgz","integrity":"sha512-NzNVhJDYpwceVVii8/Hu6DKfD2G+NrQHlS/V/qgv763EYudVwEcMQNxd2lh+0VrUByXN/oJkl5grOhYWvQUYiw==","requires":{"extend-shallow":"^3.0.0"}},"stack-trace":{"version":"0.0.10","resolved":"https://registry.npmjs.org/stack-trace/-/stack-trace-0.0.10.tgz","integrity":"sha1-VHxws0fo0ytOEI6hoqFZ5f3eGcA="},"static-extend":{"version":"0.1.2","resolved":"https://registry.npmjs.org/static-extend/-/static-extend-0.1.2.tgz","integrity":"sha1-YICcOcv/VTNyJv1eC1IPNB8ftcY=","requires":{"define-property":"^0.2.5","object-copy":"^0.1.0"},"dependencies":{"define-property":{"version":"0.2.5","resolved":"https://registry.npmjs.org/define-property/-/define-property-0.2.5.tgz","integrity":"sha1-w1se+RjsPJkPmlvFe+BKrOxcgRY=","requires":{"is-descriptor":"^0.1.0"}}}},"stream-exhaust":{"version":"1.0.2","resolved":"https://registry.npmjs.org/stream-exhaust/-/stream-exhaust-1.0.2.tgz","integrity":"sha512-b/qaq/GlBK5xaq1yrK9/zFcyRSTNxmcZwFLGSTG0mXgZl/4Z6GgiyYOXOvY7N3eEvFRAG1bkDRz5EPGSvPYQlw=="},"stream-shift":{"version":"1.0.0","resolved":"https://registry.npmjs.org/stream-shift/-/stream-shift-1.0.0.tgz","integrity":"sha1-1cdSgl5TZ+eG944Y5EXqIjoVWVI="},"string-width":{"version":"1.0.2","resolved":"https://registry.npmjs.org/string-width/-/string-width-1.0.2.tgz","integrity":"sha1-EYvfW4zcUaKn5w0hHgfisLmxB9M=","requires":{"code-point-at":"^1.0.0","is-fullwidth-code-point":"^1.0.0","strip-ansi":"^3.0.0"}},"string_decoder":{"version":"1.1.1","resolved":"https://registry.npmjs.org/string_decoder/-/string_decoder-1.1.1.tgz","integrity":"sha512-n/ShnvDi6FHbbVfviro+WojiFzv+s8MPMHBczVePfUpDJLwoLT0ht1l4YwBCbi8pJAveEEdnkHyPyTP/mzRfwg==","requires":{"safe-buffer":"~5.1.0"}},"strip-ansi":{"version":"3.0.1","resolved":"https://registry.npmjs.org/strip-ansi/-/strip-ansi-3.0.1.tgz","integrity":"sha1-ajhfuIU9lS1f8F0Oiq+UJ43GPc8=","requires":{"ansi-regex":"^2.0.0"}},"strip-bom":{"version":"2.0.0","resolved":"https://registry.npmjs.org/strip-bom/-/strip-bom-2.0.0.tgz","integrity":"sha1-YhmoVhZSBJHzV4i9vxRHqZx+aw4=","requires":{"is-utf8":"^0.2.0"}},"sver-compat":{"version":"1.5.0","resolved":"https://registry.npmjs.org/sver-compat/-/sver-compat-1.5.0.tgz","integrity":"sha1-PPh9/rTQe0o/FIJ7wYaz/QxkXNg=","requires":{"es6-iterator":"^2.0.1","es6-symbol":"^3.1.1"}},"through2":{"version":"2.0.5","resolved":"https://registry.npmjs.org/through2/-/through2-2.0.5.tgz","integrity":"sha512-/mrRod8xqpA+IHSLyGCQ2s8SPHiCDEeQJSep1jqLYeEUClOFG2Qsh+4FU6G9VeqpZnGW/Su8LQGc4YKni5rYSQ==","requires":{"readable-stream":"~2.3.6","xtend":"~4.0.1"}},"through2-filter":{"version":"3.0.0","resolved":"https://registry.npmjs.org/through2-filter/-/through2-filter-3.0.0.tgz","integrity":"sha512-jaRjI2WxN3W1V8/FMZ9HKIBXixtiqs3SQSX4/YGIiP3gL6djW48VoZq9tDqeCWs3MT8YY5wb/zli8VW8snY1CA==","requires":{"through2":"~2.0.0","xtend":"~4.0.0"}},"time-stamp":{"version":"1.1.0","resolved":"https://registry.npmjs.org/time-stamp/-/time-stamp-1.1.0.tgz","integrity":"sha1-dkpaEa9QVhkhsTPztE5hhofg9cM="},"to-absolute-glob":{"version":"2.0.2","resolved":"https://registry.npmjs.org/to-absolute-glob/-/to-absolute-glob-2.0.2.tgz","integrity":"sha1-GGX0PZ50sIItufFFt4z/fQ98hJs=","requires":{"is-absolute":"^1.0.0","is-negated-glob":"^1.0.0"}},"to-object-path":{"version":"0.3.0","resolved":"https://registry.npmjs.org/to-object-path/-/to-object-path-0.3.0.tgz","integrity":"sha1-KXWIt7Dn4KwI4E5nL4XB9JmeF68=","requires":{"kind-of":"^3.0.2"},"dependencies":{"kind-of":{"version":"3.2.2","resolved":"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz","integrity":"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=","requires":{"is-buffer":"^1.1.5"}}}},"to-regex":{"version":"3.0.2","resolved":"https://registry.npmjs.org/to-regex/-/to-regex-3.0.2.tgz","integrity":"sha512-FWtleNAtZ/Ki2qtqej2CXTOayOH9bHDQF+Q48VpWyDXjbYxA4Yz8iDB31zXOBUlOHHKidDbqGVrTUvQMPmBGBw==","requires":{"define-property":"^2.0.2","extend-shallow":"^3.0.2","regex-not":"^1.0.2","safe-regex":"^1.1.0"}},"to-regex-range":{"version":"5.0.1","resolved":"https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz","integrity":"sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==","requires":{"is-number":"^7.0.0"}},"to-through":{"version":"2.0.0","resolved":"https://registry.npmjs.org/to-through/-/to-through-2.0.0.tgz","integrity":"sha1-/JKtq6ByZHvAtn1rA2ZKoZUJOvY=","requires":{"through2":"^2.0.3"}},"type":{"version":"1.0.1","resolved":"https://registry.npmjs.org/type/-/type-1.0.1.tgz","integrity":"sha512-MAM5dBMJCJNKs9E7JXo4CXRAansRfG0nlJxW7Wf6GZzSOvH31zClSaHdIMWLehe/EGMBkqeC55rrkaOr5Oo7Nw=="},"typedarray":{"version":"0.0.6","resolved":"https://registry.npmjs.org/typedarray/-/typedarray-0.0.6.tgz","integrity":"sha1-hnrHTjhkGHsdPUfZlqeOxciDB3c="},"uglify-js":{"version":"3.6.0","resolved":"https://registry.npmjs.org/uglify-js/-/uglify-js-3.6.0.tgz","integrity":"sha512-W+jrUHJr3DXKhrsS7NUVxn3zqMOFn0hL/Ei6v0anCIMoKC93TjcflTagwIHLW7SfMFfiQuktQyFVCFHGUE0+yg==","requires":{"commander":"~2.20.0","source-map":"~0.6.1"},"dependencies":{"source-map":{"version":"0.6.1","resolved":"https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz","integrity":"sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g=="}}},"unc-path-regex":{"version":"0.1.2","resolved":"https://registry.npmjs.org/unc-path-regex/-/unc-path-regex-0.1.2.tgz","integrity":"sha1-5z3T17DXxe2G+6xrCufYxqadUPo="},"undertaker":{"version":"1.2.1","resolved":"https://registry.npmjs.org/undertaker/-/undertaker-1.2.1.tgz","integrity":"sha512-71WxIzDkgYk9ZS+spIB8iZXchFhAdEo2YU8xYqBYJ39DIUIqziK78ftm26eecoIY49X0J2MLhG4hr18Yp6/CMA==","requires":{"arr-flatten":"^1.0.1","arr-map":"^2.0.0","bach":"^1.0.0","collection-map":"^1.0.0","es6-weak-map":"^2.0.1","last-run":"^1.1.0","object.defaults":"^1.0.0","object.reduce":"^1.0.0","undertaker-registry":"^1.0.0"}},"undertaker-registry":{"version":"1.0.1","resolved":"https://registry.npmjs.org/undertaker-registry/-/undertaker-registry-1.0.1.tgz","integrity":"sha1-XkvaMI5KiirlhPm5pDWaSZglzFA="},"union-value":{"version":"1.0.1","resolved":"https://registry.npmjs.org/union-value/-/union-value-1.0.1.tgz","integrity":"sha512-tJfXmxMeWYnczCVs7XAEvIV7ieppALdyepWMkHkwciRpZraG/xwT+s2JN8+pr1+8jCRf80FFzvr+MpQeeoF4Xg==","requires":{"arr-union":"^3.1.0","get-value":"^2.0.6","is-extendable":"^0.1.1","set-value":"^2.0.1"}},"unique-stream":{"version":"2.3.1","resolved":"https://registry.npmjs.org/unique-stream/-/unique-stream-2.3.1.tgz","integrity":"sha512-2nY4TnBE70yoxHkDli7DMazpWiP7xMdCYqU2nBRO0UB+ZpEkGsSija7MvmvnZFUeC+mrgiUfcHSr3LmRFIg4+A==","requires":{"json-stable-stringify-without-jsonify":"^1.0.1","through2-filter":"^3.0.0"}},"unset-value":{"version":"1.0.0","resolved":"https://registry.npmjs.org/unset-value/-/unset-value-1.0.0.tgz","integrity":"sha1-g3aHP30jNRef+x5vw6jtDfyKtVk=","requires":{"has-value":"^0.3.1","isobject":"^3.0.0"},"dependencies":{"has-value":{"version":"0.3.1","resolved":"https://registry.npmjs.org/has-value/-/has-value-0.3.1.tgz","integrity":"sha1-ex9YutpiyoJ+wKIHgCVlSEWZXh8=","requires":{"get-value":"^2.0.3","has-values":"^0.1.4","isobject":"^2.0.0"},"dependencies":{"isobject":{"version":"2.1.0","resolved":"https://registry.npmjs.org/isobject/-/isobject-2.1.0.tgz","integrity":"sha1-8GVWEJaj8dou9GJy+BXIQNh+DIk=","requires":{"isarray":"1.0.0"}}}},"has-values":{"version":"0.1.4","resolved":"https://registry.npmjs.org/has-values/-/has-values-0.1.4.tgz","integrity":"sha1-bWHeldkd/Km5oCCJrThL/49it3E="}}},"upath":{"version":"1.1.2","resolved":"https://registry.npmjs.org/upath/-/upath-1.1.2.tgz","integrity":"sha512-kXpym8nmDmlCBr7nKdIx8P2jNBa+pBpIUFRnKJ4dr8htyYGJFokkr2ZvERRtUN+9SY+JqXouNgUPtv6JQva/2Q=="},"urix":{"version":"0.1.0","resolved":"https://registry.npmjs.org/urix/-/urix-0.1.0.tgz","integrity":"sha1-2pN/emLiH+wf0Y1Js1wpNQZ6bHI="},"use":{"version":"3.1.1","resolved":"https://registry.npmjs.org/use/-/use-3.1.1.tgz","integrity":"sha512-cwESVXlO3url9YWlFW/TA9cshCEhtu7IKJ/p5soJ/gGpj7vbvFrAY/eIioQ6Dw23KjZhYgiIo8HOs1nQ2vr/oQ=="},"util-deprecate":{"version":"1.0.2","resolved":"https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz","integrity":"sha1-RQ1Nyfpw3nMnYvvS1KKJgUGaDM8="},"v8flags":{"version":"3.1.3","resolved":"https://registry.npmjs.org/v8flags/-/v8flags-3.1.3.tgz","integrity":"sha512-amh9CCg3ZxkzQ48Mhcb8iX7xpAfYJgePHxWMQCBWECpOSqJUXgY26ncA61UTV0BkPqfhcy6mzwCIoP4ygxpW8w==","requires":{"homedir-polyfill":"^1.0.1"}},"validate-npm-package-license":{"version":"3.0.4","resolved":"https://registry.npmjs.org/validate-npm-package-license/-/validate-npm-package-license-3.0.4.tgz","integrity":"sha512-DpKm2Ui/xN7/HQKCtpZxoRWBhZ9Z0kqtygG8XCgNQ8ZlDnxuQmWhj566j8fN4Cu3/JmbhsDo7fcAJq4s9h27Ew==","requires":{"spdx-correct":"^3.0.0","spdx-expression-parse":"^3.0.0"}},"value-or-function":{"version":"3.0.0","resolved":"https://registry.npmjs.org/value-or-function/-/value-or-function-3.0.0.tgz","integrity":"sha1-HCQ6ULWVwb5Up1S/7OhWO5/42BM="},"vinyl":{"version":"2.2.0","resolved":"https://registry.npmjs.org/vinyl/-/vinyl-2.2.0.tgz","integrity":"sha512-MBH+yP0kC/GQ5GwBqrTPTzEfiiLjta7hTtvQtbxBgTeSXsmKQRQecjibMbxIXzVT3Y9KJK+drOz1/k+vsu8Nkg==","requires":{"clone":"^2.1.1","clone-buffer":"^1.0.0","clone-stats":"^1.0.0","cloneable-readable":"^1.0.0","remove-trailing-separator":"^1.0.1","replace-ext":"^1.0.0"}},"vinyl-fs":{"version":"3.0.3","resolved":"https://registry.npmjs.org/vinyl-fs/-/vinyl-fs-3.0.3.tgz","integrity":"sha512-vIu34EkyNyJxmP0jscNzWBSygh7VWhqun6RmqVfXePrOwi9lhvRs//dOaGOTRUQr4tx7/zd26Tk5WeSVZitgng==","requires":{"fs-mkdirp-stream":"^1.0.0","glob-stream":"^6.1.0","graceful-fs":"^4.0.0","is-valid-glob":"^1.0.0","lazystream":"^1.0.0","lead":"^1.0.0","object.assign":"^4.0.4","pumpify":"^1.3.5","readable-stream":"^2.3.3","remove-bom-buffer":"^3.0.0","remove-bom-stream":"^1.2.0","resolve-options":"^1.1.0","through2":"^2.0.0","to-through":"^2.0.0","value-or-function":"^3.0.0","vinyl":"^2.0.0","vinyl-sourcemap":"^1.1.0"}},"vinyl-sourcemap":{"version":"1.1.0","resolved":"https://registry.npmjs.org/vinyl-sourcemap/-/vinyl-sourcemap-1.1.0.tgz","integrity":"sha1-kqgAWTo4cDqM2xHYswCtS+Y7PhY=","requires":{"append-buffer":"^1.0.2","convert-source-map":"^1.5.0","graceful-fs":"^4.1.6","normalize-path":"^2.1.1","now-and-later":"^2.0.0","remove-bom-buffer":"^3.0.0","vinyl":"^2.0.0"}},"vinyl-sourcemaps-apply":{"version":"0.2.1","resolved":"https://registry.npmjs.org/vinyl-sourcemaps-apply/-/vinyl-sourcemaps-apply-0.2.1.tgz","integrity":"sha1-q2VJ1h0XLCsbh75cUI0jnI74dwU=","requires":{"source-map":"^0.5.1"}},"which":{"version":"1.3.1","resolved":"https://registry.npmjs.org/which/-/which-1.3.1.tgz","integrity":"sha512-HxJdYWq1MTIQbJ3nw0cqssHoTNU267KlrDuGZ1WYlxDStUtKUhOaJmh112/TZmHxxUfuJqPXSOm7tDyas0OSIQ==","requires":{"isexe":"^2.0.0"}},"which-module":{"version":"1.0.0","resolved":"https://registry.npmjs.org/which-module/-/which-module-1.0.0.tgz","integrity":"sha1-u6Y8qGGUiZT/MHc2CJ47lgJsKk8="},"wrap-ansi":{"version":"2.1.0","resolved":"https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-2.1.0.tgz","integrity":"sha1-2Pw9KE3QV5T+hJc8rs3Rz4JP3YU=","requires":{"string-width":"^1.0.1","strip-ansi":"^3.0.1"}},"wrappy":{"version":"1.0.2","resolved":"https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz","integrity":"sha1-tSQ9jz7BqjXxNkYFvA0QNuMKtp8="},"xtend":{"version":"4.0.2","resolved":"https://registry.npmjs.org/xtend/-/xtend-4.0.2.tgz","integrity":"sha512-LKYU1iAXJXUgAXn9URjiu+MWhyUXHsvfp7mcuYm9dSUKK0/CjtrUwFAxD82/mCWbtLsGjFIad0wIsod4zrTAEQ=="},"y18n":{"version":"3.2.1","resolved":"https://registry.npmjs.org/y18n/-/y18n-3.2.1.tgz","integrity":"sha1-bRX7qITAhnnA136I53WegR4H+kE="},"yargs":{"version":"7.1.0","resolved":"https://registry.npmjs.org/yargs/-/yargs-7.1.0.tgz","integrity":"sha1-a6MY6xaWFyf10oT46gA+jWFU0Mg=","requires":{"camelcase":"^3.0.0","cliui":"^3.2.0","decamelize":"^1.1.1","get-caller-file":"^1.0.1","os-locale":"^1.4.0","read-pkg-up":"^1.0.1","require-directory":"^2.1.1","require-main-filename":"^1.0.1","set-blocking":"^2.0.0","string-width":"^1.0.2","which-module":"^1.0.0","y18n":"^3.2.1","yargs-parser":"^5.0.0"}},"yargs-parser":{"version":"5.0.0","resolved":"https://registry.npmjs.org/yargs-parser/-/yargs-parser-5.0.0.tgz","integrity":"sha1-J17PDX/+Bcd+ZOfIbkzZS/DhIoo=","requires":{"camelcase":"^3.0.0"}}}}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/fancybox/source/jquery.fancybox.pack.js"/>
      <url>/lib/fancybox/source/jquery.fancybox.pack.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>// ==================================================// fancyBox v3.5.7//// Licensed GPLv3 for open source use// or fancyBox Commercial License for commercial use//// http://fancyapps.com/fancybox/// Copyright 2019 fancyApps//// ==================================================(function (window, document, $, undefined) {  "use strict";  window.console = window.console || {    info: function (stuff) {}  };  // If there's no jQuery, fancyBox can't work  // =========================================  if (!$) {    return;  }  // Check if fancyBox is already initialized  // ========================================  if ($.fn.fancybox) {    console.info("fancyBox already initialized");    return;  }  // Private default settings  // ========================  var defaults = {    // Close existing modals    // Set this to false if you do not need to stack multiple instances    closeExisting: false,    // Enable infinite gallery navigation    loop: false,    // Horizontal space between slides    gutter: 50,    // Enable keyboard navigation    keyboard: true,    // Should allow caption to overlap the content    preventCaptionOverlap: true,    // Should display navigation arrows at the screen edges    arrows: true,    // Should display counter at the top left corner    infobar: true,    // Should display close button (using `btnTpl.smallBtn` template) over the content    // Can be true, false, "auto"    // If "auto" - will be automatically enabled for "html", "inline" or "ajax" items    smallBtn: "auto",    // Should display toolbar (buttons at the top)    // Can be true, false, "auto"    // If "auto" - will be automatically hidden if "smallBtn" is enabled    toolbar: "auto",    // What buttons should appear in the top right corner.    // Buttons will be created using templates from `btnTpl` option    // and they will be placed into toolbar (class="fancybox-toolbar"` element)    buttons: [      "zoom",      //"share",      "slideShow",      //"fullScreen",      //"download",      "thumbs",      "close"    ],    // Detect "idle" time in seconds    idleTime: 3,    // Disable right-click and use simple image protection for images    protect: false,    // Shortcut to make content "modal" - disable keyboard navigtion, hide buttons, etc    modal: false,    image: {      // Wait for images to load before displaying      //   true  - wait for image to load and then display;      //   false - display thumbnail and load the full-sized image over top,      //           requires predefined image dimensions (`data-width` and `data-height` attributes)      preload: false    },    ajax: {      // Object containing settings for ajax request      settings: {        // This helps to indicate that request comes from the modal        // Feel free to change naming        data: {          fancybox: true        }      }    },    iframe: {      // Iframe template      tpl: '<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src></iframe>',      // Preload iframe before displaying it      // This allows to calculate iframe content width and height      // (note: Due to "Same Origin Policy", you can't get cross domain data).      preload: true,      // Custom CSS styling for iframe wrapping element      // You can use this to set custom iframe dimensions      css: {},      // Iframe tag attributes      attr: {        scrolling: "auto"      }    },    // For HTML5 video only    video: {      tpl: '<video class="fancybox-video" controls controlslist="nodownload" poster>' +        '<source src type>' +        'Sorry, your browser doesn\'t support embedded videos, <a href>download</a> and watch with your favorite video player!' +        "</video>",      format: "", // custom video format      autoStart: true    },    // Default content type if cannot be detected automatically    defaultType: "image",    // Open/close animation type    // Possible values:    //   false            - disable    //   "zoom"           - zoom images from/to thumbnail    //   "fade"    //   "zoom-in-out"    //    animationEffect: "zoom",    // Duration in ms for open/close animation    animationDuration: 366,    // Should image change opacity while zooming    // If opacity is "auto", then opacity will be changed if image and thumbnail have different aspect ratios    zoomOpacity: "auto",    // Transition effect between slides    //    // Possible values:    //   false            - disable    //   "fade'    //   "slide'    //   "circular'    //   "tube'    //   "zoom-in-out'    //   "rotate'    //    transitionEffect: "fade",    // Duration in ms for transition animation    transitionDuration: 366,    // Custom CSS class for slide element    slideClass: "",    // Custom CSS class for layout    baseClass: "",    // Base template for layout    baseTpl: '<div class="fancybox-container" role="dialog" tabindex="-1">' +      '<div class="fancybox-bg"></div>' +      '<div class="fancybox-inner">' +      '<div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div>' +      '<div class="fancybox-toolbar"></div>' +      '<div class="fancybox-navigation"></div>' +      '<div class="fancybox-stage"></div>' +      '<div class="fancybox-caption"><div class="fancybox-caption__body"></div></div>' +      "</div>" +      "</div>",    // Loading indicator template    spinnerTpl: '<div class="fancybox-loading"></div>',    // Error message template    errorTpl: '<div class="fancybox-error"><p></p></div>',    btnTpl: {      download: '<a download data-fancybox-download class="fancybox-button fancybox-button--download" title href="javascript:;" target="_blank" rel="noopener">' +        '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg>' +        "</a>",      zoom: '<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title>' +        '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg>' +        "</button>",      close: '<button data-fancybox-close class="fancybox-button fancybox-button--close" title>' +        '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg>' +        "</button>",      // Arrows      arrowLeft: '<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title>' +        '<div><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div>' +        "</button>",      arrowRight: '<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title>' +        '<div><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div>' +        "</button>",      // This small close button will be appended to your html/inline/ajax content by default,      // if "smallBtn" option is not set to false      smallBtn: '<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title>' +        '<svg xmlns="http://www.w3.org/2000/svg" version="1" viewbox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg>' +        "</button>"    },    // Container is injected into this element    parentEl: "body",    // Hide browser vertical scrollbars; use at your own risk    hideScrollbar: true,    // Focus handling    // ==============    // Try to focus on the first focusable element after opening    autoFocus: true,    // Put focus back to active element after closing    backFocus: true,    // Do not let user to focus on element outside modal content    trapFocus: true,    // Module specific options    // =======================    fullScreen: {      autoStart: false    },    // Set `touch: false` to disable panning/swiping    touch: {      vertical: true, // Allow to drag content vertically      momentum: true // Continue movement after releasing mouse/touch when panning    },    // Hash value when initializing manually,    // set `false` to disable hash change    hash: null,    // Customize or add new media types    // Example:    /*      media : {        youtube : {          params : {            autoplay : 0          }        }      }    */    media: {},    slideShow: {      autoStart: false,      speed: 3000    },    thumbs: {      autoStart: false, // Display thumbnails on opening      hideOnClose: true, // Hide thumbnail grid when closing animation starts      parentEl: ".fancybox-container", // Container is injected into this element      axis: "y" // Vertical (y) or horizontal (x) scrolling    },    // Use mousewheel to navigate gallery    // If 'auto' - enabled for images only    wheel: "auto",    // Callbacks    //==========    // See Documentation/API/Events for more information    // Example:    /*      afterShow: function( instance, current ) {        console.info( 'Clicked element:' );        console.info( current.opts.$orig );      }    */    onInit: $.noop, // When instance has been initialized    beforeLoad: $.noop, // Before the content of a slide is being loaded    afterLoad: $.noop, // When the content of a slide is done loading    beforeShow: $.noop, // Before open animation starts    afterShow: $.noop, // When content is done loading and animating    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.    afterClose: $.noop, // After instance has been closed    onActivate: $.noop, // When instance is brought to front    onDeactivate: $.noop, // When other instance has been activated    // Interaction    // ===========    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,    // each option can be string or method that returns value.    //    // Possible values:    //   "close"           - close instance    //   "next"            - move to next gallery item    //   "nextOrClose"     - move to next gallery item or close if gallery has only one item    //   "toggleControls"  - show/hide controls    //   "zoom"            - zoom image (if loaded)    //   false             - do nothing    // Clicked on the content    clickContent: function (current, event) {      return current.type === "image" ? "zoom" : false;    },    // Clicked on the slide    clickSlide: "close",    // Clicked on the background (backdrop) element;    // if you have not changed the layout, then most likely you need to use `clickSlide` option    clickOutside: "close",    // Same as previous two, but for double click    dblclickContent: false,    dblclickSlide: false,    dblclickOutside: false,    // Custom options when mobile device is detected    // =============================================    mobile: {      preventCaptionOverlap: false,      idleTime: false,      clickContent: function (current, event) {        return current.type === "image" ? "toggleControls" : false;      },      clickSlide: function (current, event) {        return current.type === "image" ? "toggleControls" : "close";      },      dblclickContent: function (current, event) {        return current.type === "image" ? "zoom" : false;      },      dblclickSlide: function (current, event) {        return current.type === "image" ? "zoom" : false;      }    },    // Internationalization    // ====================    lang: "en",    i18n: {      en: {        CLOSE: "Close",        NEXT: "Next",        PREV: "Previous",        ERROR: "The requested content cannot be loaded. <br> Please try again later.",        PLAY_START: "Start slideshow",        PLAY_STOP: "Pause slideshow",        FULL_SCREEN: "Full screen",        THUMBS: "Thumbnails",        DOWNLOAD: "Download",        SHARE: "Share",        ZOOM: "Zoom"      },      de: {        CLOSE: "Schlie&szlig;en",        NEXT: "Weiter",        PREV: "Zur&uuml;ck",        ERROR: "Die angeforderten Daten konnten nicht geladen werden. <br> Bitte versuchen Sie es sp&auml;ter nochmal.",        PLAY_START: "Diaschau starten",        PLAY_STOP: "Diaschau beenden",        FULL_SCREEN: "Vollbild",        THUMBS: "Vorschaubilder",        DOWNLOAD: "Herunterladen",        SHARE: "Teilen",        ZOOM: "Vergr&ouml;&szlig;ern"      }    }  };  // Few useful variables and methods  // ================================  var $W = $(window);  var $D = $(document);  var called = 0;  // Check if an object is a jQuery object and not a native JavaScript object  // ========================================================================  var isQuery = function (obj) {    return obj && obj.hasOwnProperty && obj instanceof $;  };  // Handle multiple browsers for "requestAnimationFrame" and "cancelAnimationFrame"  // ===============================================================================  var requestAFrame = (function () {    return (      window.requestAnimationFrame ||      window.webkitRequestAnimationFrame ||      window.mozRequestAnimationFrame ||      window.oRequestAnimationFrame ||      // if all else fails, use setTimeout      function (callback) {        return window.setTimeout(callback, 1000 / 60);      }    );  })();  var cancelAFrame = (function () {    return (      window.cancelAnimationFrame ||      window.webkitCancelAnimationFrame ||      window.mozCancelAnimationFrame ||      window.oCancelAnimationFrame ||      function (id) {        window.clearTimeout(id);      }    );  })();  // Detect the supported transition-end event property name  // =======================================================  var transitionEnd = (function () {    var el = document.createElement("fakeelement"),      t;    var transitions = {      transition: "transitionend",      OTransition: "oTransitionEnd",      MozTransition: "transitionend",      WebkitTransition: "webkitTransitionEnd"    };    for (t in transitions) {      if (el.style[t] !== undefined) {        return transitions[t];      }    }    return "transitionend";  })();  // Force redraw on an element.  // This helps in cases where the browser doesn't redraw an updated element properly  // ================================================================================  var forceRedraw = function ($el) {    return $el && $el.length && $el[0].offsetHeight;  };  // Exclude array (`buttons`) options from deep merging  // ===================================================  var mergeOpts = function (opts1, opts2) {    var rez = $.extend(true, {}, opts1, opts2);    $.each(opts2, function (key, value) {      if ($.isArray(value)) {        rez[key] = value;      }    });    return rez;  };  // How much of an element is visible in viewport  // =============================================  var inViewport = function (elem) {    var elemCenter, rez;    if (!elem || elem.ownerDocument !== document) {      return false;    }    $(".fancybox-container").css("pointer-events", "none");    elemCenter = {      x: elem.getBoundingClientRect().left + elem.offsetWidth / 2,      y: elem.getBoundingClientRect().top + elem.offsetHeight / 2    };    rez = document.elementFromPoint(elemCenter.x, elemCenter.y) === elem;    $(".fancybox-container").css("pointer-events", "");    return rez;  };  // Class definition  // ================  var FancyBox = function (content, opts, index) {    var self = this;    self.opts = mergeOpts({      index: index    }, $.fancybox.defaults);    if ($.isPlainObject(opts)) {      self.opts = mergeOpts(self.opts, opts);    }    if ($.fancybox.isMobile) {      self.opts = mergeOpts(self.opts, self.opts.mobile);    }    self.id = self.opts.id || ++called;    self.currIndex = parseInt(self.opts.index, 10) || 0;    self.prevIndex = null;    self.prevPos = null;    self.currPos = 0;    self.firstRun = true;    // All group items    self.group = [];    // Existing slides (for current, next and previous gallery items)    self.slides = {};    // Create group elements    self.addContent(content);    if (!self.group.length) {      return;    }    self.init();  };  $.extend(FancyBox.prototype, {    // Create DOM structure    // ====================    init: function () {      var self = this,        firstItem = self.group[self.currIndex],        firstItemOpts = firstItem.opts,        $container,        buttonStr;      if (firstItemOpts.closeExisting) {        $.fancybox.close(true);      }      // Hide scrollbars      // ===============      $("body").addClass("fancybox-active");      if (        !$.fancybox.getInstance() &&        firstItemOpts.hideScrollbar !== false &&        !$.fancybox.isMobile &&        document.body.scrollHeight > window.innerHeight      ) {        $("head").append(          '<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:' +          (window.innerWidth - document.documentElement.clientWidth) +          "px;}</style>"        );        $("body").addClass("compensate-for-scrollbar");      }      // Build html markup and set references      // ====================================      // Build html code for buttons and insert into main template      buttonStr = "";      $.each(firstItemOpts.buttons, function (index, value) {        buttonStr += firstItemOpts.btnTpl[value] || "";      });      // Create markup from base template, it will be initially hidden to      // avoid unnecessary work like painting while initializing is not complete      $container = $(          self.translate(            self,            firstItemOpts.baseTpl            .replace("", buttonStr)            .replace("", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)          )        )        .attr("id", "fancybox-container-" + self.id)        .addClass(firstItemOpts.baseClass)        .data("FancyBox", self)        .appendTo(firstItemOpts.parentEl);      // Create object holding references to jQuery wrapped nodes      self.$refs = {        container: $container      };      ["bg", "inner", "infobar", "toolbar", "stage", "caption", "navigation"].forEach(function (item) {        self.$refs[item] = $container.find(".fancybox-" + item);      });      self.trigger("onInit");      // Enable events, deactive previous instances      self.activate();      // Build slides, load and reveal content      self.jumpTo(self.currIndex);    },    // Simple i18n support - replaces object keys found in template    // with corresponding values    // ============================================================    translate: function (obj, str) {      var arr = obj.opts.i18n[obj.opts.lang] || obj.opts.i18n.en;      return str.replace(/\{\{(\w+)\}\}/g, function (match, n) {        return arr[n] === undefined ? match : arr[n];      });    },    // Populate current group with fresh content    // Check if each object has valid type and content    // ===============================================    addContent: function (content) {      var self = this,        items = $.makeArray(content),        thumbs;      $.each(items, function (i, item) {        var obj = {},          opts = {},          $item,          type,          found,          src,          srcParts;        // Step 1 - Make sure we have an object        // ====================================        if ($.isPlainObject(item)) {          // We probably have manual usage here, something like          // $.fancybox.open( [ { src : "image.jpg", type : "image" } ] )          obj = item;          opts = item.opts || item;        } else if ($.type(item) === "object" && $(item).length) {          // Here we probably have jQuery collection returned by some selector          $item = $(item);          // Support attributes like `data-options='{"touch" : false}'` and `data-touch='false'`          opts = $item.data() || {};          opts = $.extend(true, {}, opts, opts.options);          // Here we store clicked element          opts.$orig = $item;          obj.src = self.opts.src || opts.src || $item.attr("href");          // Assume that simple syntax is used, for example:          //   `$.fancybox.open( $("#test"), {} );`          if (!obj.type && !obj.src) {            obj.type = "inline";            obj.src = item;          }        } else {          // Assume we have a simple html code, for example:          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );          obj = {            type: "html",            src: item + ""          };        }        // Each gallery object has full collection of options        obj.opts = $.extend(true, {}, self.opts, opts);        // Do not merge buttons array        if ($.isArray(opts.buttons)) {          obj.opts.buttons = opts.buttons;        }        if ($.fancybox.isMobile && obj.opts.mobile) {          obj.opts = mergeOpts(obj.opts, obj.opts.mobile);        }        // Step 2 - Make sure we have content type, if not - try to guess        // ==============================================================        type = obj.type || obj.opts.type;        src = obj.src || "";        if (!type && src) {          if ((found = src.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))) {            type = "video";            if (!obj.opts.video.format) {              obj.opts.video.format = "video/" + (found[1] === "ogv" ? "ogg" : found[1]);            }          } else if (src.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)) {            type = "image";          } else if (src.match(/\.(pdf)((\?|#).*)?$/i)) {            type = "iframe";            obj = $.extend(true, obj, {              contentType: "pdf",              opts: {                iframe: {                  preload: false                }              }            });          } else if (src.charAt(0) === "#") {            type = "inline";          }        }        if (type) {          obj.type = type;        } else {          self.trigger("objectNeedsType", obj);        }        if (!obj.contentType) {          obj.contentType = $.inArray(obj.type, ["html", "inline", "ajax"]) > -1 ? "html" : obj.type;        }        // Step 3 - Some adjustments        // =========================        obj.index = self.group.length;        if (obj.opts.smallBtn == "auto") {          obj.opts.smallBtn = $.inArray(obj.type, ["html", "inline", "ajax"]) > -1;        }        if (obj.opts.toolbar === "auto") {          obj.opts.toolbar = !obj.opts.smallBtn;        }        // Find thumbnail image, check if exists and if is in the viewport        obj.$thumb = obj.opts.$thumb || null;        if (obj.opts.$trigger && obj.index === self.opts.index) {          obj.$thumb = obj.opts.$trigger.find("img:first");          if (obj.$thumb.length) {            obj.opts.$orig = obj.opts.$trigger;          }        }        if (!(obj.$thumb && obj.$thumb.length) && obj.opts.$orig) {          obj.$thumb = obj.opts.$orig.find("img:first");        }        if (obj.$thumb && !obj.$thumb.length) {          obj.$thumb = null;        }        obj.thumb = obj.opts.thumb || (obj.$thumb ? obj.$thumb[0].src : null);        // "caption" is a "special" option, it can be used to customize caption per gallery item        if ($.type(obj.opts.caption) === "function") {          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);        }        if ($.type(self.opts.caption) === "function") {          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);        }        // Make sure we have caption as a string or jQuery object        if (!(obj.opts.caption instanceof $)) {          obj.opts.caption = obj.opts.caption === undefined ? "" : obj.opts.caption + "";        }        // Check if url contains "filter" used to filter the content        // Example: "ajax.html #something"        if (obj.type === "ajax") {          srcParts = src.split(/\s+/, 2);          if (srcParts.length > 1) {            obj.src = srcParts.shift();            obj.opts.filter = srcParts.shift();          }        }        // Hide all buttons and disable interactivity for modal items        if (obj.opts.modal) {          obj.opts = $.extend(true, obj.opts, {            trapFocus: true,            // Remove buttons            infobar: 0,            toolbar: 0,            smallBtn: 0,            // Disable keyboard navigation            keyboard: 0,            // Disable some modules            slideShow: 0,            fullScreen: 0,            thumbs: 0,            touch: 0,            // Disable click event handlers            clickContent: false,            clickSlide: false,            clickOutside: false,            dblclickContent: false,            dblclickSlide: false,            dblclickOutside: false          });        }        // Step 4 - Add processed object to group        // ======================================        self.group.push(obj);      });      // Update controls if gallery is already opened      if (Object.keys(self.slides).length) {        self.updateControls();        // Update thumbnails, if needed        thumbs = self.Thumbs;        if (thumbs && thumbs.isActive) {          thumbs.create();          thumbs.focus();        }      }    },    // Attach an event handler functions for:    //   - navigation buttons    //   - browser scrolling, resizing;    //   - focusing    //   - keyboard    //   - detecting inactivity    // ======================================    addEvents: function () {      var self = this;      self.removeEvents();      // Make navigation elements clickable      // ==================================      self.$refs.container        .on("click.fb-close", "[data-fancybox-close]", function (e) {          e.stopPropagation();          e.preventDefault();          self.close(e);        })        .on("touchstart.fb-prev click.fb-prev", "[data-fancybox-prev]", function (e) {          e.stopPropagation();          e.preventDefault();          self.previous();        })        .on("touchstart.fb-next click.fb-next", "[data-fancybox-next]", function (e) {          e.stopPropagation();          e.preventDefault();          self.next();        })        .on("click.fb", "[data-fancybox-zoom]", function (e) {          // Click handler for zoom button          self[self.isScaledDown() ? "scaleToActual" : "scaleToFit"]();        });      // Handle page scrolling and browser resizing      // ==========================================      $W.on("orientationchange.fb resize.fb", function (e) {        if (e && e.originalEvent && e.originalEvent.type === "resize") {          if (self.requestId) {            cancelAFrame(self.requestId);          }          self.requestId = requestAFrame(function () {            self.update(e);          });        } else {          if (self.current && self.current.type === "iframe") {            self.$refs.stage.hide();          }          setTimeout(            function () {              self.$refs.stage.show();              self.update(e);            },            $.fancybox.isMobile ? 600 : 250          );        }      });      $D.on("keydown.fb", function (e) {        var instance = $.fancybox ? $.fancybox.getInstance() : null,          current = instance.current,          keycode = e.keyCode || e.which;        // Trap keyboard focus inside of the modal        // =======================================        if (keycode == 9) {          if (current.opts.trapFocus) {            self.focus(e);          }          return;        }        // Enable keyboard navigation        // ==========================        if (!current.opts.keyboard || e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is("input,textarea,video,audio,select")) {          return;        }        // Backspace and Esc keys        if (keycode === 8 || keycode === 27) {          e.preventDefault();          self.close(e);          return;        }        // Left arrow and Up arrow        if (keycode === 37 || keycode === 38) {          e.preventDefault();          self.previous();          return;        }        // Righ arrow and Down arrow        if (keycode === 39 || keycode === 40) {          e.preventDefault();          self.next();          return;        }        self.trigger("afterKeydown", e, keycode);      });      // Hide controls after some inactivity period      if (self.group[self.currIndex].opts.idleTime) {        self.idleSecondsCounter = 0;        $D.on(          "mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",          function (e) {            self.idleSecondsCounter = 0;            if (self.isIdle) {              self.showControls();            }            self.isIdle = false;          }        );        self.idleInterval = window.setInterval(function () {          self.idleSecondsCounter++;          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {            self.isIdle = true;            self.idleSecondsCounter = 0;            self.hideControls();          }        }, 1000);      }    },    // Remove events added by the core    // ===============================    removeEvents: function () {      var self = this;      $W.off("orientationchange.fb resize.fb");      $D.off("keydown.fb .fb-idle");      this.$refs.container.off(".fb-close .fb-prev .fb-next");      if (self.idleInterval) {        window.clearInterval(self.idleInterval);        self.idleInterval = null;      }    },    // Change to previous gallery item    // ===============================    previous: function (duration) {      return this.jumpTo(this.currPos - 1, duration);    },    // Change to next gallery item    // ===========================    next: function (duration) {      return this.jumpTo(this.currPos + 1, duration);    },    // Switch to selected gallery item    // ===============================    jumpTo: function (pos, duration) {      var self = this,        groupLen = self.group.length,        firstRun,        isMoved,        loop,        current,        previous,        slidePos,        stagePos,        prop,        diff;      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {        return;      }      // Should loop?      pos = parseInt(pos, 10);      loop = self.current ? self.current.opts.loop : self.opts.loop;      if (!loop && (pos < 0 || pos >= groupLen)) {        return false;      }      // Check if opening for the first time; this helps to speed things up      firstRun = self.firstRun = !Object.keys(self.slides).length;      // Create slides      previous = self.current;      self.prevIndex = self.currIndex;      self.prevPos = self.currPos;      current = self.createSlide(pos);      if (groupLen > 1) {        if (loop || current.index < groupLen - 1) {          self.createSlide(pos + 1);        }        if (loop || current.index > 0) {          self.createSlide(pos - 1);        }      }      self.current = current;      self.currIndex = current.index;      self.currPos = current.pos;      self.trigger("beforeShow", firstRun);      self.updateControls();      // Validate duration length      current.forcedDuration = undefined;      if ($.isNumeric(duration)) {        current.forcedDuration = duration;      } else {        duration = current.opts[firstRun ? "animationDuration" : "transitionDuration"];      }      duration = parseInt(duration, 10);      // Check if user has swiped the slides or if still animating      isMoved = self.isMoved(current);      // Make sure current slide is visible      current.$slide.addClass("fancybox-slide--current");      // Fresh start - reveal container, current slide and start loading content      if (firstRun) {        if (current.opts.animationEffect && duration) {          self.$refs.container.css("transition-duration", duration + "ms");        }        self.$refs.container.addClass("fancybox-is-open").trigger("focus");        // Attempt to load content into slide        // This will later call `afterLoad` -> `revealContent`        self.loadSlide(current);        self.preload("image");        return;      }      // Get actual slide/stage positions (before cleaning up)      slidePos = $.fancybox.getTranslate(previous.$slide);      stagePos = $.fancybox.getTranslate(self.$refs.stage);      // Clean up all slides      $.each(self.slides, function (index, slide) {        $.fancybox.stop(slide.$slide, true);      });      if (previous.pos !== current.pos) {        previous.isComplete = false;      }      previous.$slide.removeClass("fancybox-slide--complete fancybox-slide--current");      // If slides are out of place, then animate them to correct position      if (isMoved) {        // Calculate horizontal swipe distance        diff = slidePos.left - (previous.pos * slidePos.width + previous.pos * previous.opts.gutter);        $.each(self.slides, function (index, slide) {          slide.$slide.removeClass("fancybox-animated").removeClass(function (index, className) {            return (className.match(/(^|\s)fancybox-fx-\S+/g) || []).join(" ");          });          // Make sure that each slide is in equal distance          // This is mostly needed for freshly added slides, because they are not yet positioned          var leftPos = slide.pos * slidePos.width + slide.pos * slide.opts.gutter;          $.fancybox.setTranslate(slide.$slide, {            top: 0,            left: leftPos - stagePos.left + diff          });          if (slide.pos !== current.pos) {            slide.$slide.addClass("fancybox-slide--" + (slide.pos > current.pos ? "next" : "previous"));          }          // Redraw to make sure that transition will start          forceRedraw(slide.$slide);          // Animate the slide          $.fancybox.animate(            slide.$slide, {              top: 0,              left: (slide.pos - current.pos) * slidePos.width + (slide.pos - current.pos) * slide.opts.gutter            },            duration,            function () {              slide.$slide                .css({                  transform: "",                  opacity: ""                })                .removeClass("fancybox-slide--next fancybox-slide--previous");              if (slide.pos === self.currPos) {                self.complete();              }            }          );        });      } else if (duration && current.opts.transitionEffect) {        // Set transition effect for previously active slide        prop = "fancybox-animated fancybox-fx-" + current.opts.transitionEffect;        previous.$slide.addClass("fancybox-slide--" + (previous.pos > current.pos ? "next" : "previous"));        $.fancybox.animate(          previous.$slide,          prop,          duration,          function () {            previous.$slide.removeClass(prop).removeClass("fancybox-slide--next fancybox-slide--previous");          },          false        );      }      if (current.isLoaded) {        self.revealContent(current);      } else {        self.loadSlide(current);      }      self.preload("image");    },    // Create new "slide" element    // These are gallery items  that are actually added to DOM    // =======================================================    createSlide: function (pos) {      var self = this,        $slide,        index;      index = pos % self.group.length;      index = index < 0 ? self.group.length + index : index;      if (!self.slides[pos] && self.group[index]) {        $slide = $('<div class="fancybox-slide"></div>').appendTo(self.$refs.stage);        self.slides[pos] = $.extend(true, {}, self.group[index], {          pos: pos,          $slide: $slide,          isLoaded: false        });        self.updateSlide(self.slides[pos]);      }      return self.slides[pos];    },    // Scale image to the actual size of the image;    // x and y values should be relative to the slide    // ==============================================    scaleToActual: function (x, y, duration) {      var self = this,        current = self.current,        $content = current.$content,        canvasWidth = $.fancybox.getTranslate(current.$slide).width,        canvasHeight = $.fancybox.getTranslate(current.$slide).height,        newImgWidth = current.width,        newImgHeight = current.height,        imgPos,        posX,        posY,        scaleX,        scaleY;      if (self.isAnimating || self.isMoved() || !$content || !(current.type == "image" && current.isLoaded && !current.hasError)) {        return;      }      self.isAnimating = true;      $.fancybox.stop($content);      x = x === undefined ? canvasWidth * 0.5 : x;      y = y === undefined ? canvasHeight * 0.5 : y;      imgPos = $.fancybox.getTranslate($content);      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;      scaleX = newImgWidth / imgPos.width;      scaleY = newImgHeight / imgPos.height;      // Get center position for original image      posX = canvasWidth * 0.5 - newImgWidth * 0.5;      posY = canvasHeight * 0.5 - newImgHeight * 0.5;      // Make sure image does not move away from edges      if (newImgWidth > canvasWidth) {        posX = imgPos.left * scaleX - (x * scaleX - x);        if (posX > 0) {          posX = 0;        }        if (posX < canvasWidth - newImgWidth) {          posX = canvasWidth - newImgWidth;        }      }      if (newImgHeight > canvasHeight) {        posY = imgPos.top * scaleY - (y * scaleY - y);        if (posY > 0) {          posY = 0;        }        if (posY < canvasHeight - newImgHeight) {          posY = canvasHeight - newImgHeight;        }      }      self.updateCursor(newImgWidth, newImgHeight);      $.fancybox.animate(        $content, {          top: posY,          left: posX,          scaleX: scaleX,          scaleY: scaleY        },        duration || 366,        function () {          self.isAnimating = false;        }      );      // Stop slideshow      if (self.SlideShow && self.SlideShow.isActive) {        self.SlideShow.stop();      }    },    // Scale image to fit inside parent element    // ========================================    scaleToFit: function (duration) {      var self = this,        current = self.current,        $content = current.$content,        end;      if (self.isAnimating || self.isMoved() || !$content || !(current.type == "image" && current.isLoaded && !current.hasError)) {        return;      }      self.isAnimating = true;      $.fancybox.stop($content);      end = self.getFitPos(current);      self.updateCursor(end.width, end.height);      $.fancybox.animate(        $content, {          top: end.top,          left: end.left,          scaleX: end.width / $content.width(),          scaleY: end.height / $content.height()        },        duration || 366,        function () {          self.isAnimating = false;        }      );    },    // Calculate image size to fit inside viewport    // ===========================================    getFitPos: function (slide) {      var self = this,        $content = slide.$content,        $slide = slide.$slide,        width = slide.width || slide.opts.width,        height = slide.height || slide.opts.height,        maxWidth,        maxHeight,        minRatio,        aspectRatio,        rez = {};      if (!slide.isLoaded || !$content || !$content.length) {        return false;      }      maxWidth = $.fancybox.getTranslate(self.$refs.stage).width;      maxHeight = $.fancybox.getTranslate(self.$refs.stage).height;      maxWidth -=        parseFloat($slide.css("paddingLeft")) +        parseFloat($slide.css("paddingRight")) +        parseFloat($content.css("marginLeft")) +        parseFloat($content.css("marginRight"));      maxHeight -=        parseFloat($slide.css("paddingTop")) +        parseFloat($slide.css("paddingBottom")) +        parseFloat($content.css("marginTop")) +        parseFloat($content.css("marginBottom"));      if (!width || !height) {        width = maxWidth;        height = maxHeight;      }      minRatio = Math.min(1, maxWidth / width, maxHeight / height);      width = minRatio * width;      height = minRatio * height;      // Adjust width/height to precisely fit into container      if (width > maxWidth - 0.5) {        width = maxWidth;      }      if (height > maxHeight - 0.5) {        height = maxHeight;      }      if (slide.type === "image") {        rez.top = Math.floor((maxHeight - height) * 0.5) + parseFloat($slide.css("paddingTop"));        rez.left = Math.floor((maxWidth - width) * 0.5) + parseFloat($slide.css("paddingLeft"));      } else if (slide.contentType === "video") {        // Force aspect ratio for the video        // "I say the whole world must learn of our peaceful ways… by force!"        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;        if (height > width / aspectRatio) {          height = width / aspectRatio;        } else if (width > height * aspectRatio) {          width = height * aspectRatio;        }      }      rez.width = width;      rez.height = height;      return rez;    },    // Update content size and position for all slides    // ==============================================    update: function (e) {      var self = this;      $.each(self.slides, function (key, slide) {        self.updateSlide(slide, e);      });    },    // Update slide content position and size    // ======================================    updateSlide: function (slide, e) {      var self = this,        $content = slide && slide.$content,        width = slide.width || slide.opts.width,        height = slide.height || slide.opts.height,        $slide = slide.$slide;      // First, prevent caption overlap, if needed      self.adjustCaption(slide);      // Then resize content to fit inside the slide      if ($content && (width || height || slide.contentType === "video") && !slide.hasError) {        $.fancybox.stop($content);        $.fancybox.setTranslate($content, self.getFitPos(slide));        if (slide.pos === self.currPos) {          self.isAnimating = false;          self.updateCursor();        }      }      // Then some adjustments      self.adjustLayout(slide);      if ($slide.length) {        $slide.trigger("refresh");        if (slide.pos === self.currPos) {          self.$refs.toolbar            .add(self.$refs.navigation.find(".fancybox-button--arrow_right"))            .toggleClass("compensate-for-scrollbar", $slide.get(0).scrollHeight > $slide.get(0).clientHeight);        }      }      self.trigger("onUpdate", slide, e);    },    // Horizontally center slide    // =========================    centerSlide: function (duration) {      var self = this,        current = self.current,        $slide = current.$slide;      if (self.isClosing || !current) {        return;      }      $slide.siblings().css({        transform: "",        opacity: ""      });      $slide        .parent()        .children()        .removeClass("fancybox-slide--previous fancybox-slide--next");      $.fancybox.animate(        $slide, {          top: 0,          left: 0,          opacity: 1        },        duration === undefined ? 0 : duration,        function () {          // Clean up          $slide.css({            transform: "",            opacity: ""          });          if (!current.isComplete) {            self.complete();          }        },        false      );    },    // Check if current slide is moved (swiped)    // ========================================    isMoved: function (slide) {      var current = slide || this.current,        slidePos,        stagePos;      if (!current) {        return false;      }      stagePos = $.fancybox.getTranslate(this.$refs.stage);      slidePos = $.fancybox.getTranslate(current.$slide);      return (        !current.$slide.hasClass("fancybox-animated") &&        (Math.abs(slidePos.top - stagePos.top) > 0.5 || Math.abs(slidePos.left - stagePos.left) > 0.5)      );    },    // Update cursor style depending if content can be zoomed    // ======================================================    updateCursor: function (nextWidth, nextHeight) {      var self = this,        current = self.current,        $container = self.$refs.container,        canPan,        isZoomable;      if (!current || self.isClosing || !self.Guestures) {        return;      }      $container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan");      canPan = self.canPan(nextWidth, nextHeight);      isZoomable = canPan ? true : self.isZoomable();      $container.toggleClass("fancybox-is-zoomable", isZoomable);      $("[data-fancybox-zoom]").prop("disabled", !isZoomable);      if (canPan) {        $container.addClass("fancybox-can-pan");      } else if (        isZoomable &&        (current.opts.clickContent === "zoom" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) == "zoom"))      ) {        $container.addClass("fancybox-can-zoomIn");      } else if (current.opts.touch && (current.opts.touch.vertical || self.group.length > 1) && current.contentType !== "video") {        $container.addClass("fancybox-can-swipe");      }    },    // Check if current slide is zoomable    // ==================================    isZoomable: function () {      var self = this,        current = self.current,        fitPos;      // Assume that slide is zoomable if:      //   - image is still loading      //   - actual size of the image is smaller than available area      if (current && !self.isClosing && current.type === "image" && !current.hasError) {        if (!current.isLoaded) {          return true;        }        fitPos = self.getFitPos(current);        if (fitPos && (current.width > fitPos.width || current.height > fitPos.height)) {          return true;        }      }      return false;    },    // Check if current image dimensions are smaller than actual    // =========================================================    isScaledDown: function (nextWidth, nextHeight) {      var self = this,        rez = false,        current = self.current,        $content = current.$content;      if (nextWidth !== undefined && nextHeight !== undefined) {        rez = nextWidth < current.width && nextHeight < current.height;      } else if ($content) {        rez = $.fancybox.getTranslate($content);        rez = rez.width < current.width && rez.height < current.height;      }      return rez;    },    // Check if image dimensions exceed parent element    // ===============================================    canPan: function (nextWidth, nextHeight) {      var self = this,        current = self.current,        pos = null,        rez = false;      if (current.type === "image" && (current.isComplete || (nextWidth && nextHeight)) && !current.hasError) {        rez = self.getFitPos(current);        if (nextWidth !== undefined && nextHeight !== undefined) {          pos = {            width: nextWidth,            height: nextHeight          };        } else if (current.isComplete) {          pos = $.fancybox.getTranslate(current.$content);        }        if (pos && rez) {          rez = Math.abs(pos.width - rez.width) > 1.5 || Math.abs(pos.height - rez.height) > 1.5;        }      }      return rez;    },    // Load content into the slide    // ===========================    loadSlide: function (slide) {      var self = this,        type,        $slide,        ajaxLoad;      if (slide.isLoading || slide.isLoaded) {        return;      }      slide.isLoading = true;      if (self.trigger("beforeLoad", slide) === false) {        slide.isLoading = false;        return false;      }      type = slide.type;      $slide = slide.$slide;      $slide        .off("refresh")        .trigger("onReset")        .addClass(slide.opts.slideClass);      // Create content depending on the type      switch (type) {        case "image":          self.setImage(slide);          break;        case "iframe":          self.setIframe(slide);          break;        case "html":          self.setContent(slide, slide.src || slide.content);          break;        case "video":          self.setContent(            slide,            slide.opts.video.tpl            .replace(/\{\{src\}\}/gi, slide.src)            .replace("", slide.opts.videoFormat || slide.opts.video.format || "")            .replace("", slide.thumb || "")          );          break;        case "inline":          if ($(slide.src).length) {            self.setContent(slide, $(slide.src));          } else {            self.setError(slide);          }          break;        case "ajax":          self.showLoading(slide);          ajaxLoad = $.ajax(            $.extend({}, slide.opts.ajax.settings, {              url: slide.src,              success: function (data, textStatus) {                if (textStatus === "success") {                  self.setContent(slide, data);                }              },              error: function (jqXHR, textStatus) {                if (jqXHR && textStatus !== "abort") {                  self.setError(slide);                }              }            })          );          $slide.one("onReset", function () {            ajaxLoad.abort();          });          break;        default:          self.setError(slide);          break;      }      return true;    },    // Use thumbnail image, if possible    // ================================    setImage: function (slide) {      var self = this,        ghost;      // Check if need to show loading icon      setTimeout(function () {        var $img = slide.$image;        if (!self.isClosing && slide.isLoading && (!$img || !$img.length || !$img[0].complete) && !slide.hasError) {          self.showLoading(slide);        }      }, 50);      //Check if image has srcset      self.checkSrcset(slide);      // This will be wrapper containing both ghost and actual image      slide.$content = $('<div class="fancybox-content"></div>')        .addClass("fancybox-is-hidden")        .appendTo(slide.$slide.addClass("fancybox-slide--image"));      // If we have a thumbnail, we can display it while actual image is loading      // Users will not stare at black screen and actual image will appear gradually      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && slide.thumb) {        slide.width = slide.opts.width;        slide.height = slide.opts.height;        ghost = document.createElement("img");        ghost.onerror = function () {          $(this).remove();          slide.$ghost = null;        };        ghost.onload = function () {          self.afterLoad(slide);        };        slide.$ghost = $(ghost)          .addClass("fancybox-image")          .appendTo(slide.$content)          .attr("src", slide.thumb);      }      // Start loading actual image      self.setBigImage(slide);    },    // Check if image has srcset and get the source    // ============================================    checkSrcset: function (slide) {      var srcset = slide.opts.srcset || slide.opts.image.srcset,        found,        temp,        pxRatio,        windowWidth;      // If we have "srcset", then we need to find first matching "src" value.      // This is necessary, because when you set an src attribute, the browser will preload the image      // before any javascript or even CSS is applied.      if (srcset) {        pxRatio = window.devicePixelRatio || 1;        windowWidth = window.innerWidth * pxRatio;        temp = srcset.split(",").map(function (el) {          var ret = {};          el.trim()            .split(/\s+/)            .forEach(function (el, i) {              var value = parseInt(el.substring(0, el.length - 1), 10);              if (i === 0) {                return (ret.url = el);              }              if (value) {                ret.value = value;                ret.postfix = el[el.length - 1];              }            });          return ret;        });        // Sort by value        temp.sort(function (a, b) {          return a.value - b.value;        });        // Ok, now we have an array of all srcset values        for (var j = 0; j < temp.length; j++) {          var el = temp[j];          if ((el.postfix === "w" && el.value >= windowWidth) || (el.postfix === "x" && el.value >= pxRatio)) {            found = el;            break;          }        }        // If not found, take the last one        if (!found && temp.length) {          found = temp[temp.length - 1];        }        if (found) {          slide.src = found.url;          // If we have default width/height values, we can calculate height for matching source          if (slide.width && slide.height && found.postfix == "w") {            slide.height = (slide.width / slide.height) * found.value;            slide.width = found.value;          }          slide.opts.srcset = srcset;        }      }    },    // Create full-size image    // ======================    setBigImage: function (slide) {      var self = this,        img = document.createElement("img"),        $img = $(img);      slide.$image = $img        .one("error", function () {          self.setError(slide);        })        .one("load", function () {          var sizes;          if (!slide.$ghost) {            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);            self.afterLoad(slide);          }          if (self.isClosing) {            return;          }          if (slide.opts.srcset) {            sizes = slide.opts.sizes;            if (!sizes || sizes === "auto") {              sizes =                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? "100" : Math.round((slide.width / slide.height) * 100)) +                "vw";            }            $img.attr("sizes", sizes).attr("srcset", slide.opts.srcset);          }          // Hide temporary image after some delay          if (slide.$ghost) {            setTimeout(function () {              if (slide.$ghost && !self.isClosing) {                slide.$ghost.hide();              }            }, Math.min(300, Math.max(1000, slide.height / 1600)));          }          self.hideLoading(slide);        })        .addClass("fancybox-image")        .attr("src", slide.src)        .appendTo(slide.$content);      if ((img.complete || img.readyState == "complete") && $img.naturalWidth && $img.naturalHeight) {        $img.trigger("load");      } else if (img.error) {        $img.trigger("error");      }    },    // Computes the slide size from image size and maxWidth/maxHeight    // ==============================================================    resolveImageSlideSize: function (slide, imgWidth, imgHeight) {      var maxWidth = parseInt(slide.opts.width, 10),        maxHeight = parseInt(slide.opts.height, 10);      // Sets the default values from the image      slide.width = imgWidth;      slide.height = imgHeight;      if (maxWidth > 0) {        slide.width = maxWidth;        slide.height = Math.floor((maxWidth * imgHeight) / imgWidth);      }      if (maxHeight > 0) {        slide.width = Math.floor((maxHeight * imgWidth) / imgHeight);        slide.height = maxHeight;      }    },    // Create iframe wrapper, iframe and bindings    // ==========================================    setIframe: function (slide) {      var self = this,        opts = slide.opts.iframe,        $slide = slide.$slide,        $iframe;      slide.$content = $('<div class="fancybox-content' + (opts.preload ? " fancybox-is-hidden" : "") + '"></div>')        .css(opts.css)        .appendTo($slide);      $slide.addClass("fancybox-slide--" + slide.contentType);      slide.$iframe = $iframe = $(opts.tpl.replace(/\{rnd\}/g, new Date().getTime()))        .attr(opts.attr)        .appendTo(slide.$content);      if (opts.preload) {        self.showLoading(slide);        // Unfortunately, it is not always possible to determine if iframe is successfully loaded        // (due to browser security policy)        $iframe.on("load.fb error.fb", function (e) {          this.isReady = 1;          slide.$slide.trigger("refresh");          self.afterLoad(slide);        });        // Recalculate iframe content size        // ===============================        $slide.on("refresh.fb", function () {          var $content = slide.$content,            frameWidth = opts.css.width,            frameHeight = opts.css.height,            $contents,            $body;          if ($iframe[0].isReady !== 1) {            return;          }          try {            $contents = $iframe.contents();            $body = $contents.find("body");          } catch (ignore) {}          // Calculate content dimensions, if it is accessible          if ($body && $body.length && $body.children().length) {            // Avoid scrolling to top (if multiple instances)            $slide.css("overflow", "visible");            $content.css({              width: "100%",              "max-width": "100%",              height: "9999px"            });            if (frameWidth === undefined) {              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));            }            $content.css("width", frameWidth ? frameWidth : "").css("max-width", "");            if (frameHeight === undefined) {              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));            }            $content.css("height", frameHeight ? frameHeight : "");            $slide.css("overflow", "auto");          }          $content.removeClass("fancybox-is-hidden");        });      } else {        self.afterLoad(slide);      }      $iframe.attr("src", slide.src);      // Remove iframe if closing or changing gallery item      $slide.one("onReset", function () {        // This helps IE not to throw errors when closing        try {          $(this)            .find("iframe")            .hide()            .unbind()            .attr("src", "//about:blank");        } catch (ignore) {}        $(this)          .off("refresh.fb")          .empty();        slide.isLoaded = false;        slide.isRevealed = false;      });    },    // Wrap and append content to the slide    // ======================================    setContent: function (slide, content) {      var self = this;      if (self.isClosing) {        return;      }      self.hideLoading(slide);      if (slide.$content) {        $.fancybox.stop(slide.$content);      }      slide.$slide.empty();      // If content is a jQuery object, then it will be moved to the slide.      // The placeholder is created so we will know where to put it back.      if (isQuery(content) && content.parent().length) {        // Make sure content is not already moved to fancyBox        if (content.hasClass("fancybox-content") || content.parent().hasClass("fancybox-content")) {          content.parents(".fancybox-slide").trigger("onReset");        }        // Create temporary element marking original place of the content        slide.$placeholder = $("<div>")          .hide()          .insertAfter(content);        // Make sure content is visible        content.css("display", "inline-block");      } else if (!slide.hasError) {        // If content is just a plain text, try to convert it to html        if ($.type(content) === "string") {          content = $("<div>")            .append($.trim(content))            .contents();        }        // If "filter" option is provided, then filter content        if (slide.opts.filter) {          content = $("<div>")            .html(content)            .find(slide.opts.filter);        }      }      slide.$slide.one("onReset", function () {        // Pause all html5 video/audio        $(this)          .find("video,audio")          .trigger("pause");        // Put content back        if (slide.$placeholder) {          slide.$placeholder.after(content.removeClass("fancybox-content").hide()).remove();          slide.$placeholder = null;        }        // Remove custom close button        if (slide.$smallBtn) {          slide.$smallBtn.remove();          slide.$smallBtn = null;        }        // Remove content and mark slide as not loaded        if (!slide.hasError) {          $(this).empty();          slide.isLoaded = false;          slide.isRevealed = false;        }      });      $(content).appendTo(slide.$slide);      if ($(content).is("video,audio")) {        $(content).addClass("fancybox-video");        $(content).wrap("<div></div>");        slide.contentType = "video";        slide.opts.width = slide.opts.width || $(content).attr("width");        slide.opts.height = slide.opts.height || $(content).attr("height");      }      slide.$content = slide.$slide        .children()        .filter("div,form,main,video,audio,article,.fancybox-content")        .first();      slide.$content.siblings().hide();      // Re-check if there is a valid content      // (in some cases, ajax response can contain various elements or plain text)      if (!slide.$content.length) {        slide.$content = slide.$slide          .wrapInner("<div></div>")          .children()          .first();      }      slide.$content.addClass("fancybox-content");      slide.$slide.addClass("fancybox-slide--" + slide.contentType);      self.afterLoad(slide);    },    // Display error message    // =====================    setError: function (slide) {      slide.hasError = true;      slide.$slide        .trigger("onReset")        .removeClass("fancybox-slide--" + slide.contentType)        .addClass("fancybox-slide--error");      slide.contentType = "html";      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));      if (slide.pos === this.currPos) {        this.isAnimating = false;      }    },    // Show loading icon inside the slide    // ==================================    showLoading: function (slide) {      var self = this;      slide = slide || self.current;      if (slide && !slide.$spinner) {        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl))          .appendTo(slide.$slide)          .hide()          .fadeIn("fast");      }    },    // Remove loading icon from the slide    // ==================================    hideLoading: function (slide) {      var self = this;      slide = slide || self.current;      if (slide && slide.$spinner) {        slide.$spinner.stop().remove();        delete slide.$spinner;      }    },    // Adjustments after slide content has been loaded    // ===============================================    afterLoad: function (slide) {      var self = this;      if (self.isClosing) {        return;      }      slide.isLoading = false;      slide.isLoaded = true;      self.trigger("afterLoad", slide);      self.hideLoading(slide);      // Add small close button      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).appendTo(slide.$content);      }      // Disable right click      if (slide.opts.protect && slide.$content && !slide.hasError) {        slide.$content.on("contextmenu.fb", function (e) {          if (e.button == 2) {            e.preventDefault();          }          return true;        });        // Add fake element on top of the image        // This makes a bit harder for user to select image        if (slide.type === "image") {          $('<div class="fancybox-spaceball"></div>').appendTo(slide.$content);        }      }      self.adjustCaption(slide);      self.adjustLayout(slide);      if (slide.pos === self.currPos) {        self.updateCursor();      }      self.revealContent(slide);    },    // Prevent caption overlap,    // fix css inconsistency across browsers    // =====================================    adjustCaption: function (slide) {      var self = this,        current = slide || self.current,        caption = current.opts.caption,        preventOverlap = current.opts.preventCaptionOverlap,        $caption = self.$refs.caption,        $clone,        captionH = false;      $caption.toggleClass("fancybox-caption--separate", preventOverlap);      if (preventOverlap && caption && caption.length) {        if (current.pos !== self.currPos) {          $clone = $caption.clone().appendTo($caption.parent());          $clone            .children()            .eq(0)            .empty()            .html(caption);          captionH = $clone.outerHeight(true);          $clone.empty().remove();        } else if (self.$caption) {          captionH = self.$caption.outerHeight(true);        }        current.$slide.css("padding-bottom", captionH || "");      }    },    // Simple hack to fix inconsistency across browsers, described here (affects Edge, too):    // https://bugzilla.mozilla.org/show_bug.cgi?id=748518    // ====================================================================================    adjustLayout: function (slide) {      var self = this,        current = slide || self.current,        scrollHeight,        marginBottom,        inlinePadding,        actualPadding;      if (current.isLoaded && current.opts.disableLayoutFix !== true) {        current.$content.css("margin-bottom", "");        // If we would always set margin-bottom for the content,        // then it would potentially break vertical align        if (current.$content.outerHeight() > current.$slide.height() + 0.5) {          inlinePadding = current.$slide[0].style["padding-bottom"];          actualPadding = current.$slide.css("padding-bottom");          if (parseFloat(actualPadding) > 0) {            scrollHeight = current.$slide[0].scrollHeight;            current.$slide.css("padding-bottom", 0);            if (Math.abs(scrollHeight - current.$slide[0].scrollHeight) < 1) {              marginBottom = actualPadding;            }            current.$slide.css("padding-bottom", inlinePadding);          }        }        current.$content.css("margin-bottom", marginBottom);      }    },    // Make content visible    // This method is called right after content has been loaded or    // user navigates gallery and transition should start    // ============================================================    revealContent: function (slide) {      var self = this,        $slide = slide.$slide,        end = false,        start = false,        isMoved = self.isMoved(slide),        isRevealed = slide.isRevealed,        effect,        effectClassName,        duration,        opacity;      slide.isRevealed = true;      effect = slide.opts[self.firstRun ? "animationEffect" : "transitionEffect"];      duration = slide.opts[self.firstRun ? "animationDuration" : "transitionDuration"];      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);      if (isMoved || slide.pos !== self.currPos || !duration) {        effect = false;      }      // Check if can zoom      if (effect === "zoom") {        if (slide.pos === self.currPos && duration && slide.type === "image" && !slide.hasError && (start = self.getThumbPos(slide))) {          end = self.getFitPos(slide);        } else {          effect = "fade";        }      }      // Zoom animation      // ==============      if (effect === "zoom") {        self.isAnimating = true;        end.scaleX = end.width / start.width;        end.scaleY = end.height / start.height;        // Check if we need to animate opacity        opacity = slide.opts.zoomOpacity;        if (opacity == "auto") {          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;        }        if (opacity) {          start.opacity = 0.1;          end.opacity = 1;        }        // Draw image at start position        $.fancybox.setTranslate(slide.$content.removeClass("fancybox-is-hidden"), start);        forceRedraw(slide.$content);        // Start animation        $.fancybox.animate(slide.$content, end, duration, function () {          self.isAnimating = false;          self.complete();        });        return;      }      self.updateSlide(slide);      // Simply show content if no effect      // ================================      if (!effect) {        slide.$content.removeClass("fancybox-is-hidden");        if (!isRevealed && isMoved && slide.type === "image" && !slide.hasError) {          slide.$content.hide().fadeIn("fast");        }        if (slide.pos === self.currPos) {          self.complete();        }        return;      }      // Prepare for CSS transiton      // =========================      $.fancybox.stop($slide);      //effectClassName = "fancybox-animated fancybox-slide--" + (slide.pos >= self.prevPos ? "next" : "previous") + " fancybox-fx-" + effect;      effectClassName = "fancybox-slide--" + (slide.pos >= self.prevPos ? "next" : "previous") + " fancybox-animated fancybox-fx-" + effect;      $slide.addClass(effectClassName).removeClass("fancybox-slide--current"); //.addClass(effectClassName);      slide.$content.removeClass("fancybox-is-hidden");      // Force reflow      forceRedraw($slide);      if (slide.type !== "image") {        slide.$content.hide().show(0);      }      $.fancybox.animate(        $slide,        "fancybox-slide--current",        duration,        function () {          $slide.removeClass(effectClassName).css({            transform: "",            opacity: ""          });          if (slide.pos === self.currPos) {            self.complete();          }        },        true      );    },    // Check if we can and have to zoom from thumbnail    //================================================    getThumbPos: function (slide) {      var rez = false,        $thumb = slide.$thumb,        thumbPos,        btw,        brw,        bbw,        blw;      if (!$thumb || !inViewport($thumb[0])) {        return false;      }      thumbPos = $.fancybox.getTranslate($thumb);      btw = parseFloat($thumb.css("border-top-width") || 0);      brw = parseFloat($thumb.css("border-right-width") || 0);      bbw = parseFloat($thumb.css("border-bottom-width") || 0);      blw = parseFloat($thumb.css("border-left-width") || 0);      rez = {        top: thumbPos.top + btw,        left: thumbPos.left + blw,        width: thumbPos.width - brw - blw,        height: thumbPos.height - btw - bbw,        scaleX: 1,        scaleY: 1      };      return thumbPos.width > 0 && thumbPos.height > 0 ? rez : false;    },    // Final adjustments after current gallery item is moved to position    // and it`s content is loaded    // ==================================================================    complete: function () {      var self = this,        current = self.current,        slides = {},        $el;      if (self.isMoved() || !current.isLoaded) {        return;      }      if (!current.isComplete) {        current.isComplete = true;        current.$slide.siblings().trigger("onReset");        self.preload("inline");        // Trigger any CSS transiton inside the slide        forceRedraw(current.$slide);        current.$slide.addClass("fancybox-slide--complete");        // Remove unnecessary slides        $.each(self.slides, function (key, slide) {          if (slide.pos >= self.currPos - 1 && slide.pos <= 0 self.currpos + 1) { slides[slide.pos]="slide;" } else if (slide) $.fancybox.stop(slide.$slide); slide.$slide.off().remove(); }); self.slides="slides;" self.isanimating="false;" self.updatecursor(); self.trigger("aftershow"); autoplay first html5 video audio (!!current.opts.video.autostart) current.$slide .find("video,audio") .filter(":visible:first") .trigger("play") .one("ended", function () (document.exitfullscreen) document.exitfullscreen(); (this.webkitexitfullscreen) this.webkitexitfullscreen(); self.next(); try to focus on the focusable element (current.opts.autofocus && current.contenttype="==" "html") look for input with autofocus attribute $el="current.$content.find("input[autofocus]:enabled:visible:first");" ($el.length) $el.trigger("focus"); self.focus(null, true); avoid jumping current.$slide.scrolltop(0).scrollleft(0); }, preload next and previous slides =="==============================" preload: (type) var self="this," prev, next; (self.group.length < 2) return; 1]; prev="self.slides[self.currPos" - (prev prev.type="==" type) self.loadslide(prev); (next next.type="==" self.loadslide(next); find focus: (e, firstrun) focusablestr="[" "a[href]", "area[href]", 'input:not([disabled]):not([type="hidden" ]):not([aria-hidden])', "select:not([disabled]):not([aria-hidden])", "textarea:not([disabled]):not([aria-hidden])", "button:not([disabled]):not([aria-hidden])", "iframe", "object", "embed", "video", "audio", "[contenteditable]", '[tabindex]:not([tabindex^="-" ])' ].join(","), focusableitems, focuseditemindex; (self.isclosing) (e || !self.current !self.current.iscomplete) any inside fancybox focusableitems="self.$refs.container.find("*:visible");" current slide (firstrun ? ":not(.fancybox-close-small)" : "")); return $(this).css("visibility") !="=" "hidden" !$(this).hasclass("disabled"); (focusableitems.length) focuseditemindex="focusableItems.index(document.activeElement);" e.shiftkey) back tab (focuseditemindex 0) e.preventdefault(); focusableitems.eq(focusableitems.length 1).trigger("focus"); outside or forward focusableitems.length (e) focusableitems.eq(0).trigger("focus"); self.$refs.container.trigger("focus"); activates instance brings container front enables keyboard, notifies other instances about deactivating activate: deactivate all $(".fancybox-container").each(function skip closing (instance instance.id self.id !instance.isclosing) instance.trigger("ondeactivate"); instance.removeevents(); instance.isvisible="false;" self.isvisible="true;" (self.current self.isidle) self.update(); self.updatecontrols(); self.trigger("onactivate"); self.addevents(); start procedure this will "zoom-out" animation needed clean everything up afterwards close: d) effect, duration, $content, domrect, opacity, start, end; done="function" self.cleanup(e); }; false; self.isclosing="true;" beforeclose callback prevents closing, make sure content is centered (self.trigger("beforeclose", e)="==" false) requestaframe(function remove events there are multiple instances, they be set again by "activate" method self.removeevents(); $content="current.$content;" effect="current.opts.animationEffect;" duration="$.isNumeric(d)" d current.opts.animationduration 0; current.$slide.removeclass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"); true) $.fancybox.stop(current.$slide); .siblings() .trigger("onreset") .remove(); trigger animations (duration) self.$refs.container .removeclass("fancybox-is-open") .addclass("fancybox-is-closing") .css("transition-duration", "ms"); self.hideloading(current); self.hidecontrols(true); check possible zoom-out ( "zoom" !($content current.type="==" "image" !self.ismoved() !current.haserror (end="self.getThumbPos(current)))" ) ; (effect="==" "zoom") $.fancybox.stop($content); domrect="$.fancybox.getTranslate($content);" top: domrect.top, left: domrect.left, scalex: domrect.width end.width, scaley: domrect.height end.height, width: height: end.height we need animate opacity (opacity="=" "auto") current.height end.width end.height)> 0.1;        }        if (opacity) {          end.opacity = 0;        }        $.fancybox.setTranslate($content, start);        forceRedraw($content);        $.fancybox.animate($content, end, duration, done);        return true;      }      if (effect && duration) {        $.fancybox.animate(          current.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),          "fancybox-animated fancybox-fx-" + effect,          duration,          done        );      } else {        // If skip animation        if (e === true) {          setTimeout(done, duration);        } else {          done();        }      }      return true;    },    // Final adjustments after removing the instance    // =============================================    cleanUp: function (e) {      var self = this,        instance,        $focus = self.current.opts.$orig,        x,        y;      self.current.$slide.trigger("onReset");      self.$refs.container.empty().remove();      self.trigger("afterClose", e);      // Place back focus      if (!!self.current.opts.backFocus) {        if (!$focus || !$focus.length || !$focus.is(":visible")) {          $focus = self.$trigger;        }        if ($focus && $focus.length) {          x = window.scrollX;          y = window.scrollY;          $focus.trigger("focus");          $("html, body")            .scrollTop(y)            .scrollLeft(x);        }      }      self.current = null;      // Check if there are other instances      instance = $.fancybox.getInstance();      if (instance) {        instance.activate();      } else {        $("body").removeClass("fancybox-active compensate-for-scrollbar");        $("#fancybox-style-noscroll").remove();      }    },    // Call callback and trigger an event    // ==================================    trigger: function (name, slide) {      var args = Array.prototype.slice.call(arguments, 1),        self = this,        obj = slide && slide.opts ? slide : self.current,        rez;      if (obj) {        args.unshift(obj);      } else {        obj = self;      }      args.unshift(self);      if ($.isFunction(obj.opts[name])) {        rez = obj.opts[name].apply(obj, args);      }      if (rez === false) {        return rez;      }      if (name === "afterClose" || !self.$refs) {        $D.trigger(name + ".fb", args);      } else {        self.$refs.container.trigger(name + ".fb", args);      }    },    // Update infobar values, navigation button states and reveal caption    // ==================================================================    updateControls: function () {      var self = this,        current = self.current,        index = current.index,        $container = self.$refs.container,        $caption = self.$refs.caption,        caption = current.opts.caption;      // Recalculate content dimensions      current.$slide.trigger("refresh");      // Set caption      if (caption && caption.length) {        self.$caption = $caption;        $caption          .children()          .eq(0)          .html(caption);      } else {        self.$caption = null;      }      if (!self.hasHiddenControls && !self.isIdle) {        self.showControls();      }      // Update info and navigation elements      $container.find("[data-fancybox-count]").html(self.group.length);      $container.find("[data-fancybox-index]").html(index + 1);      $container.find("[data-fancybox-prev]").prop("disabled", !current.opts.loop && index <= 0); $container.find("[data-fancybox-next]").prop("disabled", !current.opts.loop && index>= self.group.length - 1);      if (current.type === "image") {        // Re-enable buttons; update download button source        $container          .find("[data-fancybox-zoom]")          .show()          .end()          .find("[data-fancybox-download]")          .attr("href", current.opts.image.src || current.src)          .show();      } else if (current.opts.toolbar) {        $container.find("[data-fancybox-download],[data-fancybox-zoom]").hide();      }      // Make sure focus is not on disabled button/element      if ($(document.activeElement).is(":hidden,[disabled]")) {        self.$refs.container.trigger("focus");      }    },    // Hide toolbar and caption    // ========================    hideControls: function (andCaption) {      var self = this,        arr = ["infobar", "toolbar", "nav"];      if (andCaption || !self.current.opts.preventCaptionOverlap) {        arr.push("caption");      }      this.$refs.container.removeClass(        arr        .map(function (i) {          return "fancybox-show-" + i;        })        .join(" ")      );      this.hasHiddenControls = true;    },    showControls: function () {      var self = this,        opts = self.current ? self.current.opts : self.opts,        $container = self.$refs.container;      self.hasHiddenControls = false;      self.idleSecondsCounter = 0;      $container        .toggleClass("fancybox-show-toolbar", !!(opts.toolbar && opts.buttons))        .toggleClass("fancybox-show-infobar", !!(opts.infobar && self.group.length > 1))        .toggleClass("fancybox-show-caption", !!self.$caption)        .toggleClass("fancybox-show-nav", !!(opts.arrows && self.group.length > 1))        .toggleClass("fancybox-is-modal", !!opts.modal);    },    // Toggle toolbar and caption    // ==========================    toggleControls: function () {      if (this.hasHiddenControls) {        this.showControls();      } else {        this.hideControls();      }    }  });  $.fancybox = {    version: "3.5.7",    defaults: defaults,    // Get current instance and execute a command.    //    // Examples of usage:    //    //   $instance = $.fancybox.getInstance();    //   $.fancybox.getInstance().jumpTo( 1 );    //   $.fancybox.getInstance( 'jumpTo', 1 );    //   $.fancybox.getInstance( function() {    //       console.info( this.currIndex );    //   });    // ======================================================    getInstance: function (command) {      var instance = $('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),        args = Array.prototype.slice.call(arguments, 1);      if (instance instanceof FancyBox) {        if ($.type(command) === "string") {          instance[command].apply(instance, args);        } else if ($.type(command) === "function") {          command.apply(instance, args);        }        return instance;      }      return false;    },    // Create new instance    // ===================    open: function (items, opts, index) {      return new FancyBox(items, opts, index);    },    // Close current or all instances    // ==============================    close: function (all) {      var instance = this.getInstance();      if (instance) {        instance.close();        // Try to find and close next instance        if (all === true) {          this.close(all);        }      }    },    // Close all instances and unbind all events    // =========================================    destroy: function () {      this.close(true);      $D.add("body").off("click.fb-start", "**");    },    // Try to detect mobile devices    // ============================    isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),    // Detect if 'translate3d' support is available    // ============================================    use3d: (function () {      var div = document.createElement("div");      return (        window.getComputedStyle &&        window.getComputedStyle(div) &&        window.getComputedStyle(div).getPropertyValue("transform") &&        !(document.documentMode && document.documentMode < 11)      );    })(),    // Helper function to get current visual state of an element    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]    // =====================================================================    getTranslate: function ($el) {      var domRect;      if (!$el || !$el.length) {        return false;      }      domRect = $el[0].getBoundingClientRect();      return {        top: domRect.top || 0,        left: domRect.left || 0,        width: domRect.width,        height: domRect.height,        opacity: parseFloat($el.css("opacity"))      };    },    // Shortcut for setting "translate3d" properties for element    // Can set be used to set opacity, too    // ========================================================    setTranslate: function ($el, props) {      var str = "",        css = {};      if (!$el || !props) {        return;      }      if (props.left !== undefined || props.top !== undefined) {        str =          (props.left === undefined ? $el.position().left : props.left) +          "px, " +          (props.top === undefined ? $el.position().top : props.top) +          "px";        if (this.use3d) {          str = "translate3d(" + str + ", 0px)";        } else {          str = "translate(" + str + ")";        }      }      if (props.scaleX !== undefined && props.scaleY !== undefined) {        str += " scale(" + props.scaleX + ", " + props.scaleY + ")";      } else if (props.scaleX !== undefined) {        str += " scaleX(" + props.scaleX + ")";      }      if (str.length) {        css.transform = str;      }      if (props.opacity !== undefined) {        css.opacity = props.opacity;      }      if (props.width !== undefined) {        css.width = props.width;      }      if (props.height !== undefined) {        css.height = props.height;      }      return $el.css(css);    },    // Simple CSS transition handler    // =============================    animate: function ($el, to, duration, callback, leaveAnimationName) {      var self = this,        from;      if ($.isFunction(duration)) {        callback = duration;        duration = null;      }      self.stop($el);      from = self.getTranslate($el);      $el.on(transitionEnd, function (e) {        // Skip events from child elements and z-index change        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == "z-index")) {          return;        }        self.stop($el);        if ($.isNumeric(duration)) {          $el.css("transition-duration", "");        }        if ($.isPlainObject(to)) {          if (to.scaleX !== undefined && to.scaleY !== undefined) {            self.setTranslate($el, {              top: to.top,              left: to.left,              width: from.width * to.scaleX,              height: from.height * to.scaleY,              scaleX: 1,              scaleY: 1            });          }        } else if (leaveAnimationName !== true) {          $el.removeClass(to);        }        if ($.isFunction(callback)) {          callback(e);        }      });      if ($.isNumeric(duration)) {        $el.css("transition-duration", duration + "ms");      }      // Start animation by changing CSS properties or class name      if ($.isPlainObject(to)) {        if (to.scaleX !== undefined && to.scaleY !== undefined) {          delete to.width;          delete to.height;          if ($el.parent().hasClass("fancybox-slide--image")) {            $el.parent().addClass("fancybox-is-scaling");          }        }        $.fancybox.setTranslate($el, to);      } else {        $el.addClass(to);      }      // Make sure that `transitionend` callback gets fired      $el.data(        "timer",        setTimeout(function () {          $el.trigger(transitionEnd);        }, duration + 33)      );    },    stop: function ($el, callCallback) {      if ($el && $el.length) {        clearTimeout($el.data("timer"));        if (callCallback) {          $el.trigger(transitionEnd);        }        $el.off(transitionEnd).css("transition-duration", "");        $el.parent().removeClass("fancybox-is-scaling");      }    }  };  // Default click handler for "fancyboxed" links  // ============================================  function _run(e, opts) {    var items = [],      index = 0,      $target,      value,      instance;    // Avoid opening multiple times    if (e && e.isDefaultPrevented()) {      return;    }    e.preventDefault();    opts = opts || {};    if (e && e.data) {      opts = mergeOpts(e.data.options, opts);    }    $target = opts.$target || $(e.currentTarget).trigger("blur");    instance = $.fancybox.getInstance();    if (instance && instance.$trigger && instance.$trigger.is($target)) {      return;    }    if (opts.selector) {      items = $(opts.selector);    } else {      // Get all related items and find index for clicked one      value = $target.attr("data-fancybox") || "";      if (value) {        items = e.data ? e.data.items : [];        items = items.length ? items.filter('[data-fancybox="' + value + '"]') : $('[data-fancybox="' + value + '"]');      } else {        items = [$target];      }    }    index = $(items).index($target);    // Sometimes current item can not be found    if (index < 0) {      index = 0;    }    instance = $.fancybox.open(items, opts, index);    // Save last active element    instance.$trigger = $target;  }  // Create a jQuery plugin  // ======================  $.fn.fancybox = function (options) {    var selector;    options = options || {};    selector = options.selector || false;    if (selector) {      // Use body element instead of document so it executes first      $("body")        .off("click.fb-start", selector)        .on("click.fb-start", selector, {          options: options        }, _run);    } else {      this.off("click.fb-start").on(        "click.fb-start", {          items: this,          options: options        },        _run      );    }    return this;  };  // Self initializing plugin for all elements having `data-fancybox` attribute  // ==========================================================================  $D.on("click.fb-start", "[data-fancybox]", _run);  // Enable "trigger elements"  // =========================  $D.on("click.fb-start", "[data-fancybox-trigger]", function (e) {    $('[data-fancybox="' + $(this).attr("data-fancybox-trigger") + '"]')      .eq($(this).attr("data-fancybox-index") || 0)      .trigger("click.fb-start", {        $trigger: $(this)      });  });  // Track focus event for better accessibility styling  // ==================================================  (function () {    var buttonStr = ".fancybox-button",      focusStr = "fancybox-focus",      $pressed = null;    $D.on("mousedown mouseup focus blur", buttonStr, function (e) {      switch (e.type) {        case "mousedown":          $pressed = $(this);          break;        case "mouseup":          $pressed = null;          break;        case "focusin":          $(buttonStr).removeClass(focusStr);          if (!$(this).is($pressed) && !$(this).is("[disabled]")) {            $(this).addClass(focusStr);          }          break;        case "focusout":          $(buttonStr).removeClass(focusStr);          break;      }    });  })();})(window, document, jQuery);// ==========================================================================//// Media// Adds additional media type support//// ==========================================================================(function ($) {  "use strict";  // Object containing properties for each media type  var defaults = {    youtube: {      matcher: /(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,      params: {        autoplay: 1,        autohide: 1,        fs: 1,        rel: 0,        hd: 1,        wmode: "transparent",        enablejsapi: 1,        html5: 1      },      paramPlace: 8,      type: "iframe",      url: "https://www.youtube-nocookie.com/embed/$4",      thumb: "https://img.youtube.com/vi/$4/hqdefault.jpg"    },    vimeo: {      matcher: /^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,      params: {        autoplay: 1,        hd: 1,        show_title: 1,        show_byline: 1,        show_portrait: 0,        fullscreen: 1      },      paramPlace: 3,      type: "iframe",      url: "//player.vimeo.com/video/$2"    },    instagram: {      matcher: /(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,      type: "image",      url: "//$1/p/$2/media/?size=l"    },    // Examples:    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572    gmap_place: {      matcher: /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,      type: "iframe",      url: function (rez) {        return (          "//maps.google." +          rez[2] +          "/?ll=" +          (rez[9] ? rez[9] + "&z=" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\//, "&") : "") : rez[12] + "").replace(/\?/, "&") +          "&output=" +          (rez[12] && rez[12].indexOf("layer=c") > 0 ? "svembed" : "embed")        );      }    },    // Examples:    // https://www.google.com/maps/search/Empire+State+Building/    // https://www.google.com/maps/search/?api=1&query=centurylink+field    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393    gmap_search: {      matcher: /(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,      type: "iframe",      url: function (rez) {        return "//maps.google." + rez[2] + "/maps?q=" + rez[5].replace("query=", "q=").replace("api=1", "") + "&output=embed";      }    }  };  // Formats matching url to final form  var format = function (url, rez, params) {    if (!url) {      return;    }    params = params || "";    if ($.type(params) === "object") {      params = $.param(params, true);    }    $.each(rez, function (key, value) {      url = url.replace("$" + key, value || "");    });    if (params.length) {      url += (url.indexOf("?") > 0 ? "&" : "?") + params;    }    return url;  };  $(document).on("objectNeedsType.fb", function (e, instance, item) {    var url = item.src || "",      type = false,      media,      thumb,      rez,      params,      urlParams,      paramObj,      provider;    media = $.extend(true, {}, defaults, item.opts.media);    // Look for any matching media type    $.each(media, function (providerName, providerOpts) {      rez = url.match(providerOpts.matcher);      if (!rez) {        return;      }      type = providerOpts.type;      provider = providerName;      paramObj = {};      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {        urlParams = rez[providerOpts.paramPlace];        if (urlParams[0] == "?") {          urlParams = urlParams.substring(1);        }        urlParams = urlParams.split("&");        for (var m = 0; m < urlParams.length; ++m) {          var p = urlParams[m].split("=", 2);          if (p.length == 2) {            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\+/g, " "));          }        }      }      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);      url =        $.type(providerOpts.url) === "function" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);      thumb =        $.type(providerOpts.thumb) === "function" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);      if (providerName === "youtube") {        url = url.replace(/&t=((\d+)m)?(\d+)s/, function (match, p1, m, s) {          return "&start=" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));        });      } else if (providerName === "vimeo") {        url = url.replace("&%23", "#");      }      return false;    });    // If it is found, then change content type and update the url    if (type) {      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {        item.opts.thumb = thumb;      }      if (type === "iframe") {        item.opts = $.extend(true, item.opts, {          iframe: {            preload: false,            attr: {              scrolling: "no"            }          }        });      }      $.extend(item, {        type: type,        src: url,        origSrc: item.src,        contentSource: provider,        contentType: type === "image" ? "image" : provider == "gmap_place" || provider == "gmap_search" ? "map" : "video"      });    } else if (url) {      item.type = item.opts.defaultType;    }  });  // Load YouTube/Video API on request to detect when video finished playing  var VideoAPILoader = {    youtube: {      src: "https://www.youtube.com/iframe_api",      class: "YT",      loading: false,      loaded: false    },    vimeo: {      src: "https://player.vimeo.com/api/player.js",      class: "Vimeo",      loading: false,      loaded: false    },    load: function (vendor) {      var _this = this,        script;      if (this[vendor].loaded) {        setTimeout(function () {          _this.done(vendor);        });        return;      }      if (this[vendor].loading) {        return;      }      this[vendor].loading = true;      script = document.createElement("script");      script.type = "text/javascript";      script.src = this[vendor].src;      if (vendor === "youtube") {        window.onYouTubeIframeAPIReady = function () {          _this[vendor].loaded = true;          _this.done(vendor);        };      } else {        script.onload = function () {          _this[vendor].loaded = true;          _this.done(vendor);        };      }      document.body.appendChild(script);    },    done: function (vendor) {      var instance, $el, player;      if (vendor === "youtube") {        delete window.onYouTubeIframeAPIReady;      }      instance = $.fancybox.getInstance();      if (instance) {        $el = instance.current.$content.find("iframe");        if (vendor === "youtube" && YT !== undefined && YT) {          player = new YT.Player($el.attr("id"), {            events: {              onStateChange: function (e) {                if (e.data == 0) {                  instance.next();                }              }            }          });        } else if (vendor === "vimeo" && Vimeo !== undefined && Vimeo) {          player = new Vimeo.Player($el);          player.on("ended", function () {            instance.next();          });        }      }    }  };  $(document).on({    "afterShow.fb": function (e, instance, current) {      if (instance.group.length > 1 && (current.contentSource === "youtube" || current.contentSource === "vimeo")) {        VideoAPILoader.load(current.contentSource);      }    }  });})(jQuery);// ==========================================================================//// Guestures// Adds touch guestures, handles click and tap events//// ==========================================================================(function (window, document, $) {  "use strict";  var requestAFrame = (function () {    return (      window.requestAnimationFrame ||      window.webkitRequestAnimationFrame ||      window.mozRequestAnimationFrame ||      window.oRequestAnimationFrame ||      // if all else fails, use setTimeout      function (callback) {        return window.setTimeout(callback, 1000 / 60);      }    );  })();  var cancelAFrame = (function () {    return (      window.cancelAnimationFrame ||      window.webkitCancelAnimationFrame ||      window.mozCancelAnimationFrame ||      window.oCancelAnimationFrame ||      function (id) {        window.clearTimeout(id);      }    );  })();  var getPointerXY = function (e) {    var result = [];    e = e.originalEvent || e || window.e;    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];    for (var key in e) {      if (e[key].pageX) {        result.push({          x: e[key].pageX,          y: e[key].pageY        });      } else if (e[key].clientX) {        result.push({          x: e[key].clientX,          y: e[key].clientY        });      }    }    return result;  };  var distance = function (point2, point1, what) {    if (!point1 || !point2) {      return 0;    }    if (what === "x") {      return point2.x - point1.x;    } else if (what === "y") {      return point2.y - point1.y;    }    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));  };  var isClickable = function ($el) {    if (      $el.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe') ||      $.isFunction($el.get(0).onclick) ||      $el.data("selectable")    ) {      return true;    }    // Check for attributes like data-fancybox-next or data-fancybox-close    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {      if (atts[i].nodeName.substr(0, 14) === "data-fancybox-") {        return true;      }    }    return false;  };  var hasScrollbars = function (el) {    var overflowY = window.getComputedStyle(el)["overflow-y"],      overflowX = window.getComputedStyle(el)["overflow-x"],      vertical = (overflowY === "scroll" || overflowY === "auto") && el.scrollHeight > el.clientHeight,      horizontal = (overflowX === "scroll" || overflowX === "auto") && el.scrollWidth > el.clientWidth;    return vertical || horizontal;  };  var isScrollable = function ($el) {    var rez = false;    while (true) {      rez = hasScrollbars($el.get(0));      if (rez) {        break;      }      $el = $el.parent();      if (!$el.length || $el.hasClass("fancybox-stage") || $el.is("body")) {        break;      }    }    return rez;  };  var Guestures = function (instance) {    var self = this;    self.instance = instance;    self.$bg = instance.$refs.bg;    self.$stage = instance.$refs.stage;    self.$container = instance.$refs.container;    self.destroy();    self.$container.on("touchstart.fb.touch mousedown.fb.touch", $.proxy(self, "ontouchstart"));  };  Guestures.prototype.destroy = function () {    var self = this;    self.$container.off(".fb.touch");    $(document).off(".fb.touch");    if (self.requestId) {      cancelAFrame(self.requestId);      self.requestId = null;    }    if (self.tapped) {      clearTimeout(self.tapped);      self.tapped = null;    }  };  Guestures.prototype.ontouchstart = function (e) {    var self = this,      $target = $(e.target),      instance = self.instance,      current = instance.current,      $slide = current.$slide,      $content = current.$content,      isTouchDevice = e.type == "touchstart";    // Do not respond to both (touch and mouse) events    if (isTouchDevice) {      self.$container.off("mousedown.fb.touch");    }    // Ignore right click    if (e.originalEvent && e.originalEvent.button == 2) {      return;    }    // Ignore taping on links, buttons, input elements    if (!$slide.length || !$target.length || isClickable($target) || isClickable($target.parent())) {      return;    }    // Ignore clicks on the scrollbar    if (!$target.is("img") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {      return;    }    // Ignore clicks while zooming or closing    if (!current || instance.isAnimating || current.$slide.hasClass("fancybox-animated")) {      e.stopPropagation();      e.preventDefault();      return;    }    self.realPoints = self.startPoints = getPointerXY(e);    if (!self.startPoints.length) {      return;    }    // Allow other scripts to catch touch event if "touch" is set to false    if (current.touch) {      e.stopPropagation();    }    self.startEvent = e;    self.canTap = true;    self.$target = $target;    self.$content = $content;    self.opts = current.opts.touch;    self.isPanning = false;    self.isSwiping = false;    self.isZooming = false;    self.isScrolling = false;    self.canPan = instance.canPan();    self.startTime = new Date().getTime();    self.distanceX = self.distanceY = self.distance = 0;    self.canvasWidth = Math.round($slide[0].clientWidth);    self.canvasHeight = Math.round($slide[0].clientHeight);    self.contentLastPos = null;    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {      top: 0,      left: 0    };    self.sliderStartPos = $.fancybox.getTranslate($slide);    // Since position will be absolute, but we need to make it relative to the stage    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);    self.sliderStartPos.top -= self.stagePos.top;    self.sliderStartPos.left -= self.stagePos.left;    self.contentStartPos.top -= self.stagePos.top;    self.contentStartPos.left -= self.stagePos.left;    $(document)      .off(".fb.touch")      .on(isTouchDevice ? "touchend.fb.touch touchcancel.fb.touch" : "mouseup.fb.touch mouseleave.fb.touch", $.proxy(self, "ontouchend"))      .on(isTouchDevice ? "touchmove.fb.touch" : "mousemove.fb.touch", $.proxy(self, "ontouchmove"));    if ($.fancybox.isMobile) {      document.addEventListener("scroll", self.onscroll, true);    }    // Skip if clicked outside the sliding area    if (!(self.opts || self.canPan) || !($target.is(self.$stage) || self.$stage.find($target).length)) {      if ($target.is(".fancybox-image")) {        e.preventDefault();      }      if (!($.fancybox.isMobile && $target.parents(".fancybox-caption").length)) {        return;      }    }    self.isScrollable = isScrollable($target) || isScrollable($target.parent());    // Check if element is scrollable and try to prevent default behavior (scrolling)    if (!($.fancybox.isMobile && self.isScrollable)) {      e.preventDefault();    }    // One finger or mouse click - swipe or pan an image    if (self.startPoints.length === 1 || current.hasError) {      if (self.canPan) {        $.fancybox.stop(self.$content);        self.isPanning = true;      } else {        self.isSwiping = true;      }      self.$container.addClass("fancybox-is-grabbing");    }    // Two fingers - zoom image    if (self.startPoints.length === 2 && current.type === "image" && (current.isLoaded || current.$ghost)) {      self.canTap = false;      self.isSwiping = false;      self.isPanning = false;      self.isZooming = true;      $.fancybox.stop(self.$content);      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);    }  };  Guestures.prototype.onscroll = function (e) {    var self = this;    self.isScrolling = true;    document.removeEventListener("scroll", self.onscroll, true);  };  Guestures.prototype.ontouchmove = function (e) {    var self = this;    // Make sure user has not released over iframe or disabled element    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {      self.ontouchend(e);      return;    }    if (self.isScrolling) {      self.canTap = false;      return;    }    self.newPoints = getPointerXY(e);    if (!(self.opts || self.canPan) || !self.newPoints.length || !self.newPoints.length) {      return;    }    if (!(self.isSwiping && self.isSwiping === true)) {      e.preventDefault();    }    self.distanceX = distance(self.newPoints[0], self.startPoints[0], "x");    self.distanceY = distance(self.newPoints[0], self.startPoints[0], "y");    self.distance = distance(self.newPoints[0], self.startPoints[0]);    // Skip false ontouchmove events (Chrome)    if (self.distance > 0) {      if (self.isSwiping) {        self.onSwipe(e);      } else if (self.isPanning) {        self.onPan();      } else if (self.isZooming) {        self.onZoom();      }    }  };  Guestures.prototype.onSwipe = function (e) {    var self = this,      instance = self.instance,      swiping = self.isSwiping,      left = self.sliderStartPos.left || 0,      angle;    // If direction is not yet determined    if (swiping === true) {      // We need at least 10px distance to correctly calculate an angle      if (Math.abs(self.distance) > 10) {        self.canTap = false;        if (instance.group.length < 2 && self.opts.vertical) {          self.isSwiping = "y";        } else if (instance.isDragging || self.opts.vertical === false || (self.opts.vertical === "auto" && $(window).width() > 800)) {          self.isSwiping = "x";        } else {          angle = Math.abs((Math.atan2(self.distanceY, self.distanceX) * 180) / Math.PI);          self.isSwiping = angle > 45 && angle < 135 ? "y" : "x";        }        if (self.isSwiping === "y" && $.fancybox.isMobile && self.isScrollable) {          self.isScrolling = true;          return;        }        instance.isDragging = self.isSwiping;        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle        self.startPoints = self.newPoints;        $.each(instance.slides, function (index, slide) {          var slidePos, stagePos;          $.fancybox.stop(slide.$slide);          slidePos = $.fancybox.getTranslate(slide.$slide);          stagePos = $.fancybox.getTranslate(instance.$refs.stage);          slide.$slide            .css({              transform: "",              opacity: "",              "transition-duration": ""            })            .removeClass("fancybox-animated")            .removeClass(function (index, className) {              return (className.match(/(^|\s)fancybox-fx-\S+/g) || []).join(" ");            });          if (slide.pos === instance.current.pos) {            self.sliderStartPos.top = slidePos.top - stagePos.top;            self.sliderStartPos.left = slidePos.left - stagePos.left;          }          $.fancybox.setTranslate(slide.$slide, {            top: slidePos.top - stagePos.top,            left: slidePos.left - stagePos.left          });        });        // Stop slideshow        if (instance.SlideShow && instance.SlideShow.isActive) {          instance.SlideShow.stop();        }      }      return;    }    // Sticky edges    if (swiping == "x") {      if (        self.distanceX > 0 &&        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))      ) {        left = left + Math.pow(self.distanceX, 0.8);      } else if (        self.distanceX < 0 &&        (self.instance.group.length < 2 ||          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))      ) {        left = left - Math.pow(-self.distanceX, 0.8);      } else {        left = left + self.distanceX;      }    }    self.sliderLastPos = {      top: swiping == "x" ? 0 : self.sliderStartPos.top + self.distanceY,      left: left    };    if (self.requestId) {      cancelAFrame(self.requestId);      self.requestId = null;    }    self.requestId = requestAFrame(function () {      if (self.sliderLastPos) {        $.each(self.instance.slides, function (index, slide) {          var pos = slide.pos - self.instance.currPos;          $.fancybox.setTranslate(slide.$slide, {            top: self.sliderLastPos.top,            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter          });        });        self.$container.addClass("fancybox-is-sliding");      }    });  };  Guestures.prototype.onPan = function () {    var self = this;    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {      self.startPoints = self.newPoints;      return;    }    self.canTap = false;    self.contentLastPos = self.limitMovement();    if (self.requestId) {      cancelAFrame(self.requestId);    }    self.requestId = requestAFrame(function () {      $.fancybox.setTranslate(self.$content, self.contentLastPos);    });  };  // Make panning sticky to the edges  Guestures.prototype.limitMovement = function () {    var self = this;    var canvasWidth = self.canvasWidth;    var canvasHeight = self.canvasHeight;    var distanceX = self.distanceX;    var distanceY = self.distanceY;    var contentStartPos = self.contentStartPos;    var currentOffsetX = contentStartPos.left;    var currentOffsetY = contentStartPos.top;    var currentWidth = contentStartPos.width;    var currentHeight = contentStartPos.height;    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;    if (currentWidth > canvasWidth) {      newOffsetX = currentOffsetX + distanceX;    } else {      newOffsetX = currentOffsetX;    }    newOffsetY = currentOffsetY + distanceY;    // Slow down proportionally to traveled distance    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);    //   ->    if (distanceX > 0 && newOffsetX > minTranslateX) {      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;    }    //    <- 0 1 if (distancex < && newoffsetx maxtranslatex) { + - math.pow(maxtranslatex currentoffsetx distancex, 0.8) || 0; } \ (distancey> 0 && newOffsetY > minTranslateY) {      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;    }    //   /\    if (distanceY < 0 && newOffsetY < maxTranslateY) {      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;    }    return {      top: newOffsetY,      left: newOffsetX    };  };  Guestures.prototype.limitPosition = function (newOffsetX, newOffsetY, newWidth, newHeight) {    var self = this;    var canvasWidth = self.canvasWidth;    var canvasHeight = self.canvasHeight;    if (newWidth > canvasWidth) {      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;    } else {      // Center horizontally      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);    }    if (newHeight > canvasHeight) {      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;    } else {      // Center vertically      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);    }    return {      top: newOffsetY,      left: newOffsetX    };  };  Guestures.prototype.onZoom = function () {    var self = this;    // Calculate current distance between points to get pinch ratio and new width and height    var contentStartPos = self.contentStartPos;    var currentWidth = contentStartPos.width;    var currentHeight = contentStartPos.height;    var currentOffsetX = contentStartPos.left;    var currentOffsetY = contentStartPos.top;    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;    var newWidth = Math.floor(currentWidth * pinchRatio);    var newHeight = Math.floor(currentHeight * pinchRatio);    // This is the translation due to pinch-zooming    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;    // Point between the two touches    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();    // And this is the translation due to translation of the centerpoint    // between the two fingers    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;    // The new offset is the old/current one plus the total translation    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);    var newPos = {      top: newOffsetY,      left: newOffsetX,      scaleX: pinchRatio,      scaleY: pinchRatio    };    self.canTap = false;    self.newWidth = newWidth;    self.newHeight = newHeight;    self.contentLastPos = newPos;    if (self.requestId) {      cancelAFrame(self.requestId);    }    self.requestId = requestAFrame(function () {      $.fancybox.setTranslate(self.$content, self.contentLastPos);    });  };  Guestures.prototype.ontouchend = function (e) {    var self = this;    var swiping = self.isSwiping;    var panning = self.isPanning;    var zooming = self.isZooming;    var scrolling = self.isScrolling;    self.endPoints = getPointerXY(e);    self.dMs = Math.max(new Date().getTime() - self.startTime, 1);    self.$container.removeClass("fancybox-is-grabbing");    $(document).off(".fb.touch");    document.removeEventListener("scroll", self.onscroll, true);    if (self.requestId) {      cancelAFrame(self.requestId);      self.requestId = null;    }    self.isSwiping = false;    self.isPanning = false;    self.isZooming = false;    self.isScrolling = false;    self.instance.isDragging = false;    if (self.canTap) {      return self.onTap(e);    }    self.speed = 100;    // Speed in px/ms    self.velocityX = (self.distanceX / self.dMs) * 0.5;    self.velocityY = (self.distanceY / self.dMs) * 0.5;    if (panning) {      self.endPanning();    } else if (zooming) {      self.endZooming();    } else {      self.endSwiping(swiping, scrolling);    }    return;  };  Guestures.prototype.endSwiping = function (swiping, scrolling) {    var self = this,      ret = false,      len = self.instance.group.length,      distanceX = Math.abs(self.distanceX),      canAdvance = swiping == "x" && len > 1 && ((self.dMs > 130 && distanceX > 10) || distanceX > 50),      speedX = 300;    self.sliderLastPos = null;    // Close if swiped vertically / navigate if horizontally    if (swiping == "y" && !scrolling && Math.abs(self.distanceY) > 50) {      // Continue vertical movement      $.fancybox.animate(        self.instance.current.$slide, {          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,          opacity: 0        },        200      );      ret = self.instance.close(true, 250);    } else if (canAdvance && self.distanceX > 0) {      ret = self.instance.previous(speedX);    } else if (canAdvance && self.distanceX < 0) {      ret = self.instance.next(speedX);    }    if (ret === false && (swiping == "x" || swiping == "y")) {      self.instance.centerSlide(200);    }    self.$container.removeClass("fancybox-is-sliding");  };  // Limit panning from edges  // ========================  Guestures.prototype.endPanning = function () {    var self = this,      newOffsetX,      newOffsetY,      newPos;    if (!self.contentLastPos) {      return;    }    if (self.opts.momentum === false || self.dMs > 350) {      newOffsetX = self.contentLastPos.left;      newOffsetY = self.contentLastPos.top;    } else {      // Continue movement      newOffsetX = self.contentLastPos.left + self.velocityX * 500;      newOffsetY = self.contentLastPos.top + self.velocityY * 500;    }    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);    newPos.width = self.contentStartPos.width;    newPos.height = self.contentStartPos.height;    $.fancybox.animate(self.$content, newPos, 366);  };  Guestures.prototype.endZooming = function () {    var self = this;    var current = self.instance.current;    var newOffsetX, newOffsetY, newPos, reset;    var newWidth = self.newWidth;    var newHeight = self.newHeight;    if (!self.contentLastPos) {      return;    }    newOffsetX = self.contentLastPos.left;    newOffsetY = self.contentLastPos.top;    reset = {      top: newOffsetY,      left: newOffsetX,      width: newWidth,      height: newHeight,      scaleX: 1,      scaleY: 1    };    // Reset scalex/scaleY values; this helps for perfomance and does not break animation    $.fancybox.setTranslate(self.$content, reset);    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {      self.instance.scaleToFit(150);    } else if (newWidth > current.width || newHeight > current.height) {      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);    } else {      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);      $.fancybox.animate(self.$content, newPos, 150);    }  };  Guestures.prototype.onTap = function (e) {    var self = this;    var $target = $(e.target);    var instance = self.instance;    var current = instance.current;    var endPoints = (e && getPointerXY(e)) || self.startPoints;    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;    var where;    var process = function (prefix) {      var action = current.opts[prefix];      if ($.isFunction(action)) {        action = action.apply(instance, [current, e]);      }      if (!action) {        return;      }      switch (action) {        case "close":          instance.close(self.startEvent);          break;        case "toggleControls":          instance.toggleControls();          break;        case "next":          instance.next();          break;        case "nextOrClose":          if (instance.group.length > 1) {            instance.next();          } else {            instance.close(self.startEvent);          }          break;        case "zoom":          if (current.type == "image" && (current.isLoaded || current.$ghost)) {            if (instance.canPan()) {              instance.scaleToFit();            } else if (instance.isScaledDown()) {              instance.scaleToActual(tapX, tapY);            } else if (instance.group.length < 2) {              instance.close(self.startEvent);            }          }          break;      }    };    // Ignore right click    if (e.originalEvent && e.originalEvent.button == 2) {      return;    }    // Skip if clicked on the scrollbar    if (!$target.is("img") && tapX > $target[0].clientWidth + $target.offset().left) {      return;    }    // Check where is clicked    if ($target.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container")) {      where = "Outside";    } else if ($target.is(".fancybox-slide")) {      where = "Slide";    } else if (      instance.current.$content &&      instance.current.$content      .find($target)      .addBack()      .filter($target).length    ) {      where = "Content";    } else {      return;    }    // Check if this is a double tap    if (self.tapped) {      // Stop previously created single tap      clearTimeout(self.tapped);      self.tapped = null;      // Skip if distance between taps is too big      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {        return this;      }      // OK, now we assume that this is a double-tap      process("dblclick" + where);    } else {      // Single tap will be processed if user has not clicked second time within 300ms      // or there is no need to wait for double-tap      self.tapX = tapX;      self.tapY = tapY;      if (current.opts["dblclick" + where] && current.opts["dblclick" + where] !== current.opts["click" + where]) {        self.tapped = setTimeout(function () {          self.tapped = null;          if (!instance.isAnimating) {            process("click" + where);          }        }, 500);      } else {        process("click" + where);      }    }    return this;  };  $(document)    .on("onActivate.fb", function (e, instance) {      if (instance && !instance.Guestures) {        instance.Guestures = new Guestures(instance);      }    })    .on("beforeClose.fb", function (e, instance) {      if (instance && instance.Guestures) {        instance.Guestures.destroy();      }    });})(window, document, jQuery);// ==========================================================================//// SlideShow// Enables slideshow functionality//// Example of usage:// $.fancybox.getInstance().SlideShow.start()//// ==========================================================================(function (document, $) {  "use strict";  $.extend(true, $.fancybox.defaults, {    btnTpl: {      slideShow: '<button data-fancybox-play class="fancybox-button fancybox-button--play" title>' +        '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg>' +        '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg>' +        "</button>"    },    slideShow: {      autoStart: false,      speed: 3000,      progress: true    }  });  var SlideShow = function (instance) {    this.instance = instance;    this.init();  };  $.extend(SlideShow.prototype, {    timer: null,    isActive: false,    $button: null,    init: function () {      var self = this,        instance = self.instance,        opts = instance.group[instance.currIndex].opts.slideShow;      self.$button = instance.$refs.toolbar.find("[data-fancybox-play]").on("click", function () {        self.toggle();      });      if (instance.group.length < 2 || !opts) {        self.$button.hide();      } else if (opts.progress) {        self.$progress = $('<div class="fancybox-progress"></div>').appendTo(instance.$refs.inner);      }    },    set: function (force) {      var self = this,        instance = self.instance,        current = instance.current;      // Check if reached last element      if (current && (force === true || current.opts.loop || instance.currIndex < instance.group.length - 1)) {        if (self.isActive && current.contentType !== "video") {          if (self.$progress) {            $.fancybox.animate(self.$progress.show(), {              scaleX: 1            }, current.opts.slideShow.speed);          }          self.timer = setTimeout(function () {            if (!instance.current.opts.loop && instance.current.index == instance.group.length - 1) {              instance.jumpTo(0);            } else {              instance.next();            }          }, current.opts.slideShow.speed);        }      } else {        self.stop();        instance.idleSecondsCounter = 0;        instance.showControls();      }    },    clear: function () {      var self = this;      clearTimeout(self.timer);      self.timer = null;      if (self.$progress) {        self.$progress.removeAttr("style").hide();      }    },    start: function () {      var self = this,        current = self.instance.current;      if (current) {        self.$button          .attr("title", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_STOP)          .removeClass("fancybox-button--play")          .addClass("fancybox-button--pause");        self.isActive = true;        if (current.isComplete) {          self.set(true);        }        self.instance.trigger("onSlideShowChange", true);      }    },    stop: function () {      var self = this,        current = self.instance.current;      self.clear();      self.$button        .attr("title", (current.opts.i18n[current.opts.lang] || current.opts.i18n.en).PLAY_START)        .removeClass("fancybox-button--pause")        .addClass("fancybox-button--play");      self.isActive = false;      self.instance.trigger("onSlideShowChange", false);      if (self.$progress) {        self.$progress.removeAttr("style").hide();      }    },    toggle: function () {      var self = this;      if (self.isActive) {        self.stop();      } else {        self.start();      }    }  });  $(document).on({    "onInit.fb": function (e, instance) {      if (instance && !instance.SlideShow) {        instance.SlideShow = new SlideShow(instance);      }    },    "beforeShow.fb": function (e, instance, current, firstRun) {      var SlideShow = instance && instance.SlideShow;      if (firstRun) {        if (SlideShow && current.opts.slideShow.autoStart) {          SlideShow.start();        }      } else if (SlideShow && SlideShow.isActive) {        SlideShow.clear();      }    },    "afterShow.fb": function (e, instance, current) {      var SlideShow = instance && instance.SlideShow;      if (SlideShow && SlideShow.isActive) {        SlideShow.set();      }    },    "afterKeydown.fb": function (e, instance, current, keypress, keycode) {      var SlideShow = instance && instance.SlideShow;      // "P" or Spacebar      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is("button,a,input")) {        keypress.preventDefault();        SlideShow.toggle();      }    },    "beforeClose.fb onDeactivate.fb": function (e, instance) {      var SlideShow = instance && instance.SlideShow;      if (SlideShow) {        SlideShow.stop();      }    }  });  // Page Visibility API to pause slideshow when window is not active  $(document).on("visibilitychange", function () {    var instance = $.fancybox.getInstance(),      SlideShow = instance && instance.SlideShow;    if (SlideShow && SlideShow.isActive) {      if (document.hidden) {        SlideShow.clear();      } else {        SlideShow.set();      }    }  });})(document, jQuery);// ==========================================================================//// FullScreen// Adds fullscreen functionality//// ==========================================================================(function (document, $) {  "use strict";  // Collection of methods supported by user browser  var fn = (function () {    var fnMap = [      ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"],      // new WebKit      [        "webkitRequestFullscreen",        "webkitExitFullscreen",        "webkitFullscreenElement",        "webkitFullscreenEnabled",        "webkitfullscreenchange",        "webkitfullscreenerror"      ],      // old WebKit (Safari 5.1)      [        "webkitRequestFullScreen",        "webkitCancelFullScreen",        "webkitCurrentFullScreenElement",        "webkitCancelFullScreen",        "webkitfullscreenchange",        "webkitfullscreenerror"      ],      [        "mozRequestFullScreen",        "mozCancelFullScreen",        "mozFullScreenElement",        "mozFullScreenEnabled",        "mozfullscreenchange",        "mozfullscreenerror"      ],      ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]    ];    var ret = {};    for (var i = 0; i < fnMap.length; i++) {      var val = fnMap[i];      if (val && val[1] in document) {        for (var j = 0; j < val.length; j++) {          ret[fnMap[0][j]] = val[j];        }        return ret;      }    }    return false;  })();  if (fn) {    var FullScreen = {      request: function (elem) {        elem = elem || document.documentElement;        elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);      },      exit: function () {        document[fn.exitFullscreen]();      },      toggle: function (elem) {        elem = elem || document.documentElement;        if (this.isFullscreen()) {          this.exit();        } else {          this.request(elem);        }      },      isFullscreen: function () {        return Boolean(document[fn.fullscreenElement]);      },      enabled: function () {        return Boolean(document[fn.fullscreenEnabled]);      }    };    $.extend(true, $.fancybox.defaults, {      btnTpl: {        fullScreen: '<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title>' +          '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>' +          '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg>' +          "</button>"      },      fullScreen: {        autoStart: false      }    });    $(document).on(fn.fullscreenchange, function () {      var isFullscreen = FullScreen.isFullscreen(),        instance = $.fancybox.getInstance();      if (instance) {        // If image is zooming, then force to stop and reposition properly        if (instance.current && instance.current.type === "image" && instance.isAnimating) {          instance.isAnimating = false;          instance.update(true, true, 0);          if (!instance.isComplete) {            instance.complete();          }        }        instance.trigger("onFullscreenChange", isFullscreen);        instance.$refs.container.toggleClass("fancybox-is-fullscreen", isFullscreen);        instance.$refs.toolbar          .find("[data-fancybox-fullscreen]")          .toggleClass("fancybox-button--fsenter", !isFullscreen)          .toggleClass("fancybox-button--fsexit", isFullscreen);      }    });  }  $(document).on({    "onInit.fb": function (e, instance) {      var $container;      if (!fn) {        instance.$refs.toolbar.find("[data-fancybox-fullscreen]").remove();        return;      }      if (instance && instance.group[instance.currIndex].opts.fullScreen) {        $container = instance.$refs.container;        $container.on("click.fb-fullscreen", "[data-fancybox-fullscreen]", function (e) {          e.stopPropagation();          e.preventDefault();          FullScreen.toggle();        });        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {          FullScreen.request();        }        // Expose API        instance.FullScreen = FullScreen;      } else if (instance) {        instance.$refs.toolbar.find("[data-fancybox-fullscreen]").hide();      }    },    "afterKeydown.fb": function (e, instance, current, keypress, keycode) {      // "F"      if (instance && instance.FullScreen && keycode === 70) {        keypress.preventDefault();        instance.FullScreen.toggle();      }    },    "beforeClose.fb": function (e, instance) {      if (instance && instance.FullScreen && instance.$refs.container.hasClass("fancybox-is-fullscreen")) {        FullScreen.exit();      }    }  });})(document, jQuery);// ==========================================================================//// Thumbs// Displays thumbnails in a grid//// ==========================================================================(function (document, $) {  "use strict";  var CLASS = "fancybox-thumbs",    CLASS_ACTIVE = CLASS + "-active";  // Make sure there are default values  $.fancybox.defaults = $.extend(    true, {      btnTpl: {        thumbs: '<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title>' +          '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg>' +          "</button>"      },      thumbs: {        autoStart: false, // Display thumbnails on opening        hideOnClose: true, // Hide thumbnail grid when closing animation starts        parentEl: ".fancybox-container", // Container is injected into this element        axis: "y" // Vertical (y) or horizontal (x) scrolling      }    },    $.fancybox.defaults  );  var FancyThumbs = function (instance) {    this.init(instance);  };  $.extend(FancyThumbs.prototype, {    $button: null,    $grid: null,    $list: null,    isVisible: false,    isActive: false,    init: function (instance) {      var self = this,        group = instance.group,        enabled = 0;      self.instance = instance;      self.opts = group[instance.currIndex].opts.thumbs;      instance.Thumbs = self;      self.$button = instance.$refs.toolbar.find("[data-fancybox-thumbs]");      // Enable thumbs if at least two group items have thumbnails      for (var i = 0, len = group.length; i < len; i++) {        if (group[i].thumb) {          enabled++;        }        if (enabled > 1) {          break;        }      }      if (enabled > 1 && !!self.opts) {        self.$button.removeAttr("style").on("click", function () {          self.toggle();        });        self.isActive = true;      } else {        self.$button.hide();      }    },    create: function () {      var self = this,        instance = self.instance,        parentEl = self.opts.parentEl,        list = [],        src;      if (!self.$grid) {        // Create main element        self.$grid = $('<div class="' + CLASS + " " + "-" self.opts.axis '"></div>').appendTo(          instance.$refs.container          .find(parentEl)          .addBack()          .filter(parentEl)        );        // Add "click" event that performs gallery navigation        self.$grid.on("click", "a", function () {          instance.jumpTo($(this).attr("data-index"));        });      }      // Build the list      if (!self.$list) {        self.$list = $('<div class="' + CLASS + '__list">').appendTo(self.$grid);      }      $.each(instance.group, function (i, item) {        src = item.thumb;        if (!src && item.type === "image") {          src = item.src;        }        list.push(          '<a href="javascript:;" tabindex="0" data-index="' +          i +          '" ' + (src && src.length ? style="background-image:url(' + src + ')" : 'class="fancybox-thumbs-missing" ') " target="_blank" rel="noopener"></a>"        );      });      self.$list[0].innerHTML = list.join("");      if (self.opts.axis === "x") {        // Set fixed width for list element to enable horizontal scrolling        self.$list.width(          parseInt(self.$grid.css("padding-right"), 10) +          instance.group.length *          self.$list          .children()          .eq(0)          .outerWidth(true)        );      }    },    focus: function (duration) {      var self = this,        $list = self.$list,        $grid = self.$grid,        thumb,        thumbPos;      if (!self.instance.current) {        return;      }      thumb = $list        .children()        .removeClass(CLASS_ACTIVE)        .filter('[data-index="' + self.instance.current.index + '"]')        .addClass(CLASS_ACTIVE);      thumbPos = thumb.position();      // Check if need to scroll to make current thumb visible      if (self.opts.axis === "y" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {        $list.stop().animate({            scrollTop: $list.scrollTop() + thumbPos.top          },          duration        );      } else if (        self.opts.axis === "x" &&        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))      ) {        $list          .parent()          .stop()          .animate({              scrollLeft: thumbPos.left            },            duration          );      }    },    update: function () {      var that = this;      that.instance.$refs.container.toggleClass("fancybox-show-thumbs", this.isVisible);      if (that.isVisible) {        if (!that.$grid) {          that.create();        }        that.instance.trigger("onThumbsShow");        that.focus(0);      } else if (that.$grid) {        that.instance.trigger("onThumbsHide");      }      // Update content position      that.instance.update();    },    hide: function () {      this.isVisible = false;      this.update();    },    show: function () {      this.isVisible = true;      this.update();    },    toggle: function () {      this.isVisible = !this.isVisible;      this.update();    }  });  $(document).on({    "onInit.fb": function (e, instance) {      var Thumbs;      if (instance && !instance.Thumbs) {        Thumbs = new FancyThumbs(instance);        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {          Thumbs.show();        }      }    },    "beforeShow.fb": function (e, instance, item, firstRun) {      var Thumbs = instance && instance.Thumbs;      if (Thumbs && Thumbs.isVisible) {        Thumbs.focus(firstRun ? 0 : 250);      }    },    "afterKeydown.fb": function (e, instance, current, keypress, keycode) {      var Thumbs = instance && instance.Thumbs;      // "G"      if (Thumbs && Thumbs.isActive && keycode === 71) {        keypress.preventDefault();        Thumbs.toggle();      }    },    "beforeClose.fb": function (e, instance) {      var Thumbs = instance && instance.Thumbs;      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {        Thumbs.$grid.hide();      }    }  });})(document, jQuery);//// ==========================================================================//// Share// Displays simple form for sharing current url//// ==========================================================================(function (document, $) {  "use strict";  $.extend(true, $.fancybox.defaults, {    btnTpl: {      share: '<button data-fancybox-share class="fancybox-button fancybox-button--share" title>' +        '<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg>' +        "</button>"    },    share: {      url: function (instance, item) {        return (          (!instance.currentHash && !(item.type === "inline" || item.type === "html") ? item.origSrc || item.src : false) || window.location        );      },      tpl: '<div class="fancybox-share">' +        "<h1></h1>" +        "<p>" +        '<a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u=" target="_blank" rel="noopener">' +        '<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196"/></svg>' +        "<span>Facebook</span>" +        "</a>" +        '<a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url=&text=" target="_blank" rel="noopener">' +        '<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z"/></svg>' +        "<span>Twitter</span>" +        "</a>" +        '<a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url=&description=&media=" target="_blank" rel="noopener">' +        '<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg>' +        "<span>Pinterest</span>" +        "</a>" +        "</p>" +        '<p><input class="fancybox-share__input" type="text" value onclick="select()"></p>' +        "</div>"    }  });  function escapeHtml(string) {    var entityMap = {      "&": "&amp;",      "<": "&lt;", ">": "&gt;",      '"': "&quot;",      "'": "&#39;",      "/": "&#x2F;",      "`": "&#x60;",      "=": "&#x3D;"    };    return String(string).replace(/[&<>"'`=\/]/g, function (s) {      return entityMap[s];    });  }  $(document).on("click", "[data-fancybox-share]", function () {    var instance = $.fancybox.getInstance(),      current = instance.current || null,      url,      tpl;    if (!current) {      return;    }    if ($.type(current.opts.share.url) === "function") {      url = current.opts.share.url.apply(current, [instance, current]);    }    tpl = current.opts.share.tpl      .replace(/\{\{media\}\}/g, current.type === "image" ? encodeURIComponent(current.src) : "")      .replace(/\{\{url\}\}/g, encodeURIComponent(url))      .replace(/\{\{url_raw\}\}/g, escapeHtml(url))      .replace(/\{\{descr\}\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : "");    $.fancybox.open({      src: instance.translate(instance, tpl),      type: "html",      opts: {        touch: false,        animationEffect: false,        afterLoad: function (shareInstance, shareCurrent) {          // Close self if parent instance is closing          instance.$refs.container.one("beforeClose.fb", function () {            shareInstance.close(null, 0);          });          // Opening links in a popup window          shareCurrent.$content.find(".fancybox-share__button").click(function () {            window.open(this.href, "Share", "width=550, height=450");            return false;          });        },        mobile: {          autoFocus: false        }      }    });  });})(document, jQuery);// ==========================================================================//// Hash// Enables linking to each modal//// ==========================================================================(function (window, document, $) {  "use strict";  // Simple $.escapeSelector polyfill (for jQuery prior v3)  if (!$.escapeSelector) {    $.escapeSelector = function (sel) {      var rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;      var fcssescape = function (ch, asCodePoint) {        if (asCodePoint) {          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER          if (ch === "\0") {            return "\uFFFD";          }          // Control characters and (dependent upon position) numbers get escaped as code points          return ch.slice(0, -1) + "\\" + ch.charCodeAt(ch.length - 1).toString(16) + " ";        }        // Other potentially-special ASCII characters get backslash-escaped        return "\\" + ch;      };      return (sel + "").replace(rcssescape, fcssescape);    };  }  // Get info about gallery name and current index from url  function parseUrl() {    var hash = window.location.hash.substr(1),      rez = hash.split("-"),      index = rez.length > 1 && /^\+?\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,      gallery = rez.join("-");    return {      hash: hash,      /* Index is starting from 1 */      index: index < 1 ? 1 : index,      gallery: gallery    };  }  // Trigger click evnt on links to open new fancyBox instance  function triggerFromUrl(url) {    if (url.gallery !== "") {      // If we can find element matching 'data-fancybox' atribute,      // then triggering click event should start fancyBox      $("[data-fancybox='" + $.escapeSelector(url.gallery) + "']")        .eq(url.index - 1)        .focus()        .trigger("click.fb-start");    }  }  // Get gallery name from current instance  function getGalleryID(instance) {    var opts, ret;    if (!instance) {      return false;    }    opts = instance.current ? instance.current.opts : instance.opts;    ret = opts.hash || (opts.$orig ? opts.$orig.data("fancybox") || opts.$orig.data("fancybox-trigger") : "");    return ret === "" ? false : ret;  }  // Start when DOM becomes ready  $(function () {    // Check if user has disabled this module    if ($.fancybox.defaults.hash === false) {      return;    }    // Update hash when opening/closing fancyBox    $(document).on({      "onInit.fb": function (e, instance) {        var url, gallery;        if (instance.group[instance.currIndex].opts.hash === false) {          return;        }        url = parseUrl();        gallery = getGalleryID(instance);        // Make sure gallery start index matches index from hash        if (gallery && url.gallery && gallery == url.gallery) {          instance.currIndex = url.index - 1;        }      },      "beforeShow.fb": function (e, instance, current, firstRun) {        var gallery;        if (!current || current.opts.hash === false) {          return;        }        // Check if need to update window hash        gallery = getGalleryID(instance);        if (!gallery) {          return;        }        // Variable containing last hash value set by fancyBox        // It will be used to determine if fancyBox needs to close after hash change is detected        instance.currentHash = gallery + (instance.group.length > 1 ? "-" + (current.index + 1) : "");        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing        if (window.location.hash === "#" + instance.currentHash) {          return;        }        if (firstRun && !instance.origHash) {          instance.origHash = window.location.hash;        }        if (instance.hashTimer) {          clearTimeout(instance.hashTimer);        }        // Update hash        instance.hashTimer = setTimeout(function () {          if ("replaceState" in window.history) {            window.history[firstRun ? "pushState" : "replaceState"]({},              document.title,              window.location.pathname + window.location.search + "#" + instance.currentHash            );            if (firstRun) {              instance.hasCreatedHistory = true;            }          } else {            window.location.hash = instance.currentHash;          }          instance.hashTimer = null;        }, 300);      },      "beforeClose.fb": function (e, instance, current) {        if (!current || current.opts.hash === false) {          return;        }        clearTimeout(instance.hashTimer);        // Goto previous history entry        if (instance.currentHash && instance.hasCreatedHistory) {          window.history.back();        } else if (instance.currentHash) {          if ("replaceState" in window.history) {            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || ""));          } else {            window.location.hash = instance.origHash;          }        }        instance.currentHash = null;      }    });    // Check if need to start/close after url has changed    $(window).on("hashchange.fb", function () {      var url = parseUrl(),        fb = null;      // Find last fancyBox instance that has "hash"      $.each(        $(".fancybox-container")        .get()        .reverse(),        function (index, value) {          var tmp = $(value).data("FancyBox");          if (tmp && tmp.currentHash) {            fb = tmp;            return false;          }        }      );      if (fb) {        // Now, compare hash values        if (fb.currentHash !== url.gallery + "-" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {          fb.currentHash = null;          fb.close();        }      } else if (url.gallery !== "") {        triggerFromUrl(url);      }    });    // Check current hash and trigger click event on matching element to start fancyBox, if needed    setTimeout(function () {      if (!$.fancybox.getInstance()) {        triggerFromUrl(parseUrl());      }    }, 50);  });})(window, document, jQuery);// ==========================================================================//// Wheel// Basic mouse weheel support for gallery navigation//// ==========================================================================(function (document, $) {  "use strict";  var prevTime = new Date().getTime();  $(document).on({    "onInit.fb": function (e, instance, current) {      instance.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll", function (e) {        var current = instance.current,          currTime = new Date().getTime();        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === "auto" && current.type !== "image")) {          return;        }        e.preventDefault();        e.stopPropagation();        if (current.$slide.hasClass("fancybox-animated")) {          return;        }        e = e.originalEvent || e;        if (currTime - prevTime < 250) {          return;        }        prevTime = currTime;        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? "next" : "previous"]();      });    }  });})(document, jQuery);</":></div></-></=></=></div></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/lib/three/three.min.js"/>
      <url>/lib/three/three.min.js</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>// threejs.org/license(function(l,pa){"object"===typeof exports&&"undefined"!==typeof module?pa(exports):"function"===typeof define&&define.amd?define(["exports"],pa):pa(l.THREE=l.THREE||{})})(this,function(l){function pa(){}function D(a,b){this.x=a||0;this.y=b||0}function ea(a,b,c,d,e,f,g,h,m,k){Object.defineProperty(this,"id",{value:Ze++});this.uuid=N.generateUUID();this.name="";this.image=void 0!==a?a:ea.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:ea.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:1001;this.wrapT=void 0!==d?d:1001;this.magFilter=void 0!==e?e:1006;this.minFilter=void 0!==f?f:1008;this.anisotropy=void 0!==m?m:1;this.format=void 0!==g?g:1023;this.type=void 0!==h?h:1009;this.offset=new D(0,0);this.repeat=new D(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==k?k:3E3;this.version=0;this.onUpdate=null}function fa(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1}function Ya(a,b,c){this.uuid=N.generateUUID();this.width=a;this.height=b;this.scissor=new fa(0,0,a,b);this.scissorTest=!1;this.viewport=new fa(0,0,a,b);c=c||{};void 0===c.minFilter&&(c.minFilter=1006);this.texture=new ea(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding);this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}function Gb(a,b,c){Ya.call(this,a,b,c);this.activeMipMapLevel=this.activeCubeFace=0}function ca(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1}function q(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}function S(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("three.matrix4: the constructor no longer reads arguments. use .set() instead.")}function za(a,b,c,d,e,f,g,h,m,k){a="void" 0!="=a?a:[];ea.call(this,a,void" hb(a,b,c){var d="a[0];if(0">=d||0<d)return 0="==f&&(f=new" 1 2 a;var e="b*c,f=Be[e];void" float32array(e),be[e]="f);if(0!==b)for(d.toArray(f,0),d=1,e=0;d!==b;++d)e+=c,a[d].toArray(f,e);return" f}function ce(a,b){var c="De[b];void" int32array(b),de[b]="c);for(var" d="0;d!==b;++d)c[d]=a.allocTextureUnit();return" c}function $e(a,b){a.uniform1f(this.addr,b)}function af(a,b){a.uniform1i(this.addr,b)}function bf(a,b){void cf(a,b){void 0!="=b.x?a.uniform3f(this.addr," b.x,b.y,b.z):void df(a,b){void ef(a,b){a.uniformmatrix2fv(this.addr,!1,b.elements||b)}function ff(a,b){a.uniformmatrix3fv(this.addr,!1,b.elements||b)}function gf(a,b){a.uniformmatrix4fv(this.addr,!1,b.elements||b)}function hf(a,b,c){var jf(a,b,c){var a.uniform1i(this.addr,d);c.settexturecube(b||fe,d)}function ge(a,b){a.uniform2iv(this.addr,b)}function he(a,b){a.uniform3iv(this.addr,b)}function ie(a,b){a.uniform4iv(this.addr,b)}function kf(a){switch(a){case 5126:return $e;case 35664:return bf;case 35665:return cf;case 35666:return df;case 35674:return ef;case 35675:return ff;case 35676:return gf;case 35678:return hf;case 35680:return jf;case 5124:case 35670:return af;case 35667:case 35671:return ge;case 35668:case 35672:return he;case 35669:case 35673:return ie}} function lf(a,b){a.uniform1fv(this.addr,b)}function mf(a,b){a.uniform1iv(this.addr,b)}function nf(a,b){a.uniform2fv(this.addr,hb(b,this.size,2))}function of(a,b){a.uniform3fv(this.addr,hb(b,this.size,3))}function pf(a,b){a.uniform4fv(this.addr,hb(b,this.size,4))}function qf(a,b){a.uniformmatrix2fv(this.addr,!1,hb(b,this.size,4))}function rf(a,b){a.uniformmatrix3fv(this.addr,!1,hb(b,this.size,9))}function sf(a,b){a.uniformmatrix4fv(this.addr,!1,hb(b,this.size,16))}function tf(a,b,c){var uf(a,b,c){var vf(a){switch(a){case lf;case nf;case of;case pf;case qf;case rf;case sf;case tf;case uf;case mf;case he; case ie}}function wf(a,b,c){this.id="a;this.addr=c;this.setValue=kf(b.type)}function" xf(a,b,c){this.id="a;this.addr=c;this.size=b.size;this.setValue=vf(b.type)}function" je(a){this.id="a;this.seq=[];this.map={}}function" $a(a,b,c){this.seq="[];this.map={};this.renderer=c;c=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(var" k="Rd.exec(h),t=Rd.lastIndex,p=" k[1],n="k[3];"]"===k[2]&&(p|=0);if(void" wf(p,e,f):new xf(p,e,f);h.seq.push(e);h.map[e.id]="e;break}else" n="g.map[p],void" je(p),p="g,g=n,p.seq.push(g),p.map[g.id]=g),g=n}}}function" j(a,b,c){return void eb(a,b,c,d,e,f,g,h,m,k,t,p){ea.call(this,null,f,g,h,m,k,d,e,t,p);this.image="{data:a,width:b,height:c};this.magFilter=void" !1;this.unpackalignment="1}function" sc(a,b){this.min="void" d(infinity,infinity);this.max="void" d(-infinity,-infinity)}function yf(a,b){var c,d,e,f,g,h,m,k,t,p,n="a.context,u=a.state,l,r,A,w,y,K;this.render=function(v,E,L){if(0!==b.length){v=new" q;var d(h*c,h),da="new" q(1,1,0),fb="new" d(1,1),sd="new" sc;sd.min.set(l.x,l.y);sd.max.set(l.x+(l.z-16),l.y+(l.w-16));if(void h="new" float32array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),q="new" uint16array([0,1,2,0,2,3]);l="n.createBuffer();r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l);n.bufferData(n.ARRAY_BUFFER,H,n.STATIC_DRAW);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r);n.bufferData(n.ELEMENT_ARRAY_BUFFER,Q,n.STATIC_DRAW);y=n.createTexture();K=n.createTexture();u.bindTexture(n.TEXTURE_2D,y);n.texImage2D(n.TEXTURE_2D,0,n.RGB,16,16,0,n.RGB,n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);" n.texparameteri(n.texture_2d,n.texture_mag_filter,n.nearest);n.texparameteri(n.texture_2d,n.texture_min_filter,n.nearest);u.bindtexture(n.texture_2d,k);n.teximage2d(n.texture_2d,0,n.rgba,16,16,0,n.rgba,n.unsigned_byte,null);n.texparameteri(n.texture_2d,n.texture_wrap_s,n.clamp_to_edge);n.texparameteri(n.texture_2d,n.texture_wrap_t,n.clamp_to_edge);n.texparameteri(n.texture_2d,n.texture_mag_filter,n.nearest);n.texparameteri(n.texture_2d,n.texture_min_filter,n.nearest);var lowp int rendertype;\nuniform vec3 screenposition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2d occlusionmap;\nattribute position;\nattribute uv;\nvarying vuv;\nvarying vvisibility;\nvoid main() {\nvuv="uv;\nvec2" pos="position;\nif" ( rendertype="=" ) {\nvec4 visibility="texture2D(" occlusionmap, vec2( 0.1, 0.1 );\nvisibility +="texture2D(" 0.5, 0.9, 0.5 0.9 );\nvvisibility="visibility.r" 9.0;\nvvisibility *="1.0" - visibility.g visibility.a 9.0;\npos.x="cos(" rotation position.x sin( position.y;\npos.y="sin(" cos( position.y;\n}\ngl_position="vec4(" scale screenposition.xy ).xy, screenposition.z, 1.0 );\n}", fragmentshader:"uniform map;\nuniform opacity;\nuniform color;\nvarying {\nif {\ngl_fragcolor="vec4(" 1.0, 0.0, 0.0 );\n} else if map, vuv texture="texture2D(" );\ntexture.a vvisibility;\ngl_fragcolor="texture;\ngl_FragColor.rgb" o="n.createShader(n.VERTEX_SHADER),P="precision" "+a.getprecision()+" float;\n";n.shadersource(m,p+h.fragmentshader);n.shadersource(o,p+h.vertexshader);n.compileshader(m);n.compileshader(o);n.attachshader(q,m);n.attachshader(q,o);n.linkprogram(q);w="Q;t=n.getAttribLocation(w,"position");p=n.getAttribLocation(w,"uv");c=n.getUniformLocation(w,"renderType");d=n.getUniformLocation(w,"map");e=n.getUniformLocation(w,"occlusionMap");f=n.getUniformLocation(w,"opacity");g=n.getUniformLocation(w,"color");h=n.getUniformLocation(w," "scale");m="n.getUniformLocation(w,"rotation");k=n.getUniformLocation(w,"screenPosition")}n.useProgram(w);u.initAttributes();u.enableAttribute(t);u.enableAttribute(p);u.disableUnusedAttributes();n.uniform1i(e,0);n.uniform1i(d,1);n.bindBuffer(n.ARRAY_BUFFER,l);n.vertexAttribPointer(t,2,n.FLOAT,!1,16,0);n.vertexAttribPointer(p,2,n.FLOAT,!1,16,8);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r);u.disable(n.CULL_FACE);u.setDepthWrite(!1);Q=0;for(M=b.length;Q<M;Q++)if(H=16/L.w,aa.set(H*C,H),O=b[Q],v.set(O.matrixWorld.elements[12]," o.matrixworld.elements[13],o.matrixworld.elements[14]),v.applymatrix4(e.matrixworldinverse),v.applymatrix4(e.projectionmatrix),da.copy(v),fb.x="L.x+Da.x*F+F-8,fb.y=L.y+Da.y*da+da-8,!0===Sd.containsPoint(fb)){u.activeTexture(n.TEXTURE0);u.bindTexture(n.TEXTURE_2D,null);u.activeTexture(n.TEXTURE1);u.bindTexture(n.TEXTURE_2D,y);n.copyTexImage2D(n.TEXTURE_2D,0,n.RGB,fb.x,fb.y,16,16,0);n.uniform1i(c,0);n.uniform2f(h,aa.x,aa.y);n.uniform3f(k,Da.x,Da.y,Da.z);u.disable(n.BLEND);u.enable(n.DEPTH_TEST);n.drawElements(n.TRIANGLES," 6,n.unsigned_short,0);u.activetexture(n.texture0);u.bindtexture(n.texture_2d,k);n.copyteximage2d(n.texture_2d,0,n.rgba,fb.x,fb.y,16,16,0);n.uniform1i(c,1);u.disable(n.depth_test);u.activetexture(n.texture1);u.bindtexture(n.texture_2d,y);n.drawelements(n.triangles,6,n.unsigned_short,0);o.positionscreen.copy(da);o.customupdatecallback?o.customupdatecallback(o):o.updatelensflares();n.uniform1i(c,2);u.enable(n.blend);for(var p="0,wa=O.lensFlares.length;P<wa;P++){var" w="O.lensFlares[P];.001<W.opacity&&.001<" w.scale&&(da.x="W.x,Da.y=W.y,Da.z=W.z,H=W.size*W.scale/L.w,aa.x=H*C,aa.y=H,n.uniform3f(k,Da.x,Da.y,Da.z),n.uniform2f(h,aa.x,aa.y),n.uniform1f(m,W.rotation),n.uniform1f(f,W.opacity),n.uniform3f(g,W.color.r,W.color.g,W.color.b),u.setBlending(W.blending,W.blendEquation,W.blendSrc,W.blendDst),a.setTexture2D(W.texture,1),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0))}}u.enable(n.CULL_FACE);u.enable(n.DEPTH_TEST);u.setDepthWrite(!0);a.resetGLState()}}}function" zf(a,b){var c,d,e,f,g,h,m,k,t,p,n,u,l,r, a,w,y;function k(a,b){return a.renderorder!="=b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var" v="a.context,E=a.state,L,C,F,da,H=new" q,aa="new" ca,da="new" q;this.render="function(q,D){if(0!==b.length){if(void" q="new" float32array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),m="new" m,v.static_draw);var float;","uniform mat4 modelviewmatrix;\nuniform projectionmatrix;\nuniform uvoffset;\nuniform uvscale;\nattribute vuv;\nvoid uv uvscale;\nvec2 alignedposition="position" scale;\nvec2 rotatedposition;\nrotatedposition.x="cos(" alignedposition.x alignedposition.y;\nrotatedposition.y="sin(" alignedposition.y;\nvec4 finalposition;\nfinalposition="modelViewMatrix" vec4( );\nfinalposition.xy = projectionmatrix finalposition;\ngl_position="finalPosition;\n}"].join("\n"));" v.shadersource(o,["precision color;\nuniform fogtype;\nuniform fogcolor;\nuniform fogdensity;\nuniform fognear;\nuniform fogfar;\nuniform alphatest;\nvarying );\nif texture.a < alphatest discard;\ngl_fragcolor="vec4(" color texture.xyz, opacity fogtype> 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));v.compileShader(M);v.compileShader(O);v.attachShader(Q,M);v.attachShader(Q,O);v.linkProgram(Q);F=Q;w=v.getAttribLocation(F,"position");y=v.getAttribLocation(F,"uv");c=v.getUniformLocation(F,"uvOffset");d=v.getUniformLocation(F,"uvScale");e=v.getUniformLocation(F,"rotation");f=v.getUniformLocation(F,"scale");g=v.getUniformLocation(F,"color");h=v.getUniformLocation(F,"map");m=v.getUniformLocation(F,"opacity");k=v.getUniformLocation(F,"modelViewMatrix");t=v.getUniformLocation(F,"projectionMatrix");p=v.getUniformLocation(F,"fogType");n=v.getUniformLocation(F,"fogDensity");u=v.getUniformLocation(F,"fogNear");l=v.getUniformLocation(F,"fogFar");r=v.getUniformLocation(F,"fogColor");A=v.getUniformLocation(F,"alphaTest");Q=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");Q.width=8;Q.height=8;M=Q.getContext("2d");M.fillStyle="white";M.fillRect(0,0,8,8);da=new ea(Q);da.needsUpdate=!0}v.useProgram(F);E.initAttributes();E.enableAttribute(w);E.enableAttribute(y);E.disableUnusedAttributes();E.disable(v.CULL_FACE);E.enable(v.BLEND);v.bindBuffer(v.ARRAY_BUFFER,L);v.vertexAttribPointer(w,2,v.FLOAT,!1,16,0);v.vertexAttribPointer(y,2,v.FLOAT,!1,16,8);v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,C);v.uniformMatrix4fv(t,!1,D.projectionMatrix.elements);E.activeTexture(v.TEXTURE0);v.uniform1i(h,0);M=Q=0;(O=q.fog)?(v.uniform3f(r,O.color.r,O.color.g,O.color.b),O.isFog?(v.uniform1f(u,O.near),v.uniform1f(l,O.far),v.uniform1i(p,1),M=Q=1):O.isFogExp2&&(v.uniform1f(n,O.density),v.uniform1i(p,2),M=Q=2)):(v.uniform1i(p,0),M=Q=0);for(var O=0,P=b.length;O<p;o++){var 0="==b&&(b={},y[f]=b),f=b[h],void" wa="b[O];wa.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,wa.matrixWorld);wa.z=-wa.modelViewMatrix.elements[14]}b.sort(K);for(var" w="[],O=0,P=b.length;O<P;O++){var" v.uniform2f(d,x.map.repeat.x,x.map.repeat.y)):(v.uniform2f(c,0,0),v.uniform2f(d,1,1)),v.uniform1f(m,x.opacity),v.uniform3f(g,x.color.r,x.color.g,x.color.b),v.uniform1f(e,x.rotation),v.uniform2fv(f,w),e.setblending(x.blending,x.blendequation,x.blendsrc,x.blenddst),e.setdepthtest(x.depthtest),e.setdepthwrite(x.depthwrite),x.map?a.settexture2d(x.map,0):a.settexture2d(da,0),v.drawelements(v.triangles,6,v.unsigned_short,0))}e.enable(v.cull_face);a.resetglstate()}}}function x(){object.defineproperty(this, "id",{value:af++});this.uuid="N.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=1;this.side=0;this.shading=2;this.vertexColors=0;this.opacity=1;this.transparent=!1;this.blendSrc=204;this.blendDst=205;this.blendEquation=100;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=3;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=this.clipIntersection=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=" !1;this.alphatest="this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=this.visible=!0}function" ha(a){x.call(this);this.type="ShaderMaterial" ;this.defines="{};this.uniforms={};this.vertexShader="void" main() {\n\tgl_position="projectionMatrix" * modelviewmatrix vec4( position, 1.0 );\n}";this.fragmentshader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}" ;this.linewidth="1;this.wireframe=!1;this.wireframeLinewidth=1;this.morphNormals=" this.morphtargets="this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void" 0;void 0!="=a&&(void" attributes should now be defined in three.buffergeometry instead."),this.setvalues(a))}function ab(a){x.call(this);this.type="MeshDepthMaterial" ;this.depthpacking="3200;this.morphTargets=" this.skinning="!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(a)}function" pa(a,b){this.min="void" q(infinity,infinity,infinity);this.max="void" q(-infinity,-infinity,-infinity)}function na(a,b){this.center="void" q;this.radius="void" ya(){this.elements="new" float32array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("three.matrix3: the constructor no longer reads arguments. use .set() instead.")} function la(a,b){this.normal="void" q(1,0,0);this.constant="void" tc(a,b,c,d,e,f){this.planes="[void" la,void la]}function ke(a,b,c,d){function e(b,c,d,e){var f="b.geometry,g;g=A;var" h="b.customDepthMaterial;d&&(g=w,h=b.customDistanceMaterial);h?g=h:(h=!1,c.morphTargets&&(f&&f.isBufferGeometry?h=f.morphAttributes&&f.morphAttributes.position&&0<f.morphAttributes.position.length:" f&&f.isgeometry&&(h="f.morphTargets&&0<f.morphTargets.length)),b=b.isSkinnedMesh&&c.skinning,f=0,h&&(f|=1),b&&(f|=2),g=g[f]);a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length&&(f=g.uuid,h=c.uuid,b=y[f],void" c.wireframelinewidth;g.linewidth="c.linewidth;d&&void" g}function f(a,b,c){if(!1!="=a.visible){0!==(a.layers.mask&b.layers.mask)&&(a.isMesh||a.isLine||a.isPoints)&&a.castShadow&&(!1===a.frustumCulled||!0===m.intersectsObject(a))&&!0===a.material.visible&&(a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,a.matrixWorld),r.push(a));a=a.children;for(var" d="0,e=a.length;d<e;d++)f(a[d],b,c)}}var" g="a.context,h=a.state,m=new" tc,k="new" s, t="b.shadows,p=new" d,n="new" d(d.maxtexturesize,d.maxtexturesize),u="new" q,l="new" q,r="[],A=Array(4),w=Array(4),y={},K=[new" q(1,0,0),new q(-1,0,0),new q(0,0,1),new q(0,0,-1),new q(0,1,0),new q(0,-1,0)],v="[new" q(0,0,-1)],e="[new" fa,new fa];b="new" ab;b.depthpacking="3201;b.clipping=!0;d=bb.distanceRGBA;for(var" l="Ja.clone(d.uniforms),C=0;4!==C;++C){var" da;a[c]="H;F=new" ha({defines:{use_shadowmap:""},uniforms:l,vertexshader:d.vertexshader,fragmentshader:d.fragmentshader,morphtargets:f,skinning:da,clipping:!0});w[c]="F}var" aa="this;this.enabled=!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=1;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(b,d){if(!1!==aa.enabled&&(!1!==aa.autoUpdate||!1!==aa.needsUpdate)&&0!==t.length){h.buffers.color.setClear(1,1,1,1);h.disable(g.BLEND);h.setDepthTest(!0);h.setScissorTest(!1);for(var" y, q,a="0,C=t.length;A<C;A++){var" shadow.");else{var y="1,q=!1;null===L.map&&(L.map=new" ya(p.x,p.y,{minfilter:1003,magfilter:1003,format:1023}),f.updateprojectionmatrix());l.isspotlightshadow&&l.update(w); l&&l.isrectarealightshadow&&l.update(w);h="L.map;L=L.matrix;l.setFromMatrixPosition(w.matrixWorld);F.position.copy(l);a.setRenderTarget(H);a.clear();for(H=0;H<y;H++){q?(u.copy(F.position),u.add(K[H]),F.up.copy(v[H]),F.lookAt(u),h.viewport(E[H])):(u.setFromMatrixPosition(w.target.matrixWorld),F.lookAt(u));F.updateMatrixWorld();F.matrixWorldInverse.getInverse(F.matrixWorld);L.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);L.multiply(F.projectionMatrix);L.multiply(F.matrixWorldInverse);k.multiplyMatrices(F.projectionMatrix," f.matrixworldinverse);m.setfrommatrix(k);r.length="0;f(b,d,F);for(var" da="0,x=r.length;da<x;da++){var" le="Td.groups,Sa=Sa.materials,z=0,Ea=Le.length;z<Ea;z++){var" i="Le[z],J=Sa[I.materialIndex];!0===J.visible&&(J=e(D,J,q,l),a.renderBufferDirect(F,null,Td,J,D,I))}else" j="e(D,Sa,q,l),a.renderBufferDirect(F,null,Td,J,D,null)}}}}y=a.getClearColor();q=a.getClearAlpha();a.setClearColor(y,q);aa.needsUpdate=!1}}}function" cb(a,b){this.origin="void" q;this.direction="void" q}function db(a,b,c,d){this._x="a||0;this._y=b||0;this._z=c||0;this._order=d||db.DefaultOrder}function" nd(){this.mask="1}function" x(){object.defineproperty(this,"id",{value:bf++});this.uuid="N.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=x.DefaultUp.clone();var" a="new" q,b="new" db,c="new" ca,d="new" q(1,1,1);b.onchange(function(){c.setfromeuler(b,!1)});c.onchange(function(){b.setfromquaternion(c,void 0,!1)});object.defineproperties(this, {position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:b},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:d},modelviewmatrix:{value:new s},normalmatrix:{value:new ya}});this.matrix="new" s;this.matrixworld="new" s;this.matrixautoupdate="x.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new" nd;this.visible="!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={};this.onBeforeRender=function(){};this.onAfterRender=function(){}}" hb(a,b){this.start="void" q;this.end="void" za(a,b,c){this.a="void" q;this.b="void" q;this.c="void" ha(a,b,c,d,e,f){this.a="a;this.b=b;this.c=c;this.normal=d&&d.isVector3?d:new" q;this.vertexnormals="Array.isArray(d)?d:[];this.color=e&&e.isColor?e:new" j;this.vertexcolors="Array.isArray(e)?e:[];this.materialIndex=void" ka(a){x.call(this);this.type="MeshBasicMaterial" ;this.color="new" j(16777215);this.lightmap="this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=0;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(a)}function" u(a,b,c){if(array.isarray(a))throw new typeerror("three.bufferattribute: array typed array.");this.uuid="N.generateUUID();this.array=a;" this.itemsize="b;this.count=void" uc(a,b){u.call(this,new int8array(a),b)}function vc(a,b){u.call(this,new uint8array(a),b)}function wc(a,b){u.call(this,new uint8clampedarray(a),b)}function xc(a,b){u.call(this,new int16array(a),b)}function ib(a,b){u.call(this,new uint16array(a),b)}function yc(a,b){u.call(this,new int32array(a),b)}function jb(a,b){u.call(this, uint32array(a),b)}function z(a,b){u.call(this,new float32array(a),b)}function zc(a,b){u.call(this,new float64array(a),b)}function me(){this.indices="[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function" ud(a){for(var b="a.length,c=-Infinity;b--;)a[b]">c&&(c=a[b]);return c}function T(){Object.defineProperty(this,"id",{value:Vd++});this.uuid=N.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function I(){Object.defineProperty(this,"id",{value:Vd++});this.uuid=N.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}}function Aa(a,b){x.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new I;this.material=void 0!==b?b:new Ka({color:16777215*Math.random()});this.drawMode=0;this.updateMorphTargets()}function Ib(a,b,c,d,e,f){T.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.fromBufferGeometry(new kb(a,b,c,d,e,f));this.mergeVertices()}function kb(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,l,L,C,F){var da=f/L,H=g/C,aa=f/2,x=g/2,D=l/2;g=L+1;var z=C+1,Q=f=0,M,O,P=new q;for(O=0;O<z;o++){var j="O*H-x;for(M=0;M<g;M++)P[a]=(M*da-aa)*d,P[b]=J*e,P[c]=D,k.push(P.x,P.y,P.z),P[a]=0,P[b]=0,P[c]=0<l?1:-1,t.push(P.x,P.y,P.z),p.push(M/L),p.push(1-O/C),f+=1}for(O=0;O<C;O++)for(M=" 0;m<l;m++)a="n+M+g*(O+1),b=n+(M+1)+g*(O+1),c=n+(M+1)+g*O,m.push(n+M+g*O,a,c),m.push(a,b,c),Q+=6;h.addGroup(u,Q,F);u+=Q;n+=f}I.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};var" h="this;d=Math.floor(d)||1;e=Math.floor(e)||1;f=Math.floor(f)||1;var" m="[],k=[],t=[],p=[],n=0,u=0;g("z","y","x",-1,-1,c,b,a,f,e,0);g("z","y","x",1,-1,c,b,-a,f,e,1);g("x","z","y",1,1,a,c,b,d,f,2);g("x","z","y",1,-1,a,c,-b,d,f,3);g("x","y","z"," 1,-1,a,b,c,d,e,4);g("x","y","z",-1,-1,a,b,-c,d,e,5);this.setindex(m);this.addattribute("position",new z(k,3));this.addattribute("normal",new z(t,3));this.addattribute("uv",new z(p,2))}function ac(a,b,c,d){t.call(this);this.type="PlaneGeometry" ;this.parameters="{width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new" lb(a,b,c,d))}function lb(a,b,c,d){i.call(this);this.type="PlaneBufferGeometry" e="a/2,f=b/" 2;c="Math.floor(c)||1;d=Math.floor(d)||1;var" g="c+1,h=d+1,m=a/c,k=b/d,t=[],p=[],n=[],u=[];for(a=0;a<h;a++){var" l="a*k-f;for(b=0;b<g;b++)p.push(b*m-e,-l,0),n.push(0,0,1),u.push(b/c),u.push(1-a/d)}for(a=0;a<d;a++)for(b=0;b<c;b++)e=b+g*(a+1),f=b+1+g*(a+1),h=b+1+g*a,t.push(b+g*a,e,h),t.push(e,f,h);this.setIndex(t);this.addAttribute("position",new" z(p,3));this.addattribute("normal",new z(n,3));this.addattribute("uv",new z(u,2))}function ra(){x.call(this);this.type="Camera" ;this.matrixworldinverse="new" s;this.projectionmatrix="new" s}function fa(a,b,c,d){ra.call(this);this.type="PerspectiveCamera" ;this.fov="void" 0!="=a?a:50;this.zoom=1;this.near=void" jb(a,b,c,d,e,f){ra.call(this);this.type="OrthographicCamera" ;this.zoom="1;this.view=null;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void" function cf(a,b,c){var d,e,f;return{setmode:function(a){d="a},setIndex:function(c){c.array" instanceof uint32array&&b.get("oes_element_index_uint")?(e="a.UNSIGNED_INT,f=4):c.array" uint16array?(e="a.UNSIGNED_SHORT,f=2):(e=a.UNSIGNED_BYTE,f=1)},render:function(b,h){a.drawElements(d,h,e,b*f);c.calls++;c.vertices+=h;d===a.TRIANGLES&&(c.faces+=h/3)},renderInstances:function(g,h,m){var" k="b.get("ANGLE_instanced_arrays");null===k?console.error("THREE.WebGLBufferRenderer:" using three.instancedbuffergeometry but hardware does not support extension angle_instanced_arrays."): (k.drawelementsinstancedangle(d,m,e,h*f,g.maxinstancedcount),c.calls++,c.vertices+="m*g.maxInstancedCount,d===a.TRIANGLES&&(c.faces+=g.maxInstancedCount*m/3))}}}function" df(a,b,c){var d;return{setmode:function(a){d="a},render:function(b,f){a.drawArrays(d,b,f);c.calls++;c.vertices+=f;d===a.TRIANGLES&&(c.faces+=f/3)},renderInstances:function(e){var" f="b.get("ANGLE_instanced_arrays");if(null===f)console.error("THREE.WebGLBufferRenderer:" angle_instanced_arrays."); else{var ef(){var a="{};return{get:function(b){if(void" a[b.id];var c;switch(b.type){case "directionallight":c="{direction:new" q,color:new j,shadow:!1,shadowbias:0,shadowradius:1,shadowmapsize:new d};break;case "spotlight":c="{position:new" q,direction:new q, color:new j,distance:0,conecos:0,penumbracos:0,decay:0,shadow:!1,shadowbias:0,shadowradius:1,shadowmapsize:new "pointlight":c="{position:new" j,distance:0,decay:0,shadow:!1,shadowbias:0,shadowradius:1,shadowmapsize:new "hemispherelight":c="{direction:new" q,skycolor:new j,groundcolor:new j};break;case "rectarealight":c="{color:new" j,position:new q,halfwidth:new q,halfheight:new q}}return a[b.id]="c}}}function" ff(a){a="a.split("\n");for(var" b="0;b<a.length;b++)a[b]=" b+1+": "+a[b];return a.join("\n")}function ne(a,b,c){var d="a.createShader(b);a.shaderSource(d,c);a.compileShader(d);!1===a.getShaderParameter(d,a.COMPILE_STATUS)&&console.error("THREE.WebGLShader:" shader couldn't compile.");""!="=a.getShaderInfoLog(d)&&console.warn("THREE.WebGLShader:" gl.getshaderinfolog()",b="==a.VERTEX_SHADER?"vertex":"fragment",a.getShaderInfoLog(d),Ff(c));return" d}function oe(a){switch(a){case 3e3:return["linear","( value )"];case 3001:return["srgb","( 3002:return["rgbe", "( 3004:return["rgbm","( value, 7.0 3005:return["rgbm","( 16.0 3006:return["rgbd","( 256.0 3007:return["gamma","( float( gamma_factor ) )"];default:throw error("unsupported encoding: "+a);}}function wd(a,b){var c="Oe(b);return"vec4" "+a+"( vec4 { return "+c[0]+"tolinear"+c[1]+"; }"}function gf(a,b){var linearto"+c[0]+c[1]+"; hf(a,b){var c;switch(b){case 1:c="Linear" ;break; case 2:c="Reinhard" ;break;case 3:c="Uncharted2" 4:c="OptimizedCineon" ;break;default:throw tonemapping: "+b);}return"vec3 vec3 color "+c+"tonemapping( ); if(a,b,c){a="a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap||b.flatShading?"#extension" gl_oes_standard_derivatives : enable":"",(a.fragdepth||b.logarithmicdepthbuffer)&&c.get("ext_frag_depth")?"#extension gl_ext_frag_depth enable":"",a.drawbuffers&&c.get("webgl_draw_buffers")? "#extension gl_ext_draw_buffers require":"",(a.shadertexturelod||b.envmap)&&c.get("ext_shader_texture_lod")?"#extension gl_ext_shader_texture_lod enable":""].filter(bc).join("\n")}function jf(a){var in a){var "+c+" "+d)}return b.join("\n")}function bc(a){return""!="=a}function" pe(a,b){return a.replace( num_dir_lights g,b.numdirlights).replace( num_spot_lights g,b.numspotlights).replace( num_rect_area_lights g,b.numrectarealights).replace( num_point_lights g, b.numpointlights).replace( num_hemi_lights g,b.numhemilights)}function xd(a){return #include +<([\w\d.]+)>/g,function(a,c){var d=Z[c];if(void 0===d)throw Error("Can not resolve #include <"+c+">");return Xd(d)})}function Qe(a){return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(a,c,d,e){a="";for(c=parseInt(c);c<parseint(d);c++)a+=e.replace( 0="==q&&(q=new" \[ i \] g,"[ "+c+" ]");return a})}function kf(a,b,c,d){var e="a.context,f=c.extensions,g=c.defines,h=c.__webglShader.vertexShader," m="c.__webglShader.fragmentShader,k="SHADOWMAP_TYPE_BASIC";1===d.shadowMapType?k="SHADOWMAP_TYPE_PCF":2===d.shadowMapType&&(k="SHADOWMAP_TYPE_PCF_SOFT");var" t="ENVMAP_TYPE_CUBE" ,p="ENVMAP_MODE_REFLECTION" ,n="ENVMAP_BLENDING_MULTIPLY" ;if(d.envmap){switch(c.envmap.mapping){case 301:case 302:t="ENVMAP_TYPE_CUBE" ;break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV" 303:case 304:t="ENVMAP_TYPE_EQUIREC" 305:t="ENVMAP_TYPE_SPHERE" }switch(c.envmap.mapping){case 302:case 304:p="ENVMAP_MODE_REFRACTION" }switch(c.combine){case 0:n="ENVMAP_BLENDING_MULTIPLY" 1:n="ENVMAP_BLENDING_MIX" 2:n="ENVMAP_BLENDING_ADD" }}var u="0<a.gammaFactor?a.gammaFactor:1,f=If(f,d,a.extensions),l=Jf(g),r=e.createProgram();c.isRawShaderMaterial?(g=[l,"\n"].filter(Bc).join("\n"),k=[f,l,"\n"].filter(Bc).join("\n")):(g=["precision" "+d.precision+" float;","precision int;","#define shader_name "+c.__webglshader.name,l,d.supportsvertextextures?"#define vertex_textures":"","#define gamma_factor "+u,"#define max_bones "+ d.maxbones,d.usefog&&d.fog?"#define use_fog":"",d.usefog&&d.fogexp?"#define fog_exp2":"",d.map?"#define use_map":"",d.envmap?"#define use_envmap":"",d.envmap?"#define "+p:"",d.lightmap?"#define use_lightmap":"",d.aomap?"#define use_aomap":"",d.emissivemap?"#define use_emissivemap":"",d.bumpmap?"#define use_bumpmap":"",d.normalmap?"#define use_normalmap":"",d.displacementmap&&d.supportsvertextextures?"#define use_displacementmap":"",d.specularmap?"#define use_specularmap":"",d.roughnessmap?"#define use_roughnessmap": "",d.metalnessmap?"#define use_metalnessmap":"",d.alphamap?"#define use_alphamap":"",d.vertexcolors?"#define use_color":"",d.flatshading?"#define flat_shaded":"",d.skinning?"#define use_skinning":"",d.usevertextexture?"#define bone_texture":"",d.morphtargets?"#define use_morphtargets":"",d.morphnormals&&!1="==d.flatShading?"#define" use_morphnormals":"",d.doublesided?"#define double_sided":"",d.flipsided?"#define flip_sided":"","#define num_clipping_planes "+d.numclippingplanes,d.shadowmapenabled?"#define use_shadowmap": "",d.shadowmapenabled?"#define "+k:"",d.sizeattenuation?"#define use_sizeattenuation":"",d.logarithmicdepthbuffer?"#define use_logdepthbuf":"",d.logarithmicdepthbuffer&&a.extensions.get("ext_frag_depth")?"#define use_logdepthbuf_ext":"","uniform mat4 modelmatrix;","uniform modelviewmatrix;","uniform projectionmatrix;","uniform viewmatrix;","uniform mat3 normalmatrix;","uniform vec3 cameraposition;","attribute position;","attribute normal;","attribute vec2 uv;","#ifdef use_color", "\tattribute color;","#endif","#ifdef use_morphtargets","\tattribute morphtarget0;","\tattribute morphtarget1;","\tattribute morphtarget2;","\tattribute morphtarget3;","\t#ifdef use_morphnormals","\t\tattribute morphnormal0;","\t\tattribute morphnormal1;","\t\tattribute morphnormal2;","\t\tattribute morphnormal3;","\t#else","\t\tattribute morphtarget4;","\t\tattribute morphtarget5;","\t\tattribute morphtarget6;","\t\tattribute morphtarget7;", "\t#endif","#endif","#ifdef use_skinning","\tattribute vec4 skinindex;","\tattribute skinweight;","#endif","\n"].filter(bc).join("\n"),k="[f,"precision" "+c.__webglshader.name,l,d.alphatest?"#define alphatest "+d.alphatest:"","#define "+u,d.usefog&&d.fog?"#define "+t:"",d.envmap? "#define "+p:"",d.envmap?"#define "+n:"",d.lightmap?"#define use_normalmap":"",d.specularmap?"#define use_roughnessmap":"",d.metalnessmap?"#define use_color":"",d.gradientmap?"#define use_gradientmap":"",d.flatshading?"#define flat_shaded": "",d.doublesided?"#define "+d.numclippingplanes,"#define union_clipping_planes "+(d.numclippingplanes-d.numclipintersection),d.shadowmapenabled?"#define use_shadowmap":"",d.shadowmapenabled?"#define "+k:"",d.premultipliedalpha?"#define premultiplied_alpha":"",d.physicallycorrectlights?"#define physically_correct_lights":"",d.logarithmicdepthbuffer?"#define use_logdepthbuf":"",d.logarithmicdepthbuffer&&a.extensions.get("ext_frag_depth")? use_logdepthbuf_ext":"",d.envmap&&a.extensions.get("ext_shader_texture_lod")?"#define texture_lod_ext":"","uniform cameraposition;",0!="=d.toneMapping?"#define" tone_mapping":"",0!="=d.toneMapping?Z.tonemapping_pars_fragment:"",0!==d.toneMapping?Hf("toneMapping",d.toneMapping):"",d.outputEncoding||d.mapEncoding||d.envMapEncoding||d.emissiveMapEncoding?Z.encodings_pars_fragment:"",d.mapEncoding?Wd("mapTexelToLinear",d.mapEncoding):"",d.envMapEncoding?Wd("envMapTexelToLinear"," d.envmapencoding):"",d.emissivemapencoding?wd("emissivemaptexeltolinear",d.emissivemapencoding):"",d.outputencoding?gf("lineartooutputtexel",d.outputencoding):"",d.depthpacking?"#define depth_packing "+c.depthpacking:"","\n"].filter(bc).join("\n"));h="Xd(h,d);h=Pe(h,d);m=Xd(m,d);m=Pe(m,d);c.isShaderMaterial||(h=Qe(h),m=Qe(m));m=k+m;h=Ne(e,e.VERTEX_SHADER,g+h);m=Ne(e,e.FRAGMENT_SHADER,m);e.attachShader(r,h);e.attachShader(r,m);void" 0!="=c.index0AttributeName?e.bindAttribLocation(r,0,c.index0AttributeName):" !0="==d.morphTargets&&e.bindAttribLocation(r,0,"position");e.linkProgram(r);d=e.getProgramInfoLog(r);t=e.getShaderInfoLog(h);p=e.getShaderInfoLog(m);u=n=!0;if(!1===e.getProgramParameter(r,e.LINK_STATUS))n=!1,console.error("THREE.WebGLProgram:" shader error: ",e.geterror(),"gl.validate_status",e.getprogramparameter(r,e.validate_status),"gl.getprograminfolog",d,t,p);else if(""!="=d)console.warn("THREE.WebGLProgram:" gl.getprograminfolog()",d);else if(""="==t||""===p)u=!1;u&&(this.diagnostics={runnable:n," material:c,programlog:d,vertexshader:{log:t,prefix:g},fragmentshader:{log:p,prefix:k}});e.deleteshader(h);e.deleteshader(m);var q;this.getuniforms="function(){void" $a(e,r,a));return q};var w;this.getattributes="function(){if(void" a="{},b=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),c=0;c<b;c++){var" d="e.getActiveAttrib(r,c).name;a[d]=e.getAttribLocation(r,d)}w=a}return" w};this.destroy="function(){e.deleteProgram(r);this.program=void" 0};object.defineproperties(this,{uniforms:{get:function(){console.warn("three.webglprogram: .uniforms is now .getuniforms()."); return this.getuniforms()}},attributes:{get:function(){console.warn("three.webglprogram: .attributes .getattributes().");return this.getattributes()}}});this.id="Lf++;this.code=b;this.usedTimes=1;this.program=r;this.vertexShader=h;this.fragmentShader=m;return" this}function mf(a,b){function c(a,b){var c;a?a.istexture?c="a.encoding:a.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap:" don't use render targets as textures. their .texture property instead."),c="a.texture.encoding):c=3E3;3E3===c&&b&&(c=3007);return" c}var supportsvertextextures map mapencoding envmap envmapmode envmapencoding lightmap aomap emissivemap emissivemapencoding bumpmap normalmap displacementmap specularmap roughnessmap metalnessmap gradientmap alphamap combine vertexcolors fog usefog fogexp flatshading sizeattenuation logarithmicdepthbuffer skinning maxbones usevertextexture morphtargets morphnormals maxmorphtargets maxmorphnormals premultipliedalpha numdirlights numpointlights numspotlights numhemilights numrectarealights shadowmapenabled shadowmaptype tonemapping physicallycorrectlights doublesided flipsided numclippingplanes numclipintersection depthpacking".split(" "); this.getparameters="function(d,f,m,k,t,p){var" n="e[d.type],u;b.floatVertexTextures&&p&&p.skeleton&&p.skeleton.useVertexTexture?u=1024:(u=Math.floor((b.maxVertexUniforms-20)/4),void" too many bones - "+p.skeleton.bones.length+", this gpu supports just "+u+" (try opengl instead of angle)")));var l="a.getPrecision();null!==d.precision&&(l=b.getMaxPrecision(d.precision),l!==d.precision&&" console.warn("three.webglprogram.getparameters:",d.precision,"not supported, using",l,"instead."));var r="a.getCurrentRenderTarget();return{shaderID:n,precision:l,supportsVertexTextures:b.vertexTextures,outputEncoding:c(r?r.texture:null,a.gammaOutput),map:!!d.map,mapEncoding:c(d.map,a.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:c(d.envMap,a.gammaInput),envMapCubeUV:!!d.envMap&&(306===d.envMap.mapping||307===d.envMap.mapping),lightMap:!!d.lightMap,aoMap:!!d.aoMap," emissivemap:!!d.emissivemap,emissivemapencoding:c(d.emissivemap,a.gammainput),bumpmap:!!d.bumpmap,normalmap:!!d.normalmap,displacementmap:!!d.displacementmap,roughnessmap:!!d.roughnessmap,metalnessmap:!!d.metalnessmap,specularmap:!!d.specularmap,alphamap:!!d.alphamap,gradientmap:!!d.gradientmap,combine:d.combine,vertexcolors:d.vertexcolors,fog:!!m,usefog:d.fog,fogexp:m&&m.isfogexp2,flatshading:1="==d.shading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:b.logarithmicDepthBuffer,skinning:d.skinning," maxbones:u,usevertextexture:b.floatvertextextures&&p&&p.skeleton&&p.skeleton.usevertextexture,morphtargets:d.morphtargets,morphnormals:d.morphnormals,maxmorphtargets:a.maxmorphtargets,maxmorphnormals:a.maxmorphnormals,numdirlights:f.directional.length,numpointlights:f.point.length,numspotlights:f.spot.length,numrectarealights:f.rectarea.length,numhemilights:f.hemi.length,numclippingplanes:k,numclipintersection:t,shadowmapenabled:a.shadowmap.enabled&&p.receiveshadow&&0<f.shadows.length,shadowmaptype:a.shadowmap.type, tonemapping:a.tonemapping,physicallycorrectlights:a.physicallycorrectlights,premultipliedalpha:d.premultipliedalpha,alphatest:d.alphatest,doublesided:2="==d.side,flipSided:1===d.side,depthPacking:void" c="[];b.shaderID?c.push(b.shaderID):(c.push(a.fragmentShader),c.push(a.vertexShader));if(void" in a.defines)c.push(d),c.push(a.defines[d]);for(d="0;d<f.length;d++)c.push(b[f[d]]);return" c.join()};this.acquireprogram="function(b,c,e){for(var" f,t="0,p=d.length;t<p;t++){var" kf(a,e,b,c),d.push(f));return f};this.releaseprogram="function(a){if(0===--a.usedTimes){var" b="d.indexOf(a);d[b]=d[d.length-1];d.pop();a.destroy()}};this.programs=d}function" nf(a,b,c){function d(a){var h="a.target;a=f[h.id];null!==a.index&&e(a.index);var" m)e(m[k]);h.removeeventlistener("dispose",d);delete f[h.id];k="b.get(h);k.wireframe&&e(k.wireframe);b["delete"](h);" e(c){var d;d="c.isInterleavedBufferAttribute?b.get(c.data).__webglBuffer:b.get(c).__webglBuffer;void" f="{};return{get:function(a){var" f[b.id];b.addeventlistener("dispose",d);var e;b.isbuffergeometry?e="b:b.isGeometry&&(void" i).setfromobject(a)), e}}}function of(a,b,c){function d(c,d){var k="a.FLOAT,t=e.array;t" instanceof float32array?k="a.FLOAT:t" float64array?console.warn("unsupported data buffer format: float64array"):t uint16array?k="a.UNSIGNED_SHORT:" int16array?k="a.SHORT:t" uint32array?k="a.UNSIGNED_INT:t" int32array?k="a.INT:t" int8array?k="a.BYTE:t" uint8array&&(k="a.UNSIGNED_BYTE);m.bytesPerElement=t.BYTES_PER_ELEMENT;m.type=k;m.version=e.version;e.onUploadCallback()}else" m.version!="=e.version&&(a.bindBuffer(d,m.__webglBuffer),!1===e.dynamic?a.bufferData(d,e.array,a.STATIC_DRAW):-1===e.updateRange.count?a.bufferSubData(d,0,e.array):0===e.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer:" dynamic three.bufferattribute marked needsupdate but updaterange.count 0, ensure you are using set methods or updating manually."): (a.buffersubdata(d,e.updaterange.offset*e.array.bytes_per_element,e.array.subarray(e.updaterange.offset,e.updaterange.offset+e.updaterange.count)),e.updaterange.count="0),m.version=e.version)}var" nf(a,b,c);return{getattributebuffer:function(a){return a.isinterleavedbufferattribute?b.get(a.data).__webglbuffer:b.get(a).__webglbuffer},getattributeproperties:function(a){return a.isinterleavedbufferattribute?b.get(a.data):b.get(a)},getwireframeattribute:function(c){var e.wireframe; var for(m="c.position.array,c=0,k=m.length/3-1;c<k;c+=3)t=c+0,p=c+1,n=c+2,h.push(t,p,p,n,n,t);h=new" (65535<ud(h)?jb:ib)(h,1);d(h,a.element_array_buffer);return e.wireframe="h},update:function(b){var" h)d(h[m],a.array_buffer); b)for(var c}}}function pf(a,b,c,d,e,f,g){function h(a,b){if(a.width>b||a.height>b){var c=b/Math.max(a.width,a.height),d=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");d.width=Math.floor(a.width*c);d.height=Math.floor(a.height*c);d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+d.width+"x"+d.height,a);return d}return a}function m(a){return N.isPowerOfTwo(a.width)&&N.isPowerOfTwo(a.height)}function k(b){return 1003===b||1004===b||1005===b?a.NEAREST:a.LINEAR}function t(b){b=b.target;b.removeEventListener("dispose",t);a:{var c=d.get(b);if(b.image&&c.__image__webglTextureCube)a.deleteTexture(c.__image__webglTextureCube);else{if(void 0===c.__webglInit)break a;a.deleteTexture(c.__webglTexture)}d["delete"](b)}q.textures--}function p(b){b=b.target;b.removeEventListener("dispose",p);var c=d.get(b),e=d.get(b.texture);if(b){void 0!==e.__webglTexture&&a.deleteTexture(e.__webglTexture);b.depthTexture&&b.depthTexture.dispose();if(b.isWebGLRenderTargetCube)for(e=0;6>e;e++)a.deleteFramebuffer(c.__webglFramebuffer[e]),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer[e]);else a.deleteFramebuffer(c.__webglFramebuffer),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer);d["delete"](b.texture);d["delete"](b)}q.textures--}function n(b,g){var k=d.get(b);if(0<b.version&&k.__version!==b.version){var n=b.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",b);else if(!1===n.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",b);else{void 0===k.__webglInit&&(k.__webglInit=!0,b.addEventListener("dispose",t),k.__webglTexture=a.createTexture(),q.textures++);c.activeTexture(a.TEXTURE0+g);c.bindTexture(a.TEXTURE_2D,k.__webglTexture);a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,b.flipY);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b.premultiplyAlpha);a.pixelStorei(a.UNPACK_ALIGNMENT,b.unpackAlignment);var p=h(b.image,e.maxTextureSize);if((1001!==b.wrapS||1001!==b.wrapT||1003!==b.minFilter&&1006!==b.minFilter)&&!1===m(p))if(n=p,n instanceof HTMLImageElement||n instanceof HTMLCanvasElement){var l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");l.width=N.nearestPowerOfTwo(n.width);l.height=N.nearestPowerOfTwo(n.height);l.getContext("2d").drawImage(n,0,0,l.width,l.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+n.width+"x"+n.height+"). Resized to "+l.width+"x"+l.height,n);p=l}else p=n;var n=m(p),l=f(b.format),G=f(b.type);u(a.TEXTURE_2D,b,n);var r=b.mipmaps;if(b.isDepthTexture){r=a.DEPTH_COMPONENT;if(1015===b.type){if(!w)throw Error("Float Depth Texture only supported in WebGL2.0");r=a.DEPTH_COMPONENT32F}else w&&(r=a.DEPTH_COMPONENT16);1026===b.format&&r===a.DEPTH_COMPONENT&&1012!==b.type&&1014!==b.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),b.type=1012,G=f(b.type));1027===b.format&&(r=a.DEPTH_STENCIL,1020!==b.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),b.type=1020,G=f(b.type)));c.texImage2D(a.TEXTURE_2D,0,r,p.width,p.height,0,l,G,null)}else if(b.isDataTexture)if(0<r.length&&n){for(var 1015="==g.type&&null===b.get("OES_texture_float_linear")||1016===g.type&&null===b.get("OES_texture_half_float_linear")||!(1<g.anisotropy||d.get(g).__currentAnisotropy)||(a.texParameterf(c,h.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(g.anisotropy,e.getMaxAnisotropy())),d.get(g).__currentAnisotropy=g.anisotropy)}function" h="0,aa=r.length;H<aa;H++)p=r[H],c.texImage2D(a.TEXTURE_2D,H,l,p.width,p.height,0,l,G,p.data);b.generateMipmaps=!1}else" c.teximage2d(a.texture_2d,0,l,p.width,p.height,0,l,g,p.data);else if(b.iscompressedtexture)for(h="0,aa=r.length;H<aa;H++)p=r[H],1023!==b.format&&1022!==b.format?-1<c.getCompressedTextureFormats().indexOf(l)?c.compressedTexImage2D(a.TEXTURE_2D,H,l,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer:" attempt to load unsupported compressed texture format in .uploadtexture()"):c.teximage2d(a.texture_2d,h,l,p.width,p.height,0,l,g,p.data);else if(0<r.length&&n){h="0;for(aa=r.length;H<aa;H++)p=r[H],c.texImage2D(a.TEXTURE_2D,H,l,l,G,p);b.generateMipmaps=!1}else" c.teximage2d(a.texture_2d,0,l,l, g,p);b.generatemipmaps&&n&&a.generatemipmap(a.texture_2d);k.__version="b.version;if(b.onUpdate)b.onUpdate(b);return}}c.activeTexture(a.TEXTURE0+g);c.bindTexture(a.TEXTURE_2D,k.__webglTexture)}function" u(c,g,h){h?(a.texparameteri(c,a.texture_wrap_s,f(g.wraps)),a.texparameteri(c,a.texture_wrap_t,f(g.wrapt)),a.texparameteri(c,a.texture_mag_filter,f(g.magfilter)),a.texparameteri(c,a.texture_min_filter,f(g.minfilter))):(a.texparameteri(c,a.texture_wrap_s,a.clamp_to_edge),a.texparameteri(c,a.texture_wrap_t, a.clamp_to_edge),1001="==g.wrapS&&1001===g.wrapT||console.warn("THREE.WebGLRenderer:" is not power of two. texture.wraps and texture.wrapt should be set three.clamptoedgewrapping.",g),a.texparameteri(c,a.texture_mag_filter,k(g.magfilter)),a.texparameteri(c,a.texture_min_filter,k(g.minfilter)),1003!="=g.minFilter&&1006!==g.minFilter&&console.warn("THREE.WebGLRenderer:" texture.minfilter three.nearestfilter or three.linearfilter.",g));!(h="b.get("EXT_texture_filter_anisotropic"))||" l(b,e,g,h){var m="f(e.texture.format),k=f(e.texture.type);c.texImage2D(h,0,m,e.width,e.height,0,m,k,null);a.bindFramebuffer(a.FRAMEBUFFER,b);a.framebufferTexture2D(a.FRAMEBUFFER,g,h,d.get(e.texture).__webglTexture," 0);a.bindframebuffer(a.framebuffer,null)}function r(b,c){a.bindrenderbuffer(a.renderbuffer,b);c.depthbuffer&&!c.stencilbuffer?(a.renderbufferstorage(a.renderbuffer,a.depth_component16,c.width,c.height),a.framebufferrenderbuffer(a.framebuffer,a.depth_attachment,a.renderbuffer,b)):c.depthbuffer&&c.stencilbuffer?(a.renderbufferstorage(a.renderbuffer,a.depth_stencil,c.width,c.height),a.framebufferrenderbuffer(a.framebuffer,a.depth_stencil_attachment,a.renderbuffer,b)):a.renderbufferstorage(a.renderbuffer, a.rgba4,c.width,c.height);a.bindrenderbuffer(a.renderbuffer,null)}var q="g.memory,w="undefined"!==typeof" webgl2renderingcontext&&a instanceof webgl2renderingcontext;this.settexture2d="n;this.setTextureCube=function(b,g){var" k="d.get(b);if(6===b.image.length)if(0<b.version&&k.__version!==b.version){k.__image__webglTextureCube||(b.addEventListener("dispose",t),k.__image__webglTextureCube=a.createTexture(),q.textures++);c.activeTexture(a.TEXTURE0+g);c.bindTexture(a.TEXTURE_CUBE_MAP,k.__image__webglTextureCube);" a.pixelstorei(a.unpack_flip_y_webgl,b.flipy);for(var n="b&&b.isCompressedTexture,p=b.image[0]&&b.image[0].isDataTexture,l=[],r=0;6">r;r++)l[r]=n||p?p?b.image[r].image:b.image[r]:h(b.image[r],e.maxCubemapSize);var G=m(l[0]),w=f(b.format),aa=f(b.type);u(a.TEXTURE_CUBE_MAP,b,G);for(r=0;6>r;r++)if(n)for(var x,D=l[r].mipmaps,z=0,Q=D.length;z<q;z++)x=d[z],1023!==b.format&&1022!==b.format?-1<c.getcompressedtextureformats().indexof(w)?c.compressedteximage2d(a.texture_cube_map_positive_x+r,z,w,x.width,x.height, 0,x.data):console.warn("three.webglrenderer: attempt to load unsupported compressed texture format in .settexturecube()"):c.teximage2d(a.texture_cube_map_positive_x+r,z,w,x.width,x.height,0,w,aa,x.data);else p?c.teximage2d(a.texture_cube_map_positive_x+r,0,w,l[r].width,l[r].height,0,w,aa,l[r].data):c.teximage2d(a.texture_cube_map_positive_x+r,0,w,w,aa,l[r]);b.generatemipmaps&&g&&a.generatemipmap(a.texture_cube_map);k.__version="b.version;if(b.onUpdate)b.onUpdate(b)}else" c.activetexture(a.texture0+ g),c.bindtexture(a.texture_cube_map,k.__image__webgltexturecube)};this.settexturecubedynamic="function(b,e){c.activeTexture(a.TEXTURE0+e);c.bindTexture(a.TEXTURE_CUBE_MAP,d.get(b).__webglTexture)};this.setupRenderTarget=function(b){var" e="d.get(b),f=d.get(b.texture);b.addEventListener("dispose",p);f.__webglTexture=a.createTexture();q.textures++;var" g="!0===b.isWebGLRenderTargetCube,h=m(b);if(g){e.__webglFramebuffer=[];for(var" k="0;6">k;k++)e.__webglFramebuffer[k]=a.createFramebuffer()}else e.__webglFramebuffer=a.createFramebuffer();if(g){c.bindTexture(a.TEXTURE_CUBE_MAP,f.__webglTexture);u(a.TEXTURE_CUBE_MAP,b.texture,h);for(k=0;6>k;k++)l(e.__webglFramebuffer[k],b,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+k);b.texture.generateMipmaps&&h&&a.generateMipmap(a.TEXTURE_CUBE_MAP);c.bindTexture(a.TEXTURE_CUBE_MAP,null)}else c.bindTexture(a.TEXTURE_2D,f.__webglTexture),u(a.TEXTURE_2D,b.texture,h),l(e.__webglFramebuffer,b,a.COLOR_ATTACHMENT0,a.TEXTURE_2D),b.texture.generateMipmaps&&h&&a.generateMipmap(a.TEXTURE_2D),c.bindTexture(a.TEXTURE_2D,null);if(b.depthBuffer){e=d.get(b);f=!0===b.isWebGLRenderTargetCube;if(b.depthTexture){if(f)throw Error("target.depthTexture not supported in Cube render targets");if(b&&b.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer);if(!b.depthTexture||!b.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(b.depthTexture).__webglTexture&&b.depthTexture.image.width===b.width&&b.depthTexture.image.height===b.height||(b.depthTexture.image.width=b.width,b.depthTexture.image.height=b.height,b.depthTexture.needsUpdate=!0);n(b.depthTexture,0);e=d.get(b.depthTexture).__webglTexture;if(1026===b.depthTexture.format)a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,e,0);else if(1027===b.depthTexture.format)a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,e,0);else throw Error("Unknown depthTexture format");}else if(f)for(e.__webglDepthbuffer=[],f=0;6>f;f++)a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer[f]),e.__webglDepthbuffer[f]=a.createRenderbuffer(),r(e.__webglDepthbuffer[f],b);else a.bindFramebuffer(a.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=a.createRenderbuffer(),r(e.__webglDepthbuffer,b);a.bindFramebuffer(a.FRAMEBUFFER,null)}};this.updateRenderTargetMipmap=function(b){var e=b.texture;e.generateMipmaps&&m(b)&&1003!==e.minFilter&&1006!==e.minFilter&&(b=b&&b.isWebGLRenderTargetCube?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D,e=d.get(e).__webglTexture,c.bindTexture(b,e),a.generateMipmap(b),c.bindTexture(b,null))}}function Qf(){var a={};return{get:function(b){b=b.uuid;var c=a[b];void 0===c&&(c={},a[b]=c);return c},"delete":function(b){delete a[b.uuid]},clear:function(){a={}}}}function Rf(a,b,c){function d(b,c,d){var e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f);a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(b,a.TEXTURE_MAG_FILTER,a.NEAREST);for(b=0;b<d;b++)a.teximage2d(c+ 0="==b&&(b=a.TEXTURE0+P-1);W!==b&&(a.activeTexture(b)," 1020="==a&&(b=ja.get("WEBGL_depth_texture"),null!==b)?b.UNSIGNED_INT_24_8_WEBGL:0}console.log("THREE.WebGLRenderer","84");a=a||{};var" b,0,a.rgba,1,1,0,a.rgba,a.unsigned_byte,e);return f}function e(b){!0!="=y[b]&&(a.enable(b),y[b]=!0)}function" f(b){!1!="=y[b]&&(a.disable(b),y[b]=!1)}function" g(b,d,g,h,m,k,n,t){0!="=b?e(a.BLEND):f(a.BLEND);if(b!==v||t!==x)2===b?t?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):3===b?t?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):" (a.blendequation(a.func_add),a.blendfunc(a.zero,a.one_minus_src_color)):4="==b?t?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):t?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA))," v="b,x=t;if(5===b){m=m||d;k=k||g;n=n||h;if(d!==E||m!==F)a.blendEquationSeparate(c(d),c(m)),E=d,F=m;if(g!==L||h!==C||k!==da||n!==H)a.blendFuncSeparate(c(g),c(h),c(k),c(n)),L=g,C=h,da=k,H=n}else" h="da=F=C=L=E=null}function" h(a){n.setfunc(a)}function m(b){d!="=b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),D=b)}function" k(b){0!="=b?(e(a.CULL_FACE),b!==z&&(1===b?a.cullFace(a.BACK):2===b?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):f(a.CULL_FACE);z=b}function" t(b){void w="b)}var" p="new" function(){var b="!1,c=new" fa,d="null,e=new" fa;return{setmask:function(c){d="==c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function(a){b=a},setClear:function(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g);c.set(b,d,f,g);!1===e.equals(c)&&(a.clearColor(b,d,f,g),e.copy(c))},reset:function(){b=!1;d=null;e.set(0,0,0,1)}}},n=new" b){if(b)switch(b){case 0:a.depthfunc(a.never);break;case 1:a.depthfunc(a.always);break;case 2:a.depthfunc(a.less);break;case 3:a.depthfunc(a.lequal);break;case 4:a.depthfunc(a.equal);break;case 5:a.depthfunc(a.gequal);break;case 6:a.depthfunc(a.greater);break;case 7:a.depthfunc(a.notequal);break;default:a.depthfunc(a.lequal)}else a.depthfunc(a.lequal);d="b}},setLocked:function(a){b=a},setClear:function(b){g!==b&&(a.clearDepth(b),g=b)},reset:function(){b=!1;g=d=c=null}}},u=new" null,d="null,g=null,h=null,m=null,k=null,n=null,t=null;return{setTest:function(b){b?e(a.STENCIL_TEST):f(a.STENCIL_TEST)},setMask:function(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function(b,c,e){if(d!==b||g!==c||h!==e)a.stencilFunc(b,c,e),d=b,g=c,h=e},setOp:function(b,c,d){if(m!==b||k!==c||n!==d)a.stencilOp(b,c,d),m=b,k=c,n=d},setLocked:function(a){b=a},setClear:function(b){t!==b&&(a.clearStencil(b),t=b)},reset:function(){b=!1;t=n=k=m=h=g=d=c=null}}},l=a.getParameter(a.MAX_VERTEX_ATTRIBS),r=new" uint8array(l), q="new" uint8array(l),w="new" uint8array(l),y="{},K=null,v=null,E=null,L=null,C=null,F=null,da=null,H=null,x=!1,D=null,z=null,J=null,Q=null,M=null,O=null,P=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),l=parseFloat(/^WebGL\" ([0-9]) .exec(a.getparameter(a.version))[1]),i="1<=parseFloat(l),W=null,S={},R=new" fa,t="new" fa,n="{};N[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);N[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);return{buffers:{color:p,depth:n,stencil:u},init:function(){p.setClear(0," 0,0,1);n.setclear(1);u.setclear(0);e(a.depth_test);h(3);m(!1);k(1);e(a.cull_face);e(a.blend);g(1)},initattributes:function(){for(var a="0,b=r.length;a<b;a++)r[a]=0},enableAttribute:function(c){r[c]=1;0===q[c]&&(a.enableVertexAttribArray(c),q[c]=1);0!==w[c]&&(b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,0),w[c]=0)},enableAttributeAndDivisor:function(b,c,d){r[b]=1;0===q[b]&&(a.enableVertexAttribArray(b),q[b]=1);w[b]!==c&&(d.vertexAttribDivisorANGLE(b,c),w[b]=c)},disableUnusedAttributes:function(){for(var" c="a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++)K.push(c[d]);return" k},setblending:g,setcolorwrite:function(a){p.setmask(a)},setdepthtest:function(a){n.settest(a)},setdepthwrite:function(a){n.setmask(a)}, setdepthfunc:h,setstenciltest:function(a){u.settest(a)},setstencilwrite:function(a){u.setmask(a)},setstencilfunc:function(a,b,c){u.setfunc(a,b,c)},setstencilop:function(a,b,c){u.setop(a,b,c)},setflipsided:m,setcullface:k,setlinewidth:function(b){b!="=J&&(I&&a.lineWidth(b),J=b)},setPolygonOffset:function(b,c,d){if(b){if(e(a.POLYGON_OFFSET_FILL),Q!==c||M!==d)a.polygonOffset(c,d),Q=c,M=d}else" f(a.polygon_offset_fill)},getscissortest:function(){return o},setscissortest:function(b){(o="b)?e(a.SCISSOR_TEST):" f(a.scissor_test)},activetexture:t,bindtexture:function(b,c){null="==W&&t();var" d="S[W];void" 0,texture:void 0},s[w]="d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||N[b]),d.type=b,d.texture=c},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(b){console.error(b)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(b){console.error(b)}},scissor:function(b){!1===R.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),R.copy(b))},viewport:function(b){!1===" t.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),t.copy(b))},reset:function(){for(var sf(a,b,c){function d(b){if("highp"="==b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&" 0<a.getshaderprecisionformat(a.fragment_shader,a.medium_float).precision?"mediump":"lowp"}var e,f="void" 0!="=c.precision?c.precision:"highp",g=d(f);g!==f&&(console.warn("THREE.WebGLRenderer:",f,"not" supported, using",g,"instead."),f="g);c=!0===c.logarithmicDepthBuffer&&!!b.get("EXT_frag_depth");var" g="a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),h=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=a.getParameter(a.MAX_TEXTURE_SIZE),k=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),t=a.getParameter(a.MAX_VERTEX_ATTRIBS)," e;var e="null!==c?a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:d,precision:f,logarithmicDepthBuffer:c,maxTextures:g,maxVertexTextures:h,maxTextureSize:m,maxCubemapSize:k,maxAttributes:t,maxVertexUniforms:p," maxvaryings:n,maxfragmentuniforms:u,vertextextures:l,floatfragmenttextures:r,floatvertextextures:l&&r}}function tf(a){var b[c];var d;switch(c){case "webgl_depth_texture":d="a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case" "ext_texture_filter_anisotropic":d="a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||" a.getextension("webkit_ext_texture_filter_anisotropic");break;case "webgl_compressed_texture_s3tc":d="a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case" "webgl_compressed_texture_pvrtc":d="a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case" "webgl_compressed_texture_etc1":d="a.getExtension("WEBGL_compressed_texture_etc1");" break;default:d="a.getExtension(c)}null===d&&console.warn("THREE.WebGLRenderer:" "+c+" extension not supported.");return b[c]="d}}}function" uf(){function a(){k.value!="=d&&(k.value=d,k.needsUpdate=0<e);c.numPlanes=e;c.numIntersection=0}function" b(a,b,d,e){var f="null!==a?a.length:0,g=null;if(0!==f){g=k.value;if(!0!==e||null===g){e=d+4*f;b=b.matrixWorldInverse;m.getNormalMatrix(b);if(null===g||g.length<e)g=new" float32array(e);for(e="0;e!==f;++e,d+=4)h.copy(a[e]).applyMatrix4(b,m),h.normal.toArray(g,d),g[d+" 3]="h.constant}k.value=g;k.needsUpdate=!0}c.numPlanes=f;return" g}var la,m="new" ya,k="{value:null,needsUpdate:!1};this.uniform=k;this.numIntersection=this.numPlanes=0;this.init=function(a,c,g){var" h};this.beginshadows="function(){g=!0;b(null)};this.endShadows=function(){g=!1;a()};this.setState=function(c,h,m,l,G,r){if(!f||null===c||0===c.length||g&&!m)g?b(null):a();else{m=g?0:e;var" k.value="w;w=b(c,l,q,r);for(c=0;c!==q;++c)w[c]=d[c];G.clippingState=w;this.numIntersection=h?this.numPlanes:0;this.numPlanes+=m}}}function" yd(a){function b(){y.init();y.scissor(x.copy(ga).multiplyscalar(ra));y.viewport(z.copy(ia).multiplyscalar(ra));y.buffers.color.setclear(ea.r,ea.g,ea.b,gb,f)}function c(){u="wa=null;V="";R=-1;Y.reset()}function" d(a){a.preventdefault();c();b();ha.clear()}function e(a){a="a.target;a.removeEventListener("dispose",e);f(a);ha["delete"](a)}function" f(a){var a.program="void" 0;void g(a,b){return math.abs(b[0])-math.abs(a[0])}function h(a,b){return a.object.renderorder!="=b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.program&&b.material.program&&a.material.program!==b.material.program?a.material.program.id-b.material.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function" m(a,b){return b.object.renderorder:a.z!="=b.z?b.z-a.z:a.id-b.id}function" k(a,b,c,d,e){var f;c.transparent?(d="z,f=++T):(d=aa,f=++D);f=d[f];void" t(a){if(!ma.intersectssphere(a))return!1;var if(c[e].distancetopoint(d)<a)return!1;while(++e!="=b);return!0}function" p(a,b){if(!1!="=" a.visible){if(0!="=(a.layers.mask&b.layers.mask))if(a.isLight)H.push(a);else" if(a.issprite){var c;(c="!1===a.frustumCulled)||(na.center.set(0,0,0),na.radius=.7071067811865476,na.applyMatrix4(a.matrixWorld),c=!0===t(na));c&&M.push(a)}else" if(a.islensflare)o.push(a);else if(a.isimmediaterenderobject)!0="==P.sortObjects&&(Ga.setFromMatrixPosition(a.matrixWorld),Ga.applyMatrix4(ua)),k(a,null,a.material,Ga.z,null);else" if(a.ismesh||a.isline||a.ispoints)if(a.isskinnedmesh&&a.skeleton.update(),(c="!1===a.frustumCulled)||" (c="a.geometry,null===c.boundingSphere&&c.computeBoundingSphere(),na.copy(c.boundingSphere).applyMatrix4(a.matrixWorld),c=!0===t(na)),c){var" k(a,c,d,ga.z,null)}c="a.children;d=0;for(g=c.length;d<g;d++)p(c[d],b)}}function" n(a,b,c, d){for(var n="G(c,b.fog,k,h);V="";h.render(function(a){P.renderBufferImmediate(a,n,k)})}else" p.renderbufferdirect(c,b.fog,m,k,h,g);h.onafterrender(p,b,c,m,k,g)}}function l(a){2="==a.side?Y.disable(B.CULL_FACE):Y.enable(B.CULL_FACE);" y.setflipsided(1="==a.side);!0===a.transparent?Y.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):Y.setBlending(0);Y.setDepthFunc(a.depthFunc);Y.setDepthTest(a.depthTest);Y.setDepthWrite(a.depthWrite);Y.setColorWrite(a.colorWrite);Y.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}function" g(a,b,c,d){ea="0;var" c.clipshadows,a,g,a="==U&&c.id===R);!1===c.needsUpdate&&(void" if(n.code!="=" k)f(c);else if(void a;else t="!1;t&&(m.shaderID?(n=bb[m.shaderID],h.__webglShader={name:c.type,uniforms:Ja.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}):h.__webglShader={name:c.type,uniforms:c.uniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader},c.__webglShader=h.__webglShader,n=ya.acquireProgram(c,m,k),h.program=n,c.program=n);m=n.getAttributes();if(c.morphTargets)for(k=c.numSupportedMorphTargets=0;k<P.maxMorphTargets;k++)0<=" m["morphtarget"+k]&&c.numsupportedmorphtargets++;if(c.morphnormals)for(k="c.numSupportedMorphNormals=0;k<P.maxMorphNormals;k++)0<=m["morphNormal"+k]&&c.numSupportedMorphNormals++;m=h.__webglShader.uniforms;if(!c.isShaderMaterial&&!c.isRawShaderMaterial||!0===c.clipping)h.numClippingPlanes=ca.numPlanes,h.numIntersection=ca.numIntersection,m.clippingPlanes=ca.uniform;h.fog=b;h.lightsHash=ba.hash;c.lights&&(m.ambientLightColor.value=ba.ambient,m.directionalLights.value=ba.directional,m.spotLights.value=" ba.spot,m.rectarealights.value="ba.rectArea,m.pointLights.value=ba.point,m.hemisphereLights.value=ba.hemi,m.directionalShadowMap.value=ba.directionalShadowMap,m.directionalShadowMatrix.value=ba.directionalShadowMatrix,m.spotShadowMap.value=ba.spotShadowMap,m.spotShadowMatrix.value=ba.spotShadowMatrix,m.pointShadowMap.value=ba.pointShadowMap,m.pointShadowMatrix.value=ba.pointShadowMatrix);k=h.program.getUniforms();m=$a.seqWithValue(k.seq,m);h.uniformsList=m}c.needsUpdate=!1}var" m="h.getUniforms(),k=g.__webglShader.uniforms;h.id!==wa&&(B.useProgram(h.program),wa=h.id,t=n=p=!0);c.id!==R&&(R=c.id,n=!0);if(p||a!==U){m.set(B,a,"projectionMatrix");la.logarithmicDepthBuffer&&m.setValue(B,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));a!==U&&(U=a,t=n=!0);if(c.isShaderMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.envMap)p=m.map.cameraPosition,void" c.ismeshstandardmaterial||c.isshadermaterial||c.skinning)&&m.setvalue(b,"viewmatrix",a.matrixworldinverse);m.set(b,p,"tonemappingexposure");m.set(b,p,"tonemappingwhitepoint")}c.skinning&&(m.setoptional(b,d,"bindmatrix"),m.setoptional(b,d,"bindmatrixinverse"),a="d.skeleton)&&(la.floatVertexTextures&&a.useVertexTexture?(m.set(B,a,"boneTexture"),m.set(B,a,"boneTextureWidth"),m.set(B,a,"boneTextureHeight")):m.setOptional(B,a,"boneMatrices"));if(n){c.lights&&(a=t,k.ambientLightColor.needsUpdate=a,k.directionalLights.needsUpdate=" a,k.pointlights.needsupdate="a,k.spotLights.needsUpdate=a,k.rectAreaLights.needsUpdate=a,k.hemisphereLights.needsUpdate=a);b&&c.fog&&(k.fogColor.value=b.color,b.isFog?(k.fogNear.value=b.near,k.fogFar.value=b.far):b.isFogExp2&&(k.fogDensity.value=b.density));if(c.isMeshBasicMaterial||c.isMeshLambertMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.isMeshNormalMaterial||c.isMeshDepthMaterial){k.opacity.value=c.opacity;k.diffuse.value=c.color;c.emissive&&k.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity);" k.map.value="c.map;k.specularMap.value=c.specularMap;k.alphaMap.value=c.alphaMap;c.lightMap&&(k.lightMap.value=c.lightMap,k.lightMapIntensity.value=c.lightMapIntensity);c.aoMap&&(k.aoMap.value=c.aoMap,k.aoMapIntensity.value=c.aoMapIntensity);var" l;c.map?l="c.map:c.specularMap?l=c.specularMap:c.displacementMap?l=c.displacementMap:c.normalMap?l=c.normalMap:c.bumpMap?l=c.bumpMap:c.roughnessMap?l=c.roughnessMap:c.metalnessMap?l=c.metalnessMap:c.alphaMap?l=c.alphaMap:c.emissiveMap&&(l=c.emissiveMap);void" l&&(l.iswebglrendertarget&&(l="l.texture),b=l.offset,l=l.repeat,k.offsetRepeat.value.set(b.x,b.y,l.x,l.y));k.envMap.value=c.envMap;k.flipEnvMap.value=c.envMap&&c.envMap.isCubeTexture?-1:1;k.reflectivity.value=c.reflectivity;k.refractionRatio.value=c.refractionRatio}c.isLineBasicMaterial?(k.diffuse.value=c.color,k.opacity.value=c.opacity):c.isLineDashedMaterial?(k.diffuse.value=c.color,k.opacity.value=c.opacity,k.dashSize.value=c.dashSize,k.totalSize.value=c.dashSize+c.gapSize,k.scale.value=c.scale):" c.ispointsmaterial?(k.diffuse.value="c.color,k.opacity.value=c.opacity,k.size.value=c.size*Ra,k.scale.value=.5*Cc,k.map.value=c.map,null!==c.map&&(l=c.map.offset,c=c.map.repeat,k.offsetRepeat.value.set(l.x,l.y,c.x,c.y))):c.isMeshLambertMaterial?c.emissiveMap&&(k.emissiveMap.value=c.emissiveMap):c.isMeshToonMaterial?(r(k,c),c.gradientMap&&(k.gradientMap.value=c.gradientMap)):c.isMeshPhongMaterial?r(k,c):c.isMeshPhysicalMaterial?(k.clearCoat.value=c.clearCoat,k.clearCoatRoughness.value=c.clearCoatRoughness," a(k,c)):c.ismeshstandardmaterial?a(k,c):c.ismeshdepthmaterial?c.displacementmap&&(k.displacementmap.value="c.displacementMap,k.displacementScale.value=c.displacementScale,k.displacementBias.value=c.displacementBias):c.isMeshNormalMaterial&&(c.bumpMap&&(k.bumpMap.value=c.bumpMap,k.bumpScale.value=c.bumpScale),c.normalMap&&(k.normalMap.value=c.normalMap,k.normalScale.value.copy(c.normalScale)),c.displacementMap&&(k.displacementMap.value=c.displacementMap,k.displacementScale.value=c.displacementScale," k.displacementbias.value="c.displacementBias));void" h}function r(a,b){a.specular.value="b.specular;a.shininess.value=Math.max(b.shininess,1E-4);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap," a.bumpscale.value="b.bumpScale);b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}function" a(a,b){a.roughness.value="b.roughness;a.metalness.value=b.metalness;b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);" b.bumpmap&&(a.bumpmap.value="b.bumpMap,a.bumpScale.value=b.bumpScale);b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}function" w(a){var b;if(1e3="==a)return" b.repeat;if(1001="==a)return" b.clamp_to_edge;if(1002="==a)return" b.mirrored_repeat;if(1003="==a)return" b.nearest; if(1004="==a)return" b.nearest_mipmap_nearest;if(1005="==a)return" b.nearest_mipmap_linear;if(1006="==a)return" b.linear;if(1007="==a)return" b.linear_mipmap_nearest;if(1008="==a)return" b.linear_mipmap_linear;if(1009="==a)return" b.unsigned_byte;if(1017="==a)return" b.unsigned_short_4_4_4_4;if(1018="==a)return" b.unsigned_short_5_5_5_1;if(1019="==a)return" b.unsigned_short_5_6_5;if(1010="==a)return" b.byte;if(1011="==a)return" b.short;if(1012="==a)return" b.unsigned_short;if(1013="==a)return" b.int;if(1014="==a)return" b.unsigned_int; if(1015="==a)return" b.float;if(1016="==a&&(b=ja.get("OES_texture_half_float"),null!==b))return" b.half_float_oes;if(1021="==a)return" b.alpha;if(1022="==a)return" b.rgb;if(1023="==a)return" b.rgba;if(1024="==a)return" b.luminance;if(1025="==a)return" b.luminance_alpha;if(1026="==a)return" b.depth_component;if(1027="==a)return" b.depth_stencil;if(100="==a)return" b.func_add;if(101="==a)return" b.func_subtract;if(102="==a)return" b.func_reverse_subtract;if(200="==a)return" b.zero;if(201="==a)return" b.one;if(202="==a)return" b.src_color; if(203="==a)return" b.one_minus_src_color;if(204="==a)return" b.src_alpha;if(205="==a)return" b.one_minus_src_alpha;if(206="==a)return" b.dst_alpha;if(207="==a)return" b.one_minus_dst_alpha;if(208="==a)return" b.dst_color;if(209="==a)return" b.one_minus_dst_color;if(210="==a)return" b.src_alpha_saturate;if(2001="==a||2002===a||2003===a||2004===a)if(b=ja.get("WEBGL_compressed_texture_s3tc"),null!==b){if(2001===a)return" b.compressed_rgb_s3tc_dxt1_ext;if(2002="==a)return" b.compressed_rgba_s3tc_dxt1_ext;if(2003="==a)return" b.compressed_rgba_s3tc_dxt3_ext; if(2004="==a)return" b.compressed_rgba_s3tc_dxt5_ext}if(2100="==a||2101===a||2102===a||2103===a)if(b=ja.get("WEBGL_compressed_texture_pvrtc"),null!==b){if(2100===a)return" b.compressed_rgb_pvrtc_4bppv1_img;if(2101="==a)return" b.compressed_rgb_pvrtc_2bppv1_img;if(2102="==a)return" b.compressed_rgba_pvrtc_4bppv1_img;if(2103="==a)return" b.compressed_rgba_pvrtc_2bppv1_img}if(2151="==a&&(b=ja.get("WEBGL_compressed_texture_etc1"),null!==b))return" b.compressed_rgb_etc1_webgl;if(103="==a||104===a)if(b=ja.get("EXT_blend_minmax")," null!="=b){if(103===a)return" b.min_ext;if(104="==a)return" b.max_ext}return y="void" a.premultipliedalpha:!0,x="void" float32array(8),m="[],O=[];this.domElement=y;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1;this.maxMorphTargets=" 8;this.maxmorphnormals="4;var" fa,sa="null,Z=new" fa,ea="0,Ea=new" j(0),gb="0,md=y.width,Cc=y.height,Ra=1,ga=new" fa(0,0,md,cc),ka="!1,ia=new" fa(0,0,md,cc),ma="new" tc,ca="new" uf,oa="!1,ra=!1,na=new" na,ua="new" s,ga="new" q,ba="new" s,xa="new" s,ba="{hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},pa={calls:0," vertices:0,faces:0,points:0};this.info="{render:pa,memory:{geometries:0,textures:0},programs:null};var" b;try{v="{alpha:v,depth:E,stencil:L,antialias:C,premultipliedAlpha:F,preserveDrawingBuffer:x};B=K||y.getContext("webgl",v)||y.getContext("experimental-webgl",v);if(null===B){if(null!==y.getContext("webgl"))throw"Error" creating webgl context with your selected attributes.";throw"error context.";}void rangemax:1,precision:1}});y.addeventlistener("webglcontextlost",d,!1)}catch(vf){console.error("three.webglrenderer: "+vf)}var ja="new" tf(b);ja.get("webgl_depth_texture");ja.get("oes_texture_float");ja.get("oes_texture_float_linear");ja.get("oes_texture_half_float");ja.get("oes_texture_half_float_linear");ja.get("oes_standard_derivatives");ja.get("angle_instanced_arrays");ja.get("oes_element_index_uint")&&(i.maxindex="4294967296);var" la="new" sf(b,ja,a),y="new" rf(b,ja,w),ha="new" qf,ta="new" pf(b,ja,y,ha,la, w,this.info),qa="new" of(b,ha,this.info),ya="new" mf(this,la),za="new" ef;this.info.programs="ya.programs;var" df(b,ja,pa),oa="new" cf(b,ja,pa),ia,ca,sa,va;b();this.context="B;this.capabilities=la;this.extensions=ja;this.properties=ha;this.state=Y;var" ma="new" ke(this,ba,qa,la);this.shadowmap="Ma;var" pa="new" zf(this,m),qa="new" yf(this,o);this.getcontext="function(){return" b};this.getcontextattributes="function(){return" b.getcontextattributes()};this.forcecontextloss="function(){ja.get("WEBGL_lose_context").loseContext()};" this.getmaxanisotropy="function(){return" la.getmaxanisotropy()};this.getprecision="function(){return" la.precision};this.getpixelratio="function(){return" ra};this.setpixelratio="function(a){void" function(a,b,c,d){y.scissor(ga.set(a,b,c,d))};this.setscissortest="function(a){Y.setScissorTest(ka=a)};this.getClearColor=function(){return" ea};this.setclearcolor="function(a,b){Ea.set(a);gb=void" gb};this.setclearalpha="function(a){gb=a;Y.buffers.color.setClear(Ea.r,Ea.g,Ea.b,gb,F)};this.clear=function(a,b,c){var" c)d|="B.STENCIL_BUFFER_BIT;B.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=c;this.dispose=function(){z=[];T=-1;aa=[];D=-1;y.removeEventListener("webglcontextlost",d,!1)};this.renderBufferImmediate=function(a,b,c){Y.initAttributes();var" a.hasnormals&&!d.normal&&(d.normal="B.createBuffer());a.hasUvs&&!d.uv&&(d.uv=B.createBuffer());a.hasColors&&!d.color&&(d.color=B.createBuffer());b=b.getAttributes();a.hasPositions&&(B.bindBuffer(B.ARRAY_BUFFER,d.position),B.bufferData(B.ARRAY_BUFFER,a.positionArray,B.DYNAMIC_DRAW),Y.enableAttribute(b.position),B.vertexAttribPointer(b.position,3,B.FLOAT,!1,0,0));if(a.hasNormals){B.bindBuffer(B.ARRAY_BUFFER,d.normal);if(!c.isMeshPhongMaterial&&!c.isMeshStandardMaterial&&!c.isMeshNormalMaterial&&1===" c.shading)for(var 2,b.float,!1,0,0));a.hascolors&&0!="=c.vertexColors&&(B.bindBuffer(B.ARRAY_BUFFER,d.color),B.bufferData(B.ARRAY_BUFFER,a.colorArray,B.DYNAMIC_DRAW),Y.enableAttribute(b.color),B.vertexAttribPointer(b.color,3,B.FLOAT,!1,0,0));Y.disableUnusedAttributes();B.drawArrays(B.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,b,c,d,e,f){l(d);var" k="[];a=0;for(var" b[a],k.push([m,a]);k.sort(g);8<k.length&&(k.length="8);var" 0,p;if(c&&c.isinstancedbuffergeometry&&(p="ja.get("ANGLE_instanced_arrays"),null===p)){console.error("THREE.WebGLRenderer.setupVertexAttributes:" using three.instancedbuffergeometry but hardware does support angle_instanced_arrays.");break a}void q;for(q in h){var k)}else v.isinstancedbufferattribute?(y.enableattributeanddivisor(y,v.meshperattribute,p),void 2:b.vertexattrib2fv(y,w);break;case 3:b.vertexattrib3fv(y,w);break;case 4:b.vertexattrib4fv(y,w);break;default:b.vertexattrib1fv(y,w)}}}y.disableunusedattributes()}null!="=b&&B.bindBuffer(B.ELEMENT_ARRAY_BUFFER," qa.getattributebuffer(b))}p="0;null!==b?p=b.count:void" switch(e.drawmode){case 0:a.setmode(b.triangles);break;case 1:a.setmode(b.triangle_strip);break;case 2:a.setmode(b.triangle_fan)}else e.isline?(d="d.linewidth,void" d&&(d="1),Y.setLineWidth(d*(null===W?Ra:1)),e.isLineSegments?a.setMode(B.LINES):a.setMode(B.LINE_STRIP)):e.isPoints&&a.setMode(B.POINTS);c&&c.isInstancedBufferGeometry?0<c.maxInstancedCount&&a.renderInstances(c,q,f):a.render(q,f)}};this.render=function(a,b,c,d){if(void" camera is an instance of three.camera.");else{v ;r="-1;U=null;!0===a.autoUpdate&&a.updateMatrixWorld();null===b.parent&&b.updateMatrixWorld();b.matrixWorldInverse.getInverse(b.matrixWorld);" ua.multiplymatrices(b.projectionmatrix,b.matrixworldinverse);ma.setfrommatrix(ua);h.length="0;T=D=-1;M.length=0;O.length=0;ra=this.localClippingEnabled;oa=ca.init(this.clippingPlanes,ra,b);p(a,b);aa.length=D+1;z.length=T+1;!0===P.sortObjects&&(aa.sort(h),z.sort(m));oa&&ca.beginShadows();for(var" e[f],r="k.color,G=k.intensity,q=k.distance,y=k.shadow&&k.shadow.map?k.shadow.map.texture:null,k.isAmbientLight)t+=r.r*G,l+=r.g*G,u+=r.b*G;else" if(k.isdirectionallight){var y;ba.directionalshadowmatrix[w]="k.shadow.matrix;ba.directional[w++]=E}else" if(k.isspotlight){e="za.get(k);E.position.setFromMatrixPosition(k.matrixWorld);E.position.applyMatrix4(v);E.color.copy(r).multiplyScalar(G);E.distance=q;E.direction.setFromMatrixPosition(k.matrixWorld);Ga.setFromMatrixPosition(k.target.matrixWorld);E.direction.sub(Ga);E.direction.transformDirection(v);E.coneCos=Math.cos(k.angle);E.penumbraCos=Math.cos(k.angle*(1-k.penumbra));E.decay=0===k.distance?0:k.decay;if(E.shadow=k.castShadow)E.shadowBias=" k.shadow.bias,e.shadowradius="k.shadow.radius,E.shadowMapSize=k.shadow.mapSize;ba.spotShadowMap[K]=y;ba.spotShadowMatrix[K]=k.shadow.matrix;ba.spot[K++]=E}else" if(k.isrectarealight)e="za.get(k),E.color.copy(r).multiplyScalar(G/(k.width*k.height)),E.position.setFromMatrixPosition(k.matrixWorld),E.position.applyMatrix4(v),xa.identity(),Ba.copy(k.matrixWorld),Ba.premultiply(v),xa.extractRotation(Ba),E.halfWidth.set(.5*k.width,0,0),E.halfHeight.set(0,.5*k.height,0),E.halfWidth.applyMatrix4(xa),E.halfHeight.applyMatrix4(xa)," ba.rectarea[c++]="E;else" if(k.ispointlight){e="za.get(k);E.position.setFromMatrixPosition(k.matrixWorld);E.position.applyMatrix4(v);E.color.copy(k.color).multiplyScalar(k.intensity);E.distance=k.distance;E.decay=0===k.distance?0:k.decay;if(E.shadow=k.castShadow)E.shadowBias=k.shadow.bias,E.shadowRadius=k.shadow.radius,E.shadowMapSize=k.shadow.mapSize;ba.pointShadowMap[A]=y;void" s);ga.setfrommatrixposition(k.matrixworld).negate();ba.pointshadowmatrix[a].identity().setposition(ga); ba.point[a++]="E}else" k.ishemispherelight&&(e="za.get(k),E.direction.setFromMatrixPosition(k.matrixWorld),E.direction.transformDirection(v),E.direction.normalize(),E.skyColor.copy(k.color).multiplyScalar(G),E.groundColor.copy(k.groundColor).multiplyScalar(G),ba.hemi[L++]=E);ba.ambient[0]=t;ba.ambient[1]=l;ba.ambient[2]=u;ba.directional.length=w;ba.spot.length=K;ba.rectArea.length=C;ba.point.length=A;ba.hemi.length=L;ba.hash=w+","+A+","+K+","+C+","+L+","+ba.shadows.length;oa&&ca.endShadows();pa.calls=" 0;pa.vertices="0;pa.faces=0;pa.points=0;void" fa,va="new" aa(new kb(5,5,5),new ha({uniforms:bb.cube.uniforms,vertexshader:bb.cube.vertexshader,fragmentshader:bb.cube.fragmentshader,side:1,depthtest:!1, depthwrite:!1,fog:!1}))),sa.projectionmatrix.copy(b.projectionmatrix),sa.matrixworld.extractrotation(b.matrixworld),sa.matrixworldinverse.getinverse(sa.matrixworld),va.material.uniforms.tcube.value="e,va.modelViewMatrix.multiplyMatrices(sa.matrixWorldInverse,va.matrixWorld),qa.update(va),P.renderBufferDirect(sa,null,va.geometry,va.material,va,null)):e&&e.isTexture&&(void" jb(-1,1,1,-1,0,1),ca="new" lb(2,2),new ka({depthtest:!1,depthwrite:!1,fog:!1}))),ca.material.map="e,qa.update(Ca)," p.renderbufferdirect(ia,null,ca.geometry,ca.material,ca,null));a.overridematerial?(d="a.overrideMaterial,n(aa,a,b,d),n(z,a,b,d)):(Y.setBlending(0),n(aa,a,b),n(z,a,b));Pa.render(a,b);Qa.render(a,b,Z);c&&ta.updateRenderTargetMipmap(c);Y.setDepthTest(!0);Y.setDepthWrite(!0);Y.setColorWrite(!0)}};this.setFaceCulling=function(a,b){Y.setCullFace(a);Y.setFlipSided(0===b)};this.allocTextureUnit=function(){var">=la.maxTextures&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+la.maxTextures);ea+=1;return a};this.setTexture2D=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTarget&&(a||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);ta.setTexture2D(b,c)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),a=!0);ta.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTargetCube&&(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),a=!0),b=b.texture);b&&b.isCubeTexture||Array.isArray(b.image)&&6===b.image.length?ta.setTextureCube(b,c):ta.setTextureCubeDynamic(b,c)}}();this.getCurrentRenderTarget=function(){return W};this.setRenderTarget=function(a){(W=a)&&void 0===ha.get(a).__webglFramebuffer&&ta.setupRenderTarget(a);var b=a&&a.isWebGLRenderTargetCube,c;a?(c=ha.get(a),c=b?c.__webglFramebuffer[a.activeCubeFace]:c.__webglFramebuffer,X.copy(a.scissor),Sa=a.scissorTest,Z.copy(a.viewport)):(c=null,X.copy(ga).multiplyScalar(Ra),Sa=ka,Z.copy(ia).multiplyScalar(Ra));N!==c&&(B.bindFramebuffer(B.FRAMEBUFFER,c),N=c);Y.scissor(X);Y.setScissorTest(Sa);Y.viewport(Z);b&&(b=ha.get(a.texture),B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,b.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(!1===(a&&a.isWebGLRenderTarget))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var g=ha.get(a).__webglFramebuffer;if(g){var h=!1;g!==N&&(B.bindFramebuffer(B.FRAMEBUFFER,g),h=!0);try{var k=a.texture,m=k.format,n=k.type;1023!==m&&w(m)!==B.getParameter(B.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===n||w(n)===B.getParameter(B.IMPLEMENTATION_COLOR_READ_TYPE)||1015===n&&(ja.get("OES_texture_float")||ja.get("WEBGL_color_buffer_float"))||1016===n&&ja.get("EXT_color_buffer_half_float")?B.checkFramebufferStatus(B.FRAMEBUFFER)===B.FRAMEBUFFER_COMPLETE?0<=b&&b<=a.width-d&&0<=c&&c<=a.height-e&&b.readpixels(b,c,d,e,w(m),w(n),f):console.error("three.webglrenderer.readrendertargetpixels: 0="==b)this.calculateInverses();else" readpixels from rendertarget failed. framebuffer not complete."):console.error("three.webglrenderer.readrendertargetpixels: is in unsignedbytetype or implementation defined type.")}finally{h&& b.bindframebuffer(b.framebuffer,n)}}}}}function kb(a,b){this.name ;this.color="new" j(a);this.density="void" 0!="=b?b:2.5E-4}function" lb(a,b,c){this.name j(a);this.near="void" mb(){x.call(this);this.type="Scene" ;this.overridematerial="this.fog=this.background=null;this.autoUpdate=!0}function" zd(a,b,c,d,e){x.call(this);this.lensflares="[];this.positionScreen=new" q;this.customupdatecallback="void" 0;void nb(a){x.call(this); this.type="SpriteMaterial" j(16777215);this.map="null;this.rotation=0;this.lights=this.fog=!1;this.setValues(a)}function" dc(a){x.call(this);this.type="Sprite" ;this.material="void" nb}function ec(){x.call(this);this.type="LOD" ;object.defineproperties(this,{levels:{enumerable:!0,value:[]}})}function od(a,b,c){this.usevertextexture="void" s;a="a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=N.nextPowerOfTwo(Math.ceil(a))," this.bonetextureheight="this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new" float32array(this.bonetexturewidth*this.bonetextureheight*4),this.bonetexture="new" eb(this.bonematrices,this.bonetexturewidth,this.bonetextureheight,1023,1015)):this.bonematrices="new" float32array(16*this.bones.length);if(void if(this.bones.length="==b.length)this.boneInverses=b.slice(0);else" for(console.warn("three.skeleton boninverses the wrong length."),this.boneinverses="[],b=" 0,a="this.bones.length;b<a;b++)this.boneInverses.push(new" s)}function pd(){x.call(this);this.type="Bone" }function qd(a,b,c){aa.call(this,a,b);this.type="SkinnedMesh" ;this.bindmode="attached" ;this.bindmatrix="new" s;this.bindmatrixinverse="new" d,e="0,f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],b=new" pd,a.push(b),b.name="d.name,b.position.fromArray(d.pos),b.quaternion.fromArray(d.rotq),void" e="0;for(f=this.geometry.bones.length;e<f;++e)d=this.geometry.bones[e],-1!==d.parent&&null!==d.parent&&void" od(a,void 0,c),this.matrixworld)}function ia(a){x.call(this);this.type="LineBasicMaterial" j(16777215);this.linewidth="1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(a)}function" ua(a,b,c){if(1="==c)return" console.warn("three.line: parameter three.linepieces no longer supported. created three.linesegments instead."), new ga(a,b);x.call(this);this.type="Line" ;this.geometry="void" i;this.material="void" ia({color:16777215*math.random()})}function ga(a,b){ua.call(this,a,b);this.type="LineSegments" oa(a){x.call(this);this.type="PointsMaterial" mb(a,b){x.call(this);this.type="Points" oa({color:16777215*math.random()})} function fc(){x.call(this);this.type="Group" rd(a,b,c,d,e,f,g,h,m){function k(){requestanimationframe(k);a.readystate>=a.HAVE_CURRENT_DATA&&(t.needsUpdate=!0)}ea.call(this,a,b,c,d,e,f,g,h,m);this.generateMipmaps=!1;var t=this;k()}function Nb(a,b,c,d,e,f,g,h,m,k,t,p){ea.call(this,null,f,g,h,m,k,d,e,t,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1}function sd(a,b,c,d,e,f,g,h,m){ea.call(this,a,b,c,d,e,f,g,h,m);this.needsUpdate=!0}function Gc(a,b,c,d,e,f,g,h,m,k){k=void 0!==k?k:1026;if(1026!==k&&1027!==k)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&1026===k&&(c=1012);void 0===c&&1027===k&&(c=1020);ea.call(this,null,d,e,f,g,h,k,c,m);this.image={width:a,height:b};this.magFilter=void 0!==g?g:1003;this.minFilter=void 0!==h?h:1003;this.generateMipmaps=this.flipY=!1}function Ob(a){function b(a,b){return a-b}I.call(this);this.type="WireframeGeometry";var c=[],d,e,f,g,h=[0,0],m={},k,t=["a","b","c"];if(a&&a.isGeometry){var p=a.faces;d=0;for(f=p.length;d<f;d++){var n="p[d];for(e=0;3">e;e++)h[0]=n[t[e]],h[1]=n[t[(e+1)%3]],h.sort(b),k=h.toString(),void 0===m[k]&&(m[k]={index1:h[0],index2:h[1]})}for(k in m)d=m[k],t=a.vertices[d.index1],c.push(t.x,t.y,t.z),t=a.vertices[d.index2],c.push(t.x,t.y,t.z)}else if(a&&a.isBufferGeometry){var l,t=new q;if(null!==a.index){p=a.attributes.position;n=a.index;l=a.groups;0===l.length&&a.addGroup(0,n.count);a=0;for(g=l.length;a<g;++a)for(d=l[a],e=d.start,f=d.count, d="e,f=e+f;d<f;d+=3)for(e=0;3">e;e++)h[0]=n.getX(d+e),h[1]=n.getX(d+(e+1)%3),h.sort(b),k=h.toString(),void 0===m[k]&&(m[k]={index1:h[0],index2:h[1]});for(k in m)d=m[k],t.fromBufferAttribute(p,d.index1),c.push(t.x,t.y,t.z),t.fromBufferAttribute(p,d.index2),c.push(t.x,t.y,t.z)}else for(p=a.attributes.position,d=0,f=p.count/3;d<f;d++)for(e=0;3>e;e++)m=3*d+e,t.fromBufferAttribute(p,m),c.push(t.x,t.y,t.z),m=3*d+(e+1)%3,t.fromBufferAttribute(p,m),c.push(t.x,t.y,t.z)}this.addAttribute("position",new z(c,3))}function Hc(a,b,c){T.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};this.fromBufferGeometry(new Pb(a,b,c));this.mergeVertices()}function Pb(a,b,c){I.call(this);this.type="ParametricBufferGeometry";this.parameters={func:a,slices:b,stacks:c};var d=[],e=[],f=[],g,h,m=b+1;for(g=0;g<=c;g++){var k="g/c;for(h=0;h<=b;h++){var" t="h/b,p=a(t,k);e.push(p.x,p.y,p.z);f.push(t,k)}}for(g=0;g<c;g++)for(h=0;h<b;h++)a=g*m+h+1,k=(g+1)*m+h+1,t=(g+1)*m+h,d.push(g*m+h,a,t),d.push(a,k," t);this.setindex(d);this.addattribute("position",new z(e,3));this.addattribute("uv",new z(f,2));this.computevertexnormals()}function ic(a,b,c,d){t.call(this);this.type="PolyhedronGeometry" ;this.parameters="{vertices:a,indices:b,radius:c,detail:d};this.fromBufferGeometry(new" ba(a,b,c,d));this.mergevertices()}function ba(a,b,c,d){function e(a){h.push(a.x,a.y,a.z)}function f(b,c){var d="3*b;c.x=a[d+0];c.y=a[d+1];c.z=a[d+2]}function" g(a,b,c,d){0>d&&1===a.x&&(m[b]=a.x-1);0===c.x&&0===c.z&&(m[b]=d/2/Math.PI+.5)}I.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;var h=[],m=[];(function(a){for(var c=new q,d=new q,g=new q,h=0;h<b.length;h+=3){f(b[h+0],c);f(b[h+1],d);f(b[h+2],g);var m="c,l=d,A=g,w=Math.pow(2,a),y=[],K,v;for(K=0;K<=w;K++){y[K]=[];var" e="m.clone().lerp(A,K/w),L=l.clone().lerp(A,K/w),C=w-K;for(v=0;v<=C;v++)y[K][v]=0===v&&K===w?E:E.clone().lerp(L,v/C)}for(K=0;K<w;K++)for(v=0;v<2*(w-K)-1;v++)m=Math.floor(v/2),0===v%2?(e(y[K][m+1])," e(y[k+1][m]),e(y[k][m])):(e(y[k][m+1]),e(y[k+1][m+1]),e(y[k+1][m]))}})(d||0);(function(a){for(var b="new" q,c="0;c<h.length;c+=3)b.x=h[c+0],b.y=h[c+1],b.z=h[c+2],b.normalize().multiplyScalar(a),h[c+0]=b.x,h[c+1]=b.y,h[c+2]=b.z})(c);(function(){for(var" a="new" q,b="0;b<h.length;b+=3)a.x=h[b+0],a.y=h[b+1],a.z=h[b+2],m.push(Math.atan2(a.z,-a.x)/2/Math.PI+.5,1-(Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5));for(var" q,d="new" q,e="new" d,f="new" d,l="new" d,a="0,w=0;A<h.length;A+=9,w+=" 6){a.set(h[a+0],h[a+1],h[a+2]);b.set(h[a+3],h[a+4],h[a+5]);c.set(h[a+6],h[a+7],h[a+8]);e.set(m[w+0],m[w+1]);f.set(m[w+2],m[w+3]);l.set(m[w+4],m[w+5]);d.copy(a).add(b).add(c).dividescalar(3);var y="Math.atan2(d.z,-d.x);g(e,w+0,a,y);g(f,w+2,b,y);g(l,w+4,c,y)}for(a=0;a<m.length;a+=6)b=m[a+0],c=m[a+2],d=m[a+4],e=Math.min(b,c,d),.9<Math.max(b,c,d)&&.1">e&&(.2>b&&(m[a+0]+=1),.2>c&&(m[a+2]+=1),.2>d&&(m[a+4]+=1))})();this.addAttribute("position",new z(h,3));this.addAttribute("normal",new z(h.slice(),3));this.addAttribute("uv",new z(m,2));this.normalizeNormals()}function Jc(a,b){T.call(this);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Qb(a,b));this.mergeVertices()}function Qb(a,b){Ba.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Kc(a,b){T.call(this);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new ob(a,b));this.mergeVertices()}function ob(a,b){Ba.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Lc(a,b){T.call(this);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Rb(a,b));this.mergeVertices()}function Rb(a,b){var c=(1+Math.sqrt(5))/2;Ba.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Mc(a,b){T.call(this);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:b};this.fromBufferGeometry(new Sb(a,b));this.mergeVertices()}function Sb(a,b){var c=(1+Math.sqrt(5))/2,d=1/c;Ba.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b);this.type="DodecahedronBufferGeometry";this.parameters={radius:a,detail:b}}function Nc(a,b,c,d,e,f){T.call(this);this.type="TubeGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};void 0!==f&&console.warn("THREE.TubeGeometry: taper has been removed.");a=new Tb(a,b,c,d,e);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;this.fromBufferGeometry(a);this.mergeVertices()}function Tb(a,b,c,d,e){function f(e){var f=a.getPointAt(e/b),k=g.normals[e];e=g.binormals[e];for(p=0;p<=d;p++){var 0="==b.bevelThickness&&(b.bevelThickness=10);void" t="p/d*Math.PI*2,r=Math.sin(t),t=-Math.cos(t);m.x=t*k.x+r*e.x;m.y=t*k.y+r*e.y;m.z=t*k.z+r*e.z;m.normalize();l.push(m.x," m.y,m.z);h.x="f.x+c*m.x;h.y=f.y+c*m.y;h.z=f.z+c*m.z;n.push(h.x,h.y,h.z)}}I.call(this);this.type="TubeBufferGeometry";this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;var" g="a.computeFrenetFrames(b,e);this.tangents=g.tangents;this.normals=g.normals;this.binormals=g.binormals;var" h="new" q,m="new" q,k="new" d,t,p,n="[],l=[],G=[],r=[];for(t=0;t<b;t++)f(t);f(!1===e?b:0);for(t=0;t<=b;t++)for(p=0;p<=d;p++)k.x=t/b,k.y=p/d,G.push(k.x,k.y);(function(){for(p=" 1;p<="b;p++)for(t=1;t<=d;t++){var" a="(d+1)*p+(t-1),c=(d+1)*p+t,e=(d+1)*(p-1)+t;r.push((d+1)*(p-1)+(t-1),a,e);r.push(a,c,e)}})();this.setIndex(r);this.addAttribute("position",new" z(n,3));this.addattribute("normal",new z(l,3));this.addattribute("uv",new z(g,2))}function oc(a,b,c,d,e,f,g){t.call(this);this.type="TorusKnotGeometry" ;this.parameters="{radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};void" 0!="=g&&console.warn("THREE.TorusKnotGeometry:" heightscale has been deprecated. use .scale( x, y, z ) instead."); this.frombuffergeometry(new ub(a,b,c,d,e,f));this.mergevertices()}function ub(a,b,c,d,e,f){function g(a,b,c,d,e){var f="Math.sin(a);b=c/b*a;c=Math.cos(b);e.x=d*(2+c)*.5*Math.cos(a);e.y=d*(2+c)*f*.5;e.z=d*Math.sin(b)*.5}I.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f};a=a||100;b=b||40;c=Math.floor(c)||64;d=Math.floor(d)||8;e=e||2;f=f||3;var" q,g="new" q;new d;var r="new" q,a="new" q,w="new" q,y="new" q;for(p="0;p<=c;++p)for(n=p/c*e*Math.PI*2,g(n,e,f,a,r),g(n+.01,e,f,a,A),y.subVectors(A,r),K.addVectors(A,r),w.crossVectors(y,K),K.crossVectors(w,y),w.normalize(),K.normalize(),n=0;n<=d;++n){var" v="n/d*Math.PI*2,E=-b*Math.cos(v),v=b*Math.sin(v);l.x=r.x+(E*K.x+v*w.x);l.y=r.y+(E*K.y+v*w.y);l.z=r.z+(E*K.z+v*w.z);m.push(l.x,l.y,l.z);G.subVectors(l,r).normalize();k.push(G.x,G.y,G.z);t.push(p/c);t.push(n/d)}for(n=1;n<=c;n++)for(p=1;p<=d;p++)a=(d+1)*n+(p-1),b=(d+1)*n+p,e=(d+1)*(n-1)+p,h.push((d+1)*(n-1)+" (p-1),a,e),h.push(a,b,e);this.setindex(h);this.addattribute("position",new z(m,3));this.addattribute("normal",new z(k,3));this.addattribute("uv",new z(t,2))}function pc(a,b,c,d,e){t.call(this);this.type="TorusGeometry" vb(a,b,c,d,e))}function vb(a,b,c,d,e){i.call(this);this.type="TorusBufferGeometry" 8;d="Math.floor(d)||6;e=e||2*Math.PI;var" q,t="new" q,p="new" q,n,l;for(n="0;n<=c;n++)for(l=0;l<=d;l++){var" this.addattribute("position",new z(g,3));this.addattribute("normal",new z(h,3));this.addattribute("uv",new z(m,2))}function la(a,b){"undefined"!="=typeof" a&&(t.call(this),this.type="ExtrudeGeometry" ,a="Array.isArray(a)?a:[a],this.addShapeList(a,b),this.computeFaceNormals())}function" qc(a,b){b="b||{};var" c="b.font;if(!1===(c&&c.isFont))return" console.error("three.textgeometry: font parameter is not an instance of three.font."),new t;c="c.generateShapes(a,b.size,b.curveSegments);b.amount=void" b.height:50;void rc(a,b,c,d,e,f,g){t.call(this);this.type="SphereGeometry" pb(a,b,c,d,e,f,g))}function pb(a,b,c,d,e,f,g){i.call(this);this.type="SphereBufferGeometry" widthsegments:b,heightsegments:c,phistart:d,philength:e,thetastart:f,thetalength:g};a="a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void" q,l="new" y="[],K=k/c;for(m=0;m<=b;m++){var" a.push(l.x,l.y,l.z);w.push(v,1-k);y.push(t++)}p.push(y)}for(k="0;k<c;k++)for(m=0;m<b;m++)a=p[k][m+1],d=p[k][m],e=p[k+1][m],g=p[k+1][m+1],(0!==k||0<f)&&G.push(a,d,g),(k!==c-1||h<Math.PI)&&G.push(d,e,g);this.setIndex(G);this.addAttribute("position",new" z(r,3));this.addattribute("normal",new z(a,3));this.addattribute("uv",new z(w,2))}function sc(a,b,c,d,e,f){t.call(this);this.type="RingGeometry" wb(a, b,c,d,e,f))}function wb(a,b,c,d,e,f){i.call(this);this.type="RingBufferGeometry" d,g,r;for(g="0;G<=d;G++){for(r=0;r<=c;r++)a=e+r/c*f,n.x=t*Math.cos(a),n.y=t*Math.sin(a),h.push(n.x,n.y,n.z),m.push(0,0,1),l.x=(n.x/b+1)/2,l.y=(n.y/b+1)/" 2,k.push(l.x,l.y);t+="p}for(G=0;G<d;G++)for(b=G*(c+1),r=0;r<c;r++)a=r+b,e=a+c+1,f=a+c+2,t=a+1,g.push(a,e,t),g.push(e,f,t);this.setIndex(g);this.addAttribute("position",new" z(h,3));this.addattribute("normal",new z(m,3));this.addattribute("uv",new z(k,2))}function tc(a,b,c,d){t.call(this);this.type="LatheGeometry" xb(a,b,c,d));this.mergevertices()}function xb(a,b,c,d){i.call(this);this.type="LatheBufferGeometry" ; this.parameters="{points:a,segments:b,phiStart:c,phiLength:d};b=Math.floor(b)||12;c=c||0;d=d||2*Math.PI;d=N.clamp(d,0,2*Math.PI);var" e="[],f=[],g=[],h=1/b,m=new" d,t,p;for(t="0;t<=b;t++){p=c+t*h*d;var" n="Math.sin(p),l=Math.cos(p);for(p=0;p<=a.length-1;p++)m.x=a[p].x*n,m.y=a[p].y,m.z=a[p].x*l,f.push(m.x,m.y,m.z),k.x=t/b,k.y=p/(a.length-1),g.push(k.x,k.y)}for(t=0;t<b;t++)for(p=0;p<a.length-1;p++)c=p+t*a.length,h=c+a.length,m=c+a.length+1,k=c+1,e.push(c,h,k),e.push(h,m,k);this.setIndex(e);this.addAttribute("position"," new z(f,3));this.addattribute("uv",new z(g,2));this.computevertexnormals();if(d="==2*Math.PI)for(d=this.attributes.normal.array,e=new" q,f="new" q,c="b*a.length*3,p=t=0;t<a.length;t++,p+=3)e.x=d[p+0],e.y=d[p+1],e.z=d[p+2],f.x=d[c+p+0],f.y=d[c+p+1],f.z=d[c+p+2],g.addVectors(e,f).normalize(),d[p+0]=d[c+p+0]=g.x,d[p+1]=d[c+p+1]=g.y,d[p+2]=d[c+p+2]=g.z}function" yb(a,b){t.call(this);this.type="ShapeGeometry" ;"object"="==typeof" b&&(console.warn("three.shapegeometry: options removed."), b="b.curveSegments);this.parameters={shapes:a,curveSegments:b};this.fromBufferGeometry(new" zb(a,b));this.mergevertices()}function zb(a,b){function c(a){var c,h,k="e.length/3;a=a.extractPoints(b);var" l="a.shape,r=a.holes;if(!1===Ia.isClockWise(l))for(l=l.reverse(),a=0,c=r.length;a<c;a++)h=r[a],!0===Ia.isClockWise(h)&&(r[a]=h.reverse());var" q="Ia.triangulateShape(l,r);a=0;for(c=r.length;a<c;a++)h=r[a],l=l.concat(h);a=0;for(c=l.length;a<c;a++)h=l[a],e.push(h.x,h.y,0),f.push(0,0,1),g.push(h.x,h.y);a=0;for(c=" q.length;a<c;a++)l="q[a],d.push(l[0]+k,l[1]+k,l[2]+k),m+=3}I.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:a,curveSegments:b};b=b||12;var" d="[],e=[],f=[],g=[],h=0,m=0;if(!1===Array.isArray(a))c(a);else" for(var k="0;k<a.length;k++)c(a[k]),this.addGroup(h,m,k),h+=m,m=0;this.setIndex(d);this.addAttribute("position",new" z(e,3));this.addattribute("normal",new $b(a,b){function c(a,b){return a-b}i.call(this);this.type="EdgesGeometry" t,k.frombuffergeometry(a)):k="a.clone();k.mergeVertices();k.computeFaceNormals();var" p="0,n=k.length;p<n;p++)for(var">q;q++)f[0]=l[m[q]],f[1]=l[m[(q+1)%3]],f.sort(c),h=f.toString(),void 0===g[h]?g[h]={index1:f[0],index2:f[1],face1:p,face2:void 0}:g[h].face2=p;for(h in g)if(f=g[h],void 0===f.face2||k[f.face1].normal.dot(k[f.face2].normal)<= 0="==a)throw" e)m="t[f.index1],d.push(m.x,m.y,m.z),m=t[f.index2],d.push(m.x,m.y,m.z);this.addAttribute("position",new" z(d,3))}function qb(a,b,c,d,e,f,g,h){t.call(this);this.type="CylinderGeometry" ;this.parameters="{radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};this.fromBufferGeometry(new" va(a,b,c,d,e,f,g,h));this.mergevertices()}function va(a,b,c,d,e,f,g,h){function m(c){var e,f,m,r="new" d,c="new" q,f="0,x=!0===c?a:b,H=!0===c?1:-1;f=G;for(e=1;e<=d;e++)p.push(0," a*h,0),n.push(0,h,0),l.push(.5,.5),g++;m="G;for(e=0;e<=d;e++){var" aa="e/d*h+g,z=Math.cos(aa),aa=Math.sin(aa);C.x=x*aa;C.y=A*H;C.z=x*z;p.push(C.x,C.y,C.z);n.push(0,H,0);r.x=.5*z+.5;r.y=.5*aa*H+.5;l.push(r.x,r.y);G++}for(e=0;e<d;e++)r=f+e,C=m+e,!0===c?t.push(C,C+1,r):t.push(C+1,C,r),F+=3;k.addGroup(w,F,!0===c?1:2);w+=F}I.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};var" k="this;" a="void" 0!="=a?a:20;b=void" t="[],p=[],n=[],l=[],G=0,r=[],A=c/2,w=0;(function(){var" f,m,v="new" q,e="new" q,l="0,C=(b-a)/c;for(m=0;m<=e;m++){var" f="[],x=m/e,H=x*(b-a)+a;for(f=0;f<=d;f++){var" d="f/d,z=D*h+g,J=Math.sin(z),z=Math.cos(z);E.x=H*J;E.y=-x*c+A;E.z=H*z;p.push(E.x,E.y,E.z);v.set(J,C,z).normalize();n.push(v.x,v.y,v.z);l.push(D,1-x);F.push(G++)}r.push(F)}for(f=0;f<d;f++)for(m=" 0;m<e;m++)v="r[m+1][f],E=r[m+1][f+1],C=r[m][f+1],t.push(r[m][f],v,C),t.push(v,E,C),L+=6;k.addGroup(w,L,0);w+=L})();!1===f&&(0<a&&m(!0),0<b&&m(!1));this.setIndex(t);this.addAttribute("position",new" z(p,3));this.addattribute("normal",new z(n,3));this.addattribute("uv",new z(l,2))}function uc(a,b,c,d,e,f,g){qb.call(this,0,a,b,c,d,e,f,g);this.type="ConeGeometry" vc(a,b,c,d,e,f,g){va.call(this, 0,a,b,c,d,e,f,g);this.type="ConeBufferGeometry" wc(a,b,c,d){t.call(this);this.type="CircleGeometry" ac(a,b,c,d))}function ac(a,b,c,d){i.call(this);this.type="CircleBufferGeometry" c?c:0;d="void" e="[],f=[],g=[],h=[],m,k,t=new" q,p="new" d;f.push(0,0,0);g.push(0,0,1);h.push(.5,.5);k="0;for(m=3;k<=b;k++,m+=3){var" n="c+k/b*d;t.x=a*Math.cos(n);t.y=a*Math.sin(n);f.push(t.x,t.y,t.z);g.push(0,0,1);p.x=(f[m]/a+1)/2;p.y=(f[m+1]/a+1)/2;h.push(p.x,p.y)}for(m=1;m<=b;m++)e.push(m,m+1,0);this.setIndex(e);this.addAttribute("position",new" z(f,3));this.addattribute("normal",new z(g,3));this.addattribute("uv",new z(h,2))}function bc(){ha.call(this,{uniforms:ja.merge([v.lights, {opacity:{value:1}}]),vertexshader:z.shadow_vert,fragmentshader:z.shadow_frag});this.transparent="this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return" this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value="a}}})}function" cc(a){ha.call(this,a);this.type="RawShaderMaterial" }function xc(a){this.uuid="N.generateUUID();this.type="MultiMaterial";this.materials=Array.isArray(a)?a:[];this.visible=!0}function" qa(a){x.call(this);this.defines="{STANDARD:""};" this.type="MeshStandardMaterial" ;this.color="new" j(16777215);this.metalness="this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new" j(0);this.emissiveintensity="1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new" d(1,1);this.displacementmap="null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=" .98;this.wireframe="!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)}function" rb(a){qa.call(this);this.defines="{PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoatRoughness=this.clearCoat=0;this.setValues(a)}function" ca(a){x.call(this);this.type="MeshPhongMaterial" j(16777215);this.specular="new" j(1118481);this.shininess="30;this.lightMap=this.map=null;" this.lightmapintensity="1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new" this.morphtargets="this.skinning=!1;this.setValues(a)}function" sb(a){ca.call(this);this.defines="{TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(a)}function" tb(a){x.call(this,a);this.type="MeshNormalMaterial" ;this.bumpmap="null;this.bumpScale=1;this.normalMap=null;this.normalScale=new" !1;this.setvalues(a)}function ub(a){x.call(this);this.type="MeshLambertMaterial" j(16777215);this.lightmap="this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new" this.skinning="!1;this.setValues(a)}function" vb(a){x.call(this);this.type="LineDashedMaterial" j(16777215);this.scale="this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;this.setValues(a)}function" $d(a,b,c){var 0;this.onload="a;this.onProgress=b;this.onError=c;this.itemStart=function(a){g++;if(!1===e&&void" d.onload))d.onload()};this.itemerror="function(a){if(void" sa(a){this.manager="void" re(a){this.manager="void" ae(a){this.manager="void" yc(a){this.manager="void" be(a){this.manager="void" td(a){this.manager="void" ma(a,b){x.call(this);this.type="Light" j(a);this.intensity="void" void 0}function ud(a,b,c){ma.call(this,a,c);this.type="HemisphereLight" ;this.castshadow="void" 0;this.position.copy(x.defaultup);this.updatematrix();this.groundcolor="new" j(b)}function wb(a){this.camera="a;this.bias=0;this.radius=1;this.mapSize=new" d(512,512);this.map="null;this.matrix=new" s}function vd(){wb.call(this,new fa(50,1,.5,500))}function wd(a,b,c,d,e,f){ma.call(this,a,b);this.type="SpotLight" ;this.position.copy(x.defaultup);this.updatematrix();this.target="new" x;object.defineproperty(this,"power", {get:function(){return this.intensity*math.pi},set:function(a){this.intensity="a/Math.PI}});this.distance=void" vd}function xd(a,b,c,d){ma.call(this,a,b);this.type="PointLight" ;object.defineproperty(this,"power",{get:function(){return 4*this.intensity*math.pi},set:function(a){this.intensity="a/(4*Math.PI)}});this.distance=void" wb(new fa(90, 1,.5,500))}function yd(){wb.call(this,new jb(-5,5,5,-5,.5,500))}function zd(a,b){ma.call(this,a,b);this.type="DirectionalLight" x;this.shadow="new" yd}function ad(a,b){ma.call(this,a,b);this.type="AmbientLight" xa(a,b,c,d){this.parameterpositions="a;this._cachedIndex=0;this.resultBuffer=void" b.constructor(c);this.samplevalues="b;this.valueSize=c}function" bd(a,b,c,d){xa.call(this,a,b,c,d);this._offsetnext="this._weightNext=this._offsetPrev=this._weightPrev=-0}function" zc(a,b,c,d){xa.call(this,a,b,c,d)}function cd(a,b,c,d){xa.call(this,a,b,c,d)}function xb(a,b,c,d){if(void error("track name is undefined");if(void error("no keyframes in track named "+a);this.name="a;this.times=na.convertArray(b,this.TimeBufferType);this.values=na.convertArray(c,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation);this.validate();this.optimize()}function" dc(a,b, c,d){xb.call(this,a,b,c,d)}function dd(a,b,c,d){xa.call(this,a,b,c,d)}function $c(a,b,c,d){xb.call(this,a,b,c,d)}function ec(a,b,c,d){xb.call(this,a,b,c,d)}function ed(a,b,c,d){xb.call(this,a,b,c,d)}function fd(a,b,c){xb.call(this,a,b,c)}function gd(a,b,c,d){xb.call(this,a,b,c,d)}function yb(a,b,c,d){xb.apply(this,arguments)}function qa(a,b,c){this.name="a;this.tracks=c;this.duration=void">this.duration&&this.resetDuration();this.optimize()}function Hd(a){this.manager=void 0!==a?a:ta;this.textures={}}function ce(a){this.manager=void 0!==a?a:ta}function zb(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}}function de(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:ta;this.withCredentials=!1}function Se(a){this.manager=void 0!==a?a:ta;this.texturePath=""}function Te(a,b,c,d,e){b=.5*(d-b);e=.5*(e-c);var f=a*a;return(2*c-2*d+b+e)*a*f+(-3*c+3*d-2*b-e)*f+b*a+c}function Ab(a,b,c,d){var e=1-a;return e*e*b+2*(1-a)*a*c+a*a*d}function Bb(a,b,c,d,e){var f=1-a,g=1-a;return f*f*f*b+3*g*g*a*c+3*(1-a)*a*a*d+a*a*a*e}function ua(){}function Ta(a,b){this.v1=a;this.v2=b}function ad(){this.curves=[];this.autoClose=!1}function Wa(a,b,c,d,e,f,g,h){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g;this.aRotation=h||0}function Cb(a){this.points=void 0===a?[]:a}function fc(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d}function gc(a,b,c){this.v0=a;this.v1=b;this.v2=c}function bd(a){ad.call(this);this.currentPoint=new D;a&&this.fromPoints(a)}function Db(){bd.apply(this,arguments);this.holes=[]}function ee(){this.subPaths=[];this.currentPath=null}function fe(a){this.data=a}function Ue(a){this.manager=void 0!==a?a:ta}function ge(a){this.manager=void 0!==a?a:ta}function he(a,b,c,d){ma.call(this,a,b);this.type="RectAreaLight";this.position.set(0,1,0);this.updateMatrix();this.width=void 0!==c?c:10;this.height=void 0!==d?d:10}function Ve(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new Fa;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new Fa;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1}function Id(a,b,c){x.call(this);this.type="CubeCamera";var d=new Fa(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new q(1,0,0));this.add(d);var e=new Fa(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new q(-1,0,0));this.add(e);var f=new Fa(90,1,a,b);f.up.set(0,0,1);f.lookAt(new q(0,1,0));this.add(f);var g=new Fa(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new q(0,-1,0));this.add(g);var h=new Fa(90,1,a,b);h.up.set(0,-1,0);h.lookAt(new q(0,0,1));this.add(h);var m=new Fa(90,1,a,b);m.up.set(0,-1,0);m.lookAt(new q(0,0,-1));this.add(m);this.renderTarget=new Gb(c,c,{format:1022,magFilter:1006,minFilter:1006});this.updateCubeMap=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,n=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.texture.generateMipmaps=n;c.activeCubeFace=5;a.render(b,m,c);a.setRenderTarget(null)}}function ie(){x.call(this);this.type="AudioListener";this.context=je.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}function hc(a){x.call(this);this.type="Audio";this.context=a.context;this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.buffer=null;this.loop=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]}function ke(a){hc.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)}function le(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)}function Jd(a,b,c){this.binding=a;this.valueSize=c;a=Float64Array;switch(b){case "quaternion":b=this._slerp;break;case "string":case "bool":a=Array;b=this._select;break;default:b=this._lerp}this.buffer=new a(4*c);this._mixBufferRegion=b;this.referenceCount=this.useCount=this.cumulativeWeight=0}function ka(a,b,c){this.path=b;this.parsedPath=c||ka.parseTrackName(b);this.node=ka.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a}function me(a){this.uuid=N.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var b={};this._indicesByUUID=b;for(var c=0,d=arguments.length;c!==d;++c)b[arguments[c].uuid]=c;this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}function ne(a,b,c){this._mixer=a;this._clip=b;this._localRoot=c||null;a=b.tracks;b=a.length;c=Array(b);for(var d={endingStart:2400,endingEnd:2400},e=0;e!==b;++e){var f=a[e].createInterpolant(null);c[e]=f;f.settings=d}this._interpolantSettings=d;this._interpolants=c;this._propertyBindings=Array(b);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null;this.loop=2201;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function cd(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1}function Kd(a,b){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=b);this.value=a}function Eb(){I.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0}function oe(a,b,c,d){this.uuid=N.generateUUID();this.data=a;this.itemSize=b;this.offset=c;this.normalized=!0===d}function ic(a,b){this.uuid=N.generateUUID();this.array=a;this.stride=b;this.count=void 0!==a?a.length/b:0;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}function jc(a,b,c){ic.call(this,a,b);this.meshPerAttribute=c||1}function kc(a,b,c){U.call(this,a,b);this.meshPerAttribute=c||1}function pe(a,b,c,d){this.ray=new cb(a,b);this.near=c||0;this.far=d||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function We(a,b){return a.distance-b.distance}function qe(a,b,c,d){if(!1!==a.visible&&(a.raycast(b,c),!0===d)){a=a.children;d=0;for(var e=a.length;d<e;d++)qe(a[d],b,c,!0)}}function re(a){this.autostart="void" 0!="=a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1}function" se(a,b,c){this.radius="void" c?c:0;return this}function te(a,b,c){this.radius="void" oa(a,b){aa.call(this,a,b);this.animationsmap="{};this.animationsList=[];var" c="this.geometry.morphTargets.length;this.createAnimation("__default",0,c-1,c/1);this.setAnimationWeight("__default",1)}function" dd(a){x.call(this);this.material="a;this.render=function(a){}}function" ed(a,b,c,d){this.object="a;this.size=void" (c="this.object.geometry)&&c.isGeometry?b=3*c.faces.length:c&&c.isBufferGeometry&&(b=c.attributes.normal.count);c=new" i;b="new" z(6*b,3);c.addattribute("position",b);ga.call(this,c,new ia({color:a,linewidth:d}));this.matrixautoupdate="!1;this.update()}function" lc(a){x.call(this);this.light="a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new" i;for(var b="[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,d=1;32">c;c++,d++){var e=c/32*Math.PI*2,f=d/32*Math.PI*2;b.push(Math.cos(e),Math.sin(e),1,Math.cos(f),Math.sin(f),1)}a.addAttribute("position",new z(b,3));b=new ia({fog:!1});this.cone=new ga(a,b);this.add(this.cone);this.update()}function mc(a){this.bones=this.getBoneList(a);for(var b=new I,c=[],d=[],e=new J(0,0,1),f=new J(0,1,0),g=0;g<this.bones.length;g++){var 0="==b&&(b=1);var" h="this.bones[g];h.parent&&h.parent.isBone&&(c.push(0,0,0),c.push(0,0,0),d.push(e.r,e.g,e.b),d.push(f.r,f.g,f.b))}b.addAttribute("position",new" z(c,3));b.addattribute("color",new z(d,3)); c="new" ia({vertexcolors:2,depthtest:!1,depthwrite:!1,transparent:!0});ga.call(this,b,c);this.root="a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()}function" nc(a,b){this.light="a;this.light.updateMatrixWorld();var" pb(b,4,2),d="new" ka({wireframe:!0,fog:!1});d.color.copy(this.light.color).multiplyscalar(this.light.intensity);aa.call(this,c,d);this.matrix="this.light.matrixWorld;this.matrixAutoUpdate=!1}function" oc(a){x.call(this);this.light="a;this.light.updateMatrixWorld();var" b="new" ka({color:a.color,fog:!1});a="new" ka({color:a.color,fog:!1,wireframe:!0});var i;c.addattribute("position",new u(new float32array(18),3));this.add(new aa(c,b));this.add(new aa(c,a));this.update()}function pc(a,b){x.call(this);this.light="a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;var" ob(b);c.rotatey(.5*math.pi);var d="new" ka({vertexcolors:2,wireframe:!0}),e="c.getAttribute("position"),e=new" float32array(3*e.count);c.addattribute("color",new u(e, 3));this.add(new aa(c,d));this.update()}function fd(a,b,c,d){a="a||10;b=b||10;c=new" j(void 0!="=c?c:4473924);d=new" e="b/2,f=a/b,g=a/2;a=[];for(var" l="m===e?c:d;l.toArray(h,k);k+=3;l.toArray(h,k);k+=3;l.toArray(h,k);k+=3;l.toArray(h,k);k+=3}b=new" i;b.addattribute("position",new z(a,3));b.addattribute("color",new z(h,3));c="new" ia({vertexcolors:2});ga.call(this,b,c)}function ld(a,b,c,d,e,f){a="a||10;" g="[],h=[],m,k,t,l,n;for(t=0;t<=b;t++)k=t/b*2*Math.PI,m=Math.sin(k)*a,k=Math.cos(k)*a,g.push(0,0,0),g.push(m,0,k),n=t&1?e:f,h.push(n.r,n.g,n.b),h.push(n.r,n.g,n.b);for(t=0;t<=c;t++)for(n=t&1?e:f,l=a-a/c*t,b=0;b<d;b++)k=b/d*2*Math.PI,m=Math.sin(k)*l,k=Math.cos(k)*l,g.push(m,0,k),h.push(n.r,n.g,n.b),k=(b+1)/d*2*Math.PI,m=Math.sin(k)*l,k=Math.cos(k)*l,g.push(m,0,k),h.push(n.r,n.g,n.b);a=new" i;a.addattribute("position", new z(g,3));a.addattribute("color",new z(h,3));g="new" ia({vertexcolors:2});ga.call(this,a,g)}function gd(a,b,c,d){this.object="a;this.size=void" only three.geometry is supported. use three.vertexnormalshelper, instead.");c="new" i;b="new" z(6*b,3);c.addattribute("position",b);ga.call(this,c,new ia({color:a,linewidth:d}));this.matrixautoupdate="!1;this.update()}" function qc(a,b){x.call(this);this.light="a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;void" z([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));var ia({fog:!1});this.add(new ua(c,d));c="new" z([0,0,0,0,0,1],3));this.add(new ua(c,d));this.update()}function hd(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){f.push(0,0,0);g.push(b.r,b.g,b.b);void 3-1)}var i,e="new" ia({color:16777215,vertexcolors:1}),f="[],g=[],h={},m=new" j(16755200),k="new" j(16711680),l="new" j(43775),p="new" j(16777215),n="new" j(3355443);b("n1","n2",m);b("n2","n4",m);b("n4","n3",m);b("n3","n1",m);b("f1","f2",m);b("f2","f4",m);b("f4","f3",m);b("f3","f1",m);b("n1","f1",m);b("n2","f2",m);b("n3","f3",m);b("n4","f4",m);b("p","n1",k);b("p","n2",k);b("p","n3",k);b("p","n4",k);b("u1","u2",l);b("u2","u3",l);b("u3","u1",l);b("c","t",p);b("p","c",n);b("cn1","cn2",n);b("cn3","cn4",n); b("cf1","cf2",n);b("cf3","cf4",n);d.addattribute("position",new z(f,3));d.addattribute("color",new z(g,3));ga.call(this,d,e);this.camera="a;this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()}function" rc(a,b){void uint16array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d="new" float32array(24),e="new" i;e.setindex(new u(c,1));e.addattribute("position",new u(d,3));ga.call(this, e,new ia({color:b}));void fb(a,b,c,d,e,f){x.call(this);void i,md.addattribute("position",new z([0,0,0,0,1,0],3)),ue="new" va(0,.5,1,5,1),ue.translate(0,-.5,0));this.position.copy(b);this.line="new" ua(md,new ia({color:d}));this.line.matrixautoupdate="!1;this.add(this.line);this.cone=new" aa(ue,new ka({color:d}));this.cone.matrixautoupdate="!1;this.add(this.cone);this.setDirection(a);" this.setlength(c,e,f)}function nd(a){a="a||1;var" i;a.addattribute("position",new z(b,3));a.addattribute("color",new z([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));b="new" ia({vertexcolors:2});ga.call(this,a,b)}function ve(){var a="0,b=0,c=0,d=0;return{initCatmullRom:function(e,f,g,h,m){e=m*(g-e);h=m*(h-f);a=f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},initNonuniformCatmullRom:function(e,f,g,h,m,k,l){e=((f-e)/m-(g-e)/(m+k)+(g-f)/k)*k;h=((g-f)/k-(h-f)/(k+l)+(h-g)/" l)*k;a="f;b=e;c=-3*f+3*g-2*e-h;d=2*f-2*g+e+h},calc:function(e){var" f="e*e;return" a+b*e+c*f+d*f*e}}}function va(a){this.points="a||[];this.closed=!1}function" id(a,b,c,d){this.v0="a;this.v1=b;this.v2=c;this.v3=d}function" jd(a,b,c){this.v0="a;this.v1=b;this.v2=c}function" kd(a,b){this.v1="a;this.v2=b}function" od(a,b,c,d,e,f){wa.call(this,a,b,c,c,d,e,f)}function xe(a){console.warn("three.closedsplinecurve3 has been deprecated. three.catmullromcurve3 instead.");va.call(this,a);this.type="catmullrom" ;this.closed="!0}function" ye(a){console.warn("three.splinecurve3 }function we(a){console.warn("three.spline removed. }void>a?-1:0<a?1:+a});void 0="==Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return" this.tostring().match( ^\s*function\s*([^\(\s]*) )[1]}}); void new typeerror("cannot convert undefined or null to object");for(var b="Object(a),c=1;c<arguments.length;c++){var" d="arguments[c];if(void" 0!="=d&&null!==d)for(var" e in d)object.prototype.hasownproperty.call(d,e)&&(b[e]="d[e])}return" b}}();pa.prototype="{addEventListener:function(a,b){void" c="this._listeners;void" b){if(void n="{DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var" a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz" .split(""),b="Array(36),c=0,d;return" function(){for(var>e;e++)8===e||13===e||18===e||23===e?b[e]="-":14===e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19===e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(a){return a*N.DEG2RAD},radToDeg:function(a){return a*N.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};D.prototype={constructor:D,isVector2:!0,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,b){this.x=a;this.y=b;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new D,b=new D);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},distanceToManhattan:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);return this},rotateAround:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=this.x-a.x,f=this.y-a.y;this.x=e*c-f*d+a.x;this.y=e*d+f*c+a.y;return this}};var Ze=0;ea.DEFAULT_IMAGE=void 0;ea.DEFAULT_MAPPING=300;ea.prototype={constructor:ea,isTexture:!0,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var b={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=N.generateUUID());if(void 0===a.images[c.uuid]){var d=a.images,e=c.uuid,f=c.uuid,g;void 0!==c.toDataURL?g=c:(g=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),g.width=c.width,g.height=c.height,g.getContext("2d").drawImage(c,0,0,c.width,c.height));g=2048<g.width||2048<g.height?g.todataurl("image jpeg", .6):g.todataurl("image png");d[e]="{uuid:f,url:g}}b.image=c.uuid}return" a.textures[this.uuid]="b},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(300===this.mapping){a.multiply(this.repeat);a.add(this.offset);if(0">a.x||1<a.x)switch(this.wraps){case 1e3:a.x-="Math.floor(a.x);break;case" 1001:a.x="0">a.x?0:1;break;case 1002:a.x=1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapt){case 1e3:a.y-="Math.floor(a.y);break;case" 1001:a.y="0">a.y?0:1;break;case 1002:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};Object.assign(ea.prototype,pa.prototype);fa.prototype={constructor:fa,isVector4:!0,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;this.w+=a.w*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){var b,c,d;a=a.elements;var e=a[0];d=a[4];var f=a[8],g=a[1],h=a[5],m=a[9];c=a[2];b=a[6];var k=a[10];if(.01>Math.abs(d-g)&&.01>Math.abs(f-c)&&.01>Math.abs(m-b)){if(.1>Math.abs(d+g)&&.1>Math.abs(f+c)&&.1>Math.abs(m+b)&&.1>Math.abs(e+h+k-3))return this.set(1,0,0,0),this;a=Math.PI;e=(e+1)/2;h=(h+1)/2;k=(k+1)/2;d=(d+g)/4;f=(f+c)/4;m=(m+b)/4;e>h&&e>k?.01>e?(b=0,d=c=.707106781):(b=Math.sqrt(e),c=d/b,d=f/b):h>k?.01>h?(b=.707106781,c=0,d=.707106781):(c=Math.sqrt(h),b=d/c,d=m/c):.01>k?(c=b=.707106781,d=0):(d=Math.sqrt(k),b=f/d,c=m/d);this.set(b,c,d,a);return this}a=Math.sqrt((b-m)*(b-m)+(f-c)*(f-c)+(g-d)*(g-d));.001>Math.abs(a)&&(a=1);this.x=(b-m)/a;this.y=(f-c)/a;this.z=(g-d)/a;this.w=Math.acos((e+h+k-1)/2);return this},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));this.w=Math.max(a.w,Math.min(b.w,this.w));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new fa,b=new fa);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);this.w=a.getW(b);return this}};Ya.prototype={constructor:Ya,isWebGLRenderTarget:!0,setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};Object.assign(Ya.prototype,pa.prototype);Gb.prototype=Object.create(Ya.prototype);Gb.prototype.constructor=Gb;Gb.prototype.isWebGLRenderTargetCube=!0;ca.prototype={constructor:ca,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!1===(a&&a.isEuler))throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=Math.cos(a._x/2),d=Math.cos(a._y/2),e=Math.cos(a._z/2),f=Math.sin(a._x/2),g=Math.sin(a._y/2),h=Math.sin(a._z/2),m=a.order;"XYZ"===m?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"YXZ"===m?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):"ZXY"===m?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"ZYX"===m?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):"YZX"===m?(this._x=f*d*e+c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e-f*g*h):"XZY"===m&&(this._x=f*d*e-c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e+f*g*h);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function(a,b){var c=b/2,d=Math.sin(c);this._x=a.x*d;this._y=a.y*d;this._z=a.z*d;this._w=Math.cos(c);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],m=b[6],b=b[10],k=c+f+b;0<k?(c=.5 math.sqrt(k+1),this._w=".25/c,this._x=(m-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c">f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(m-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=.25*c,this._z=(g+m)/c):(c=2*Math.sqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+m)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new q);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,b){return void 0!==b?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},premultiply:function(a){return this.multiplyQuaternions(a,this)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z,f=a._w,g=b._x,h=b._y,m=b._z,k=b._w;this._x=c*k+f*g+d*m-e*h;this._y=d*k+f*h+e*g-c*m;this._z=e*k+f*m+c*h-d*g;this._w=f*k-c*g-d*h-e*m;this.onChangeCallback();return this},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w="f,this._x=c,this._y=d,this._z=e,this;var" h="Math.sqrt(1-g*g);if(.001">Math.abs(h))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),this;var m=Math.atan2(h,g),g=Math.sin((1-b)*m)/h,h=Math.sin(b*m)/h;this._w=f*g+this._w*h;this._x=c*g+this._x*h;this._y=d*g+this._y*h;this._z=e*g+this._z*h;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};Object.assign(ca,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var h=c[d+0],m=c[d+1],k=c[d+2];c=c[d+3];d=e[f+0];var l=e[f+1],p=e[f+2];e=e[f+3];if(c!==e||h!==d||m!==l||k!==p){f=1-g;var n=h*d+m*l+k*p+c*e,u=0<=n?1:-1,q=1-n*n;q>Number.EPSILON&&(q=Math.sqrt(q),n=Math.atan2(q,n*u),f=Math.sin(f*n)/q,g=Math.sin(g*n)/q);u*=g;h=h*f+d*u;m=m*f+l*u;k=k*f+p*u;c=c*f+e*u;f===1-g&&(g=1/Math.sqrt(h*h+m*m+k*k+c*c),h*=g,m*=g,k*=g,c*=g)}a[b]=h;a[b+1]=m;a[b+2]=k;a[b+3]=c}});q.prototype={constructor:q,isVector3:!0,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addScaledVector:function(a,b){this.x+=a.x*b;this.y+=a.y*b;this.z+=a.z*b;return this},sub:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a;return function(b){!1===(b&&b.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");void 0===a&&(a=new ca);return this.applyQuaternion(a.setFromEuler(b))}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new ca);return this.applyQuaternion(a.setFromAxisAngle(b,c))}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this.divideScalar(a[3]*b+a[7]*c+a[11]*d+a[15])},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,m=a*c+g*b-e*d,k=a*d+e*c-f*b,b=-e*b-f*c-g*d;this.x=h*a+b*-e+m*-g-k*-f;this.y=m*a+b*-f+k*-e-h*-g;this.z=k*a+b*-g+h*-f-m*-e;return this},project:function(){var a;return function(b){void 0===a&&(a=new S);a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld));return this.applyMatrix4(a)}}(),unproject:function(){var a;return function(b){void 0===a&&(a=new S);a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix));return this.applyMatrix4(a)}}(),transformDirection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;return this.normalize()},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},clamp:function(a,b){this.x=Math.max(a.x,Math.min(b.x,this.x));this.y=Math.max(a.y,Math.min(b.y,this.y));this.z=Math.max(a.z,Math.min(b.z,this.z));return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new q,b=new q);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.multiplyScalar(Math.max(a,Math.min(b,c))/c)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){if(void 0!==b)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);var c=this.x,d=this.y,e=this.z;this.x=d*a.z-e*a.y;this.y=e*a.x-c*a.z;this.z=c*a.y-d*a.x;return this},crossVectors:function(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;this.x=d*h-e*g;this.y=e*f-c*h;this.z=c*g-d*f;return this},projectOnVector:function(a){var b=a.dot(this)/a.lengthSq();return this.copy(a).multiplyScalar(b)},projectOnPlane:function(){var a;return function(b){void 0===a&&(a=new q);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===a&&(a=new q);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(N.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},distanceToManhattan:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)},setFromSpherical:function(a){var b=Math.sin(a.phi)*a.radius;this.x=b*Math.sin(a.theta);this.y=Math.cos(a.phi)*a.radius;this.z=b*Math.cos(a.theta);return this},setFromCylindrical:function(a){this.x=a.radius*Math.sin(a.theta);this.y=a.y;this.z=a.radius*Math.cos(a.theta);return this},setFromMatrixPosition:function(a){return this.setFromMatrixColumn(a,3)},setFromMatrixScale:function(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=b;this.y=c;this.z=a;return this},setFromMatrixColumn:function(a,b){if("number"===typeof a){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var c=a;a=b;b=c}return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromBufferAttribute:function(a,b,c){void 0!==c&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute().");this.x=a.getX(b);this.y=a.getY(b);this.z=a.getZ(b);return this}};S.prototype={constructor:S,isMatrix4:!0,set:function(a,b,c,d,e,f,g,h,m,k,l,p,n,u,q,r){var A=this.elements;A[0]=a;A[4]=b;A[8]=c;A[12]=d;A[1]=e;A[5]=f;A[9]=g;A[13]=h;A[2]=m;A[6]=k;A[10]=l;A[14]=p;A[3]=n;A[7]=u;A[11]=q;A[15]=r;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new S).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},copyPosition:function(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function(a,b,c){a.setFromMatrixColumn(this,0);b.setFromMatrixColumn(this,1);c.setFromMatrixColumn(this,2);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(b){void 0===a&&(a=new q);var c=this.elements,d=b.elements,e=1/a.setFromMatrixColumn(b,0).length(),f=1/a.setFromMatrixColumn(b,1).length();b=1/a.setFromMatrixColumn(b,2).length();c[0]=d[0]*e;c[1]=d[1]*e;c[2]=d[2]*e;c[4]=d[4]*f;c[5]=d[5]*f;c[6]=d[6]*f;c[8]=d[8]*b;c[9]=d[9]*b;c[10]=d[10]*b;return this}}(),makeRotationFromEuler:function(a){!1===(a&&a.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),c=Math.sin(c),g=Math.cos(d),d=Math.sin(d),h=Math.cos(e),e=Math.sin(e);if("XYZ"===a.order){a=f*h;var m=f*e,k=c*h,l=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=m+k*d;b[5]=a-l*d;b[9]=-c*g;b[2]=l-a*d;b[6]=k+m*d;b[10]=f*g}else"YXZ"===a.order?(a=g*h,m=g*e,k=d*h,l=d*e,b[0]=a+l*c,b[4]=k*c-m,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=m*c-k,b[6]=l+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,m=g*e,k=d*h,l=d*e,b[0]=a-l*c,b[4]=-f*e,b[8]=k+m*c,b[1]=m+k*c,b[5]=f*h,b[9]=l-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,m=f*e,k=c*h,l=c*e,b[0]=g*h,b[4]=k*d-m,b[8]=a*d+l,b[1]=g*e,b[5]=l*d+a,b[9]=m*d-k,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===a.order?(a=f*g,m=f*d,k=c*g,l=c*d,b[0]=g*h,b[4]=l-a*e,b[8]=k*e+m,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=m*e+k,b[10]=a-l*e):"XZY"===a.order&&(a=f*g,m=f*d,k=c*g,l=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+l,b[5]=f*h,b[9]=m*e-k,b[2]=k*e-m,b[6]=c*h,b[10]=l*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},makeRotationFromQuaternion:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w,g=c+c,h=d+d,m=e+e;a=c*g;var k=c*h,c=c*m,l=d*h,d=d*m,e=e*m,g=f*g,h=f*h,f=f*m;b[0]=1-(l+e);b[4]=k-f;b[8]=c+h;b[1]=k+f;b[5]=1-(a+e);b[9]=d-g;b[2]=c-h;b[6]=d+g;b[10]=1-(a+l);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a,b,c;return function(d,e,f){void 0===a&&(a=new q,b=new q,c=new q);var g=this.elements;c.subVectors(d,e).normalize();0===c.lengthSq()&&(c.z=1);a.crossVectors(f,c).normalize();0===a.lengthSq()&&(c.z+=1E-4,a.crossVectors(f,c).normalize());b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],m=c[12],k=c[1],l=c[5],p=c[9],n=c[13],u=c[2],q=c[6],r=c[10],A=c[14],w=c[3],y=c[7],K=c[11],c=c[15],v=d[0],E=d[4],L=d[8],C=d[12],F=d[1],x=d[5],H=d[9],D=d[13],z=d[2],J=d[6],I=d[10],Q=d[14],M=d[3],O=d[7],P=d[11],d=d[15];e[0]=f*v+g*F+h*z+m*M;e[4]=f*E+g*x+h*J+m*O;e[8]=f*L+g*H+h*I+m*P;e[12]=f*C+g*D+h*Q+m*d;e[1]=k*v+l*F+p*z+n*M;e[5]=k*E+l*x+p*J+n*O;e[9]=k*L+l*H+p*I+n*P;e[13]=k*C+l*D+p*Q+n*d;e[2]=u*v+q*F+r*z+A*M;e[6]=u*E+q*x+r*J+A*O;e[10]=u*L+q*H+r*I+A*P;e[14]=u*C+q*D+r*Q+A*d;e[3]=w*v+y*F+K*z+c*M;e[7]=w*E+y*x+K*J+c*O;e[11]=w*L+y*H+K*I+c*P;e[15]=w*C+y*D+K*Q+c*d;return this},multiplyToArray:function(a,b,c){var d=this.elements;this.multiplyMatrices(a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},applyToBufferAttribute:function(){var a;return function(b){void 0===a&&(a=new q);for(var c=0,d=b.count;c<d;c++)a.x=b.getx(c),a.y=b.gety(c),a.z=b.getz(c), 0="==a&&(a=new" a.applymatrix4(this),b.setxyz(c,a.x,a.y,a.z);return b}}(),determinant:function(){var a="this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],m=a[13],k=a[2],l=a[6],p=a[10],n=a[14];return" a[3]*(+e*h*l-d*m*l-e*g*p+c*m*p+d*g*n-c*h*n)+a[7]*(+b*h*n-b*m*p+e*f*p-d*f*n+d*m*k-e*h*k)+a[11]*(+b*m*l-b*g*n-e*f*l+c*f*n+e*g*k-c*m*k)+a[15]*(-d*g*k-b*h*l+b*g*p+d*f*l-c*f*p+c*h*k)},transpose:function(){var a[12];a[12]="b;b=a[7];a[7]=a[13];a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return" this},setposition:function(a){var b="this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return" this},getinverse:function(a,b){var c="this.elements,d=a.elements,e=d[0],f=d[1],g=d[2],h=d[3],m=d[4],k=d[5],l=d[6],p=d[7],n=d[8],u=d[9],q=d[10],r=d[11],A=d[12],w=d[13],y=d[14],d=d[15],K=u*y*p-w*q*p+w*l*r-k*y*r-u*l*d+k*q*d,v=A*q*p-n*y*p-A*l*r+m*y*r+n*l*d-m*q*d,E=n*w*p-A*u*p+A*k*r-m*w*r-n*k*d+m*u*d,L=A*u*l-n*w*l-A*k*q+m*w*q+n*k*y-m*u*y,C=e*K+" f*v+g*e+h*l;if(0="==C){if(!0===b)throw" error("three.matrix4.getinverse(): can't invert matrix, determinant is 0");console.warn("three.matrix4.getinverse(): 0");return this.identity()}c="1/C;c[0]=K*C;c[1]=(w*q*h-u*y*h-w*g*r+f*y*r+u*g*d-f*q*d)*C;c[2]=(k*y*h-w*l*h+w*g*p-f*y*p-k*g*d+f*l*d)*C;c[3]=(u*l*h-k*q*h-u*g*p+f*q*p+k*g*r-f*l*r)*C;c[4]=v*C;c[5]=(n*y*h-A*q*h+A*g*r-e*y*r-n*g*d+e*q*d)*C;c[6]=(A*l*h-m*y*h-A*g*p+e*y*p+m*g*d-e*l*d)*C;c[7]=(m*q*h-n*l*h+n*g*p-e*q*p-m*g*" r+e*l*r)*c;c[8]="E*C;c[9]=(A*u*h-n*w*h-A*f*r+e*w*r+n*f*d-e*u*d)*C;c[10]=(m*w*h-A*k*h+A*f*p-e*w*p-m*f*d+e*k*d)*C;c[11]=(n*k*h-m*u*h-n*f*p+e*u*p+m*f*r-e*k*r)*C;c[12]=L*C;c[13]=(n*w*g-A*u*g+A*f*q-e*w*q-n*f*y+e*u*y)*C;c[14]=(A*k*g-m*w*g-A*f*l+e*w*l+m*f*y-e*k*y)*C;c[15]=(m*u*g-n*k*g+n*f*l-e*u*l-m*f*q+e*k*q)*C;return" this},scale:function(a){var this},getmaxscaleonaxis:function(){var math.sqrt(math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},maketranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1);return this},makerotationx:function(a){var this},makerotationy:function(a){var this},makerotationz:function(a){var this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makerotationaxis:function(a,b){var this},makescale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},makeshear:function(a,b,c){this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1);return this},compose:function(a,b,c){this.makerotationfromquaternion(b);this.scale(c);this.setposition(a); return this},decompose:function(){var a,b;return function(c,d,e){void q,b="new" s);var f="this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),m=a.set(f[8],f[9],f[10]).length();0">this.determinant()&&(g=-g);c.x=f[12];c.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;var f=1/h,k=1/m;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=k;b.elements[9]*=k;b.elements[10]*=k;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=m;return this}}(),makePerspective:function(a,b,c,d,e,f){void 0===f&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(c-d);g[9]=(c+d)/(c-d);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return this},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=1/(b-a),m=1/(c-d),k=1/(f-e);g[0]=2*h;g[4]=0;g[8]=0;g[12]=-((b+a)*h);g[1]=0;g[5]=2*m;g[9]=0;g[13]=-((c+d)*m);g[2]=0;g[6]=0;g[10]=-2*k;g[14]=-((f+e)*k);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},equals:function(a){var b=this.elements;a=a.elements;for(var c=0;16>c;c++)if(b[c]!==a[c])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;16>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a}};Za.prototype=Object.create(ea.prototype);Za.prototype.constructor=Za;Za.prototype.isCubeTexture=!0;Object.defineProperty(Za.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});var Ee=new ea,Fe=new Za,Be=[],De=[];Je.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var f=c[d];f.setValue(a,b[f.id])}};var Rd=/([\w\d_]+)(\])?(\[|\.)?/g;$a.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};$a.prototype.set=function(a,b,c){var d=this.map[c];void 0!==d&&d.setValue(a,b[c],this.renderer)};$a.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};$a.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}};$a.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};var Ja={merge:function(a){for(var b={},c=0;c<a.length;c++){var d="this.clone(a[c]),e;for(e" in d)b[e]="d[e]}return" b},clone:function(a){var b="{},c;for(c" a){b[c]="{};for(var" a[c]){var e="a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return" b}},z="{alphamap_fragment:"#ifdef" use_alphamap\n\tdiffusecolor.a *="texture2D(" alphamap, vuv ).g;\n#endif\n", alphamap_pars_fragment:"#ifdef use_alphamap\n\tuniform sampler2d alphamap;\n#endif\n",alphatest_fragment:"#ifdef alphatest\n\tif ( diffusecolor.a < alphatest ) discard;\n#endif\n",aomap_fragment:"#ifdef use_aomap\n\tfloat ambientocclusion="(" texture2d( aomap, vuv2 ).r - 1.0 aomapintensity + 1.0;\n\treflectedlight.indirectdiffuse defined( use_envmap && physical )\n\t\tfloat dotnv="saturate(" dot( geometry.normal, geometry.viewdir );\n\t\treflectedlight.indirectspecular dotnv, ambientocclusion, material.specularroughness );\n\t#endif\n#endif\n", aomap_pars_fragment:"#ifdef use_aomap\n\tuniform aomap;\n\tuniform float aomapintensity;\n#endif",begin_vertex:"\nvec3 transformed="vec3(" position );\n",beginnormal_vertex:"\nvec3 objectnormal="vec3(" normal );\n",bsdfs:"float punctuallightintensitytoirradiancefactor( const lightdistance, cutoffdistance, decayexponent {\n\t\tif(> 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowcoord.y>= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool infrustum="all(" infrustumvec );\n\t\tbvec2 frustumtestvec="bvec2(" infrustum, shadowcoord.z <="1.0" frustumtest="all(" );\n\t\tif ( ) {\n\t\t#if defined( shadowmap_type_pcf )\n\t\t\tvec2 texelsize="vec2(" shadowmapsize;\n\t\t\tfloat dx0="-" texelsize.x * shadowradius;\n\t\t\tfloat dy0="-" texelsize.y dx1="+" dy1="+" shadowradius;\n\t\t\treturn (\n\t\t\t\ttexture2dcompare( shadowmap, shadowcoord.xy + vec2( dx0, ), +\n\t\t\t\ttexture2dcompare( 0.0, dx1, 0.0 shadowcoord.xy, )\n\t\t\t) 9.0 );\n\t\t#elif shadowmap_type_pcf_soft (\n\t\t\t\ttexture2dshadowlerp( shadowmapsize, +\n\t\t\t\ttexture2dshadowlerp( );\n\t\t#else\n\t\t\treturn texture2dcompare( );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubetouv( vec3 v, float texelsizey {\n\t\tvec3 absv="abs(" v );\n\t\tfloat scaletocube="1.0" max( absv.x, absv.y, absv.z );\n\t\tabsv - 2.0 );\n\t\tvec2 planar="v.xy;\n\t\tfloat" almostatexel="1.5" texelsizey;\n\t\tfloat almostone="1.0" almostatexel;\n\t\tif>= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};J.prototype={constructor:J,isColor:!0,r:1,g:1,b:1,set:function(a){a&&a.isColor?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function(a){this.b=this.g=this.r=a;return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(){function a(a,c,d){0>d&&(d+=1);1<d&&--d;return d<1 6?a+6*(c-a)*d:.5>d?c:d<2 3?a+6*(c-a)*(2 3-d):a}return function(b, c,d){b="N.euclideanModulo(b,1);c=N.clamp(c,0,1);d=N.clamp(d,0,1);0===c?this.r=this.g=this.b=d:(c=.5">=d?d*(1+c):d+c-d*c,d=2*d-c,this.r=a(d,c,b+1/3),this.g=a(d,c,b),this.b=a(d,c,b-1/3));return this}}(),setStyle:function(a){function b(b){void 0!==b&&1>parseFloat(b)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=c[2];switch(c[1]){case "rgb":case "rgba":if(c=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,b(c[5]),this;if(c=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,b(c[5]),this;break;case "hsl":case "hsla":if(c=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){var d=parseFloat(c[1])/360,e=parseInt(c[2],10)/100,f=parseInt(c[3],10)/100;b(c[5]);return this.setHSL(d,e,f)}}}else if(c=/^\#([A-Fa-f0-9]+)$/.exec(a)){c=c[1];d=c.length;if(3===d)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}a&&0<a.length&&(c=wf[a],void 0="==b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return" 0!="=" c?this.sethex(c):console.warn("three.color: unknown color "+a));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r="a.r;this.g=a.g;this.b=a.b;return" this},copygammatolinear:function(a,b){void this},copylineartogamma:function(a,b){void c="0<b?1/b:1;this.r=Math.pow(a.r,c);this.g=Math.pow(a.g,c);this.b=Math.pow(a.b,c);return" this},convertgammatolinear:function(){var a="this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return" this},convertlineartogamma:function(){this.r="Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return" this},gethex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},gethexstring:function(){return("000000"+this.gethex().tostring(16)).slice(-6)},gethsl:function(a){a="a||{h:0,s:0,l:0};var" b="this.r,c=this.g,d=this.b,e=Math.max(b,c,d),f=Math.min(b,c,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var" m="e-f,f=.5">=h?m/(e+f):m/(2-e-f);switch(e){case b:g=(c-d)/m+(c<d?6:0);break;case 0="==b&&(b=" c:g="(d-b)/m+2;break;case" d:g="(b-c)/m+4}g/=6}a.h=g;a.s=f;a.l=h;return" a},getstyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsethsl:function(a,b,c){var d="this.getHSL();d.h+=a;d.s+=b;d.l+=c;this.setHSL(d.h,d.s,d.l);return" this},add:function(a){this.r+="a.r;this.g+=a.g;this.b+=a.b;return" this},addcolors:function(a,b){this.r="a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return" this},addscalar:function(a){this.r+="a;this.g+=a;this.b+=a;return" this},sub:function(a){this.r="Math.max(0,this.r-a.r);this.g=Math.max(0,this.g-a.g);this.b=Math.max(0,this.b-a.b);return" this},multiply:function(a){this.r*="a.r;this.g*=a.g;this.b*=a.b;return" this},multiplyscalar:function(a){this.r*="a;this.g*=a;this.b*=a;return" this},lerp:function(a,b){this.r+="(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return" this},equals:function(a){return a.r="==this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){void" 0);this.r="a[b];this.g=a[b+1];this.b=a[b+2];return" this},toarray:function(a,b){void a},tojson:function(){return this.gethex()}};var wf="{aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981," cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146, floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323, lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273, moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797, silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eb.prototype="Object.create(ea.prototype);eb.prototype.constructor=eb;eb.prototype.isDataTexture=!0;var" v="{common:{diffuse:{value:new" j(15658734)},opacity:{value:1},map:{value:null},offsetrepeat:{value:new fa(0, 0,1,1)},specularmap:{value:null},alphamap:{value:null},envmap:{value:null},flipenvmap:{value:-1},reflectivity:{value:1},refractionratio:{value:.98}},aomap:{aomap:{value:null},aomapintensity:{value:1}},lightmap:{lightmap:{value:null},lightmapintensity:{value:1}},emissivemap:{emissivemap:{value:null}},bumpmap:{bumpmap:{value:null},bumpscale:{value:1}},normalmap:{normalmap:{value:null},normalscale:{value:new d(1,1)}},displacementmap:{displacementmap:{value:null},displacementscale:{value:1},displacementbias:{value:0}}, roughnessmap:{roughnessmap:{value:null}},metalnessmap:{metalnessmap:{value:null}},gradientmap:{gradientmap:{value:null}},fog:{fogdensity:{value:2.5e-4},fognear:{value:1},fogfar:{value:2e3},fogcolor:{value:new j(16777215)}},lights:{ambientlightcolor:{value:[]},directionallights:{value:[],properties:{direction:{},color:{},shadow:{},shadowbias:{},shadowradius:{},shadowmapsize:{}}},directionalshadowmap:{value:[]},directionalshadowmatrix:{value:[]},spotlights:{value:[],properties:{color:{},position:{}, direction:{},distance:{},conecos:{},penumbracos:{},decay:{},shadow:{},shadowbias:{},shadowradius:{},shadowmapsize:{}}},spotshadowmap:{value:[]},spotshadowmatrix:{value:[]},pointlights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowbias:{},shadowradius:{},shadowmapsize:{}}},pointshadowmap:{value:[]},pointshadowmatrix:{value:[]},hemispherelights:{value:[],properties:{direction:{},skycolor:{},groundcolor:{}}},rectarealights:{value:[],properties:{color:{},position:{}, width:{},height:{}}}},points:{diffuse:{value:new j(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetrepeat:{value:new fa(0,0,1,1)}}},bb="{basic:{uniforms:Ja.merge([V.common,V.aomap,V.lightmap,V.fog]),vertexShader:Z.meshbasic_vert,fragmentShader:Z.meshbasic_frag},lambert:{uniforms:Ja.merge([V.common,V.aomap,V.lightmap,V.emissivemap,V.fog,V.lights,{emissive:{value:new" j(0)}}]),vertexshader:z.meshlambert_vert,fragmentshader:z.meshlambert_frag},phong:{uniforms:ja.merge([v.common, v.aomap,v.lightmap,v.emissivemap,v.bumpmap,v.normalmap,v.displacementmap,v.gradientmap,v.fog,v.lights,{emissive:{value:new j(0)},specular:{value:new j(1118481)},shininess:{value:30}}]),vertexshader:z.meshphong_vert,fragmentshader:z.meshphong_frag},standard:{uniforms:ja.merge([v.common,v.aomap,v.lightmap,v.emissivemap,v.bumpmap,v.normalmap,v.displacementmap,v.roughnessmap,v.metalnessmap,v.fog,v.lights,{emissive:{value:new j(0)},roughness:{value:.5},metalness:{value:0},envmapintensity:{value:1}}]), vertexshader:z.meshphysical_vert,fragmentshader:z.meshphysical_frag},points:{uniforms:ja.merge([v.points,v.fog]),vertexshader:z.points_vert,fragmentshader:z.points_frag},dashed:{uniforms:ja.merge([v.common,v.fog,{scale:{value:1},dashsize:{value:1},totalsize:{value:2}}]),vertexshader:z.linedashed_vert,fragmentshader:z.linedashed_frag},depth:{uniforms:ja.merge([v.common,v.displacementmap]),vertexshader:z.depth_vert,fragmentshader:z.depth_frag},normal:{uniforms:ja.merge([v.common,v.bumpmap,v.normalmap, v.displacementmap,{opacity:{value:1}}]),vertexshader:z.normal_vert,fragmentshader:z.normal_frag},cube:{uniforms:{tcube:{value:null},tflip:{value:-1},opacity:{value:1}},vertexshader:z.cube_vert,fragmentshader:z.cube_frag},equirect:{uniforms:{tequirect:{value:null},tflip:{value:-1}},vertexshader:z.equirect_vert,fragmentshader:z.equirect_frag},distancergba:{uniforms:{lightpos:{value:new q}},vertexshader:z.distancergba_vert,fragmentshader:z.distancergba_frag}};bb.physical="{uniforms:Ja.merge([bb.standard.uniforms," {clearcoat:{value:0},clearcoatroughness:{value:0}}]),vertexshader:z.meshphysical_vert,fragmentshader:z.meshphysical_frag};sc.prototype="{constructor:sc,set:function(a,b){this.min.copy(a);this.max.copy(b);return" this},setfrompoints:function(a){this.makeempty();for(var b="0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return" this},setfromcenterandsize:function(){var a="new" d;return function(b,c){var this}}(),clone:function(){return(new this.constructor).copy(this)}, copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeempty:function(){this.min.x="this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return" this},isempty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getcenter:function(a){a="a||new" this.isempty()?a.set(0,0):a.addvectors(this.min,this.max).multiplyscalar(.5)},getsize:function(a){a="a||new" this.isempty()?a.set(0,0):a.subvectors(this.max,this.min)},expandbypoint:function(a){this.min.min(a);this.max.max(a); return this},expandbyvector:function(a){this.min.sub(a);this.max.add(a);return this},expandbyscalar:function(a){this.min.addscalar(-a);this.max.addscalar(a);return this},containspoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getparameter:function(a,b){return(b||new d).set((a.x-this.min.x) (this.max.x-this.min.x),(a.y-this.min.y) (this.max.y- this.min.y))},intersectsbox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},clampPoint:function(a,b){return(b||new D).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new D;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};var Af=0;X.prototype={constructor:X,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)console.warn("THREE.Material: '"+b+"' parameter is undefined.");else{var d=this[b];void 0===d?console.warn("THREE."+this.type+": '"+b+"' is not a property of this material."):d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]="overdraw"===b?Number(c):c}}},toJSON:function(a){function b(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var c=void 0===a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color&&this.color.isColor&&(d.color=this.color.getHex());void 0!==this.roughness&&(d.roughness=this.roughness);void 0!==this.metalness&&(d.metalness=this.metalness);this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex());this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);void 0!==this.clearCoat&&(d.clearCoat=this.clearCoat);void 0!==this.clearCoatRoughness&&(d.clearCoatRoughness=this.clearCoatRoughness);this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid);this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);1!==this.blending&&(d.blending=this.blending);2!==this.shading&&(d.shading=this.shading);0!==this.side&&(d.side=this.side);0!==this.vertexColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);d.depthFunc=this.depthFunc;d.depthTest=this.depthTest;d.depthWrite=this.depthWrite;0<this.alphatest&&(d.alphatest=this.alphatest);!0===this.premultipliedalpha&&(d.premultipliedalpha=this.premultipliedalpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframelinewidth&&(d.wireframelinewidth=this.wireframelinewidth);"round"!==this.wireframelinecap&&(d.wireframelinecap=this.wireframelinecap);"round"!==this.wireframelinejoin&&(d.wireframelinejoin=this.wireframelinejoin);d.skinning=this.skinning;d.morphtargets=this.morphtargets; c&&(c="b(a.textures),a=b(a.images),0<c.length&&(d.textures=c),0<a.length&&(d.images=a));return" d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name="a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.shading=a.shading;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=" a.blenddstalpha;this.blendequationalpha="a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;this.clipIntersection=a.clipIntersection;" a="a.clippingPlanes;var" b="null;if(null!==a)for(var" c="a.length,b=Array(c),d=0;d!==c;++d)b[d]=a[d].clone();this.clippingPlanes=b;return" this},update:function(){this.dispatchevent({type:"update"})},dispose:function(){this.dispatchevent({type:"dispose"})}};object.assign(x.prototype,pa.prototype);ha.prototype="Object.create(X.prototype);Ha.prototype.constructor=Ha;Ha.prototype.isShaderMaterial=!0;Ha.prototype.copy=function(a){X.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=" a.vertexshader;this.uniforms="Ja.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=a.extensions;return" this};ha.prototype.tojson="function(a){a=X.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return" a};ab.prototype="Object.create(X.prototype);ab.prototype.constructor=ab;ab.prototype.isMeshDepthMaterial=!0;ab.prototype.copy=function(a){X.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return" this};pa.prototype="{constructor:Pa,isBox3:!0,set:function(a,b){this.min.copy(a);this.max.copy(b);return" this},setfromarray:function(a){for(var k="a[h],l=a[h+1],p=a[h+2];k<b&&(b=k);l<c&&(c=l);p<d&&(d=p);k">e&&(e=k);l>f&&(f=l);p>g&&(g=p)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromBufferAttribute:function(a){for(var b=Infinity,c=Infinity,d=Infinity,e=-Infinity,f=-Infinity,g=-Infinity,h=0,m=a.count;h<m;h++){var k="a.getX(h),l=a.getY(h),p=a.getZ(h);k<b&&(b=k);l<c&&(c=l);p<d&&(d=p);k">e&&(e=k);l>f&&(f=l);p>g&&(g=p)}this.min.set(b,c,d);this.max.set(e,f,g);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandbypoint(a[b]);return this},setfromcenterandsize:function(){var a="new" q;return function(b,c){var d="a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(d);this.max.copy(b).add(d);return" this}}(),setfromobject:function(a){this.makeempty();return this.expandbyobject(a)}, clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeempty:function(){this.min.x="this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return" this},isempty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getcenter:function(a){a="a||new" this.isempty()?a.set(0,0,0):a.addvectors(this.min,this.max).multiplyscalar(.5)},getsize:function(a){a="a||new" this.isempty()? a.set(0,0,0):a.subvectors(this.max,this.min)},expandbypoint:function(a){this.min.min(a);this.max.max(a);return this},expandbyvector:function(a){this.min.sub(a);this.max.add(a);return this},expandbyscalar:function(a){this.min.addscalar(-a);this.max.addscalar(a);return this},expandbyobject:function(){var function(b){var c="this;b.updateMatrixWorld(!0);b.traverse(function(b){var" e,f;e="b.geometry;if(void" 0!="=e)if(e.isGeometry){var" g="e.vertices;e=0;for(f=g.length;e<f;e++)a.copy(g[e]),a.applyMatrix4(b.matrixWorld)," c.expandbypoint(a)}else if(e.isbuffergeometry&&(g="e.attributes.position,void" this}}(),containspoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getparameter:function(a, b){return(b||new q).set((a.x-this.min.x) (this.max.x-this.min.x),(a.y-this.min.y) (this.max.y-this.min.y),(a.z-this.min.z) (this.max.z-this.min.z))},intersectsbox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(b){void 0===a&&(a=new q);this.clampPoint(b.center,a);return a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsplane:function(a){var b, c;0<a.normal.x?(b="a.normal.x*this.min.x,c=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,c=a.normal.x*this.min.x);0<a.normal.y?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y);0<a.normal.z?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z);return" b<="a.constant&&c">=a.constant},clampPoint:function(a,b){return(b||new q).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new q;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new q;return function(b){b=b||new Na;this.getCenter(b.center);b.radius=.5*this.getSize(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new q,new q,new q,new q,new q,new q,new q,new q];return function(b){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};Na.prototype={constructor:Na,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a;return function(b,c){void 0===a&&(a=new Pa);var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).getCenter(d);for(var e=0,f=0,g=b.length;f<g;f++)e=math.max(e,d.distancetosquared(b[f]));this.radius=math.sqrt(e);return 0 this}}(),clone:function(){return(new this.constructor).copy(this)}, copy:function(a){this.center.copy(a.center);this.radius="a.radius;return" this},empty:function(){return>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distancetopoint:function(a){return a.distanceto(this.center)-this.radius},intersectssphere:function(a){var b="this.radius+a.radius;return" a.center.distancetosquared(this.center)<="b*b},intersectsBox:function(a){return" a.intersectssphere(this)},intersectsplane:function(a){return math.abs(this.center.dot(a.normal)- a.constant)<="this.radius},clampPoint:function(a,b){var" c="this.center.distanceToSquared(a),d=b||new" q;d.copy(a);c>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center));return d},getBoundingBox:function(a){a=a||new Pa;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}};ya.prototype={constructor:ya,isMatrix3:!0,set:function(a,b,c,d,e,f,g,h,m){var k=this.elements;k[0]=a;k[1]=d;k[2]=g;k[3]=b;k[4]=e;k[5]=h;k[6]=c;k[7]=f;k[8]=m;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},setFromMatrix4:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToBufferAttribute:function(){var a;return function(b){void 0===a&&(a=new q);for(var c=0,d=b.count;c<d;c++)a.x=b.getx(c),a.y=b.gety(c),a.z=b.getz(c),a.applymatrix3(this),b.setxyz(c,a.x,a.y,a.z);return 0="==b&&(b=0);for(var" b}}(),multiplyscalar:function(a){var b="this.elements;b[0]*=a;b[3]*=a;b[6]*=a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return" this},determinant:function(){var a="this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],m=a[7],a=a[8];return" b*f*a-b*g*m-c*e* a+c*g*h+d*e*m-d*f*h},getinverse:function(a,b){a&&a.ismatrix4&&console.error("three.matrix3.getinverse no longer takes matrix4 argument.");var c="a.elements,d=this.elements,e=c[0],f=c[1],g=c[2],h=c[3],m=c[4],k=c[5],l=c[6],p=c[7],c=c[8],n=c*m-k*p,u=k*l-c*h,q=p*h-m*l,r=e*n+f*u+g*q;if(0===r){if(!0===b)throw" error("three.matrix3.getinverse(): can't invert matrix, determinant is 0");console.warn("three.matrix3.getinverse(): 0");return this.identity()}r="1/r;d[0]=n*r;" d[1]="(g*p-c*f)*r;d[2]=(k*f-g*m)*r;d[3]=u*r;d[4]=(c*e-g*l)*r;d[5]=(g*h-k*e)*r;d[6]=q*r;d[7]=(f*l-p*e)*r;d[8]=(m*e-f*h)*r;return" this},transpose:function(){var a,b="this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return" this},getnormalmatrix:function(a){return this.setfrommatrix4(a).getinverse(this).transpose()},transposeintoarray:function(a){var this}, fromarray:function(a,b){void>c;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a}};la.prototype={constructor:la,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new q,b=new q;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,c);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,b){var c=this.distanceToPoint(a);return(b||new q).copy(this.normal).multiplyScalar(c)},intersectLine:function(){var a=new q;return function(b,c){var d=c||new q,e=b.delta(a),f=this.normal.dot(e);if(0===f){if(0===this.distanceToPoint(b.start))return d.copy(b.start)}else return f=-(b.start.dot(this.normal)+this.constant)/f,0>f||1<f?void 0 0:d.copy(e).multiplyscalar(f).add(b.start)}}(),intersectsline:function(a){var b="this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return">b&&0<a||0>a&&0<b},intersectsbox:function(a){return a.intersectsplane(this)},intersectssphere:function(a){return a.intersectsplane(this)},coplanarpoint:function(a){return(a||new q).copy(this.normal).multiplyscalar(-this.constant)}, applymatrix4:function(){var a="new" q,b="new" ya;return function(c,d){var e="this.coplanarPoint(a).applyMatrix4(c),f=d||b.getNormalMatrix(c),f=this.normal.applyMatrix3(f).normalize();this.constant=-e.dot(f);return" this}}(),translate:function(a){this.constant-="a.dot(this.normal);return" this},equals:function(a){return a.normal.equals(this.normal)&&a.constant="==this.constant}};tc.prototype={constructor:tc,set:function(a,b,c,d,e,f){var" g="this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);" g[5].copy(f);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b="this.planes,c=0;6">c;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],k=c[7],l=c[8],p=c[9],n=c[10],u=c[11],q=c[12],r=c[13],A=c[14],c=c[15];b[0].setComponents(f-a,k-g,u-l,c-q).normalize();b[1].setComponents(f+a,k+g,u+l,c+q).normalize();b[2].setComponents(f+d,k+h,u+p,c+r).normalize();b[3].setComponents(f-d,k-h,u-p,c-r).normalize();b[4].setComponents(f-e,k-m,u-n,c-A).normalize();b[5].setComponents(f+e,k+m,u+n,c+A).normalize();return this},intersectsObject:function(){var a=new Na;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new Na;return function(b){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsbox:function(){var a="new" q,b="new" q;return function(c){for(var d="this.planes,e=0;6">e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g="f.distanceToPoint(a),f=f.distanceToPoint(b);if(0">g&&0>f)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0}};cb.prototype={constructor:cb,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new q).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new q;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,b){var c=b||new q;c.subVectors(a,this.origin);var d=c.dot(this.direction);return 0>d?c.copy(this.origin):c.copy(this.direction).multiplyScalar(d).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new q;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceToSquared(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);return a.distanceToSquared(b)}}(),distanceSqToSegment:function(){var a=new q,b=new q,c=new q;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),m=-this.direction.dot(b),k=c.dot(this.direction),l=-c.dot(b),p=c.lengthSq(),n=Math.abs(1-m*m),u;0<n?(d=m*l-k,e=m*k-l,u=h*n,0<=d?e>=-u?e<=u?(h=1 n,d*="h,e*=h,m=d*(d+m*e+2*k)+e*(m*d+e+2*l)+p):(e=h,d=Math.max(0,-(m*" e+k)),m="-d*d+e*(e+2*l)+p):(e=-h,d=Math.max(0,-(m*e+k)),m=-d*d+e*(e+2*l)+p):e<=-u?(d=Math.max(0,-(-m*h+k)),e=0<d?-h:Math.min(Math.max(-h,-l),h),m=-d*d+e*(e+2*l)+p):e<=u?(d=0,e=Math.min(Math.max(-h,-l),h),m=e*(e+2*l)+p):(d=Math.max(0,-(m*h+k)),e=0<d?h:Math.min(Math.max(-h,-l),h),m=-d*d+e*(e+2*l)+p)):(e=0<m?-h:h,d=Math.max(0,-(m*e+k)),m=-d*d+e*(e+2*l)+p);f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return" m}}(),intersectsphere:function(){var a="new" q; return function(b,c){a.subvectors(b.center,this.origin);var d="a.dot(this.direction),e=a.dot(a)-d*d,f=b.radius*b.radius;if(e">f)return null;f=Math.sqrt(f-e);e=d-f;d+=f;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},distancetoplane:function(a){var 0="==a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return" b="a.normal.dot(this.direction);if(0===b)return" 0<="a?a:null},intersectPlane:function(a," b){var c="this.distanceToPlane(a);return" null="==c?null:this.at(c,b)},intersectsPlane:function(a){var">a.normal.dot(this.direction)*b?!0:!1},intersectBox:function(a,b){var c,d,e,f,g;d=1/this.direction.x;f=1/this.direction.y;g=1/this.direction.z;var h=this.origin;0<=d?(c=(a.min.x-h.x)*d,d*=a.max.x-h.x):(c=(a.max.x-h.x)*d,d*=a.min.x-h.x);0<=f?(e=(a.min.y-h.y)*f,f*=a.max.y-h.y):(e=(a.max.y-h.y)*f,f*=a.min.y-h.y);if(c>f||e>d)return null;if(e>c||c!==c)c=e;if(f<d||d!==d)d=f;0<=g?(e=(a.min.z-h.z)*g,g*=a.max.z-h.z):(e=(a.max.z-h.z)*g,g*=a.min.z-h.z);if(c>g||e>d)return null;if(e>c||c!==c)c=e;if(g<d||d!==d)d=g;return 0>d?null:this.at(0<=c?c:d,b)},intersectsbox:function(){var a="new" q;return function(b){return null!="=this.intersectBox(b,a)}}(),intersectTriangle:function(){var" q,b="new" q,c="new" q,d="new" function(e,f,g,h,m){b.subvectors(f,e);c.subvectors(g,e);d.crossvectors(b,c);f="this.direction.dot(d);if(0<f){if(h)return" null;h="1}else" if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,m)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};db.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");db.DefaultOrder="XYZ";db.prototype={constructor:db,isEuler:!0,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=N.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],m=e[5],k=e[9],l=e[2],p=e[6],e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-k,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(p,m),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(k,-1,1)),.99999>Math.abs(k)?(this._y=Math.atan2(g,e),this._z=Math.atan2(h,m)):(this._y=Math.atan2(-l,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(p,-1,1)),.99999>Math.abs(p)?(this._y=Math.atan2(-l,e),this._z=Math.atan2(-f,m)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===b?(this._y=Math.asin(-d(l,-1,1)),.99999>Math.abs(l)?(this._x=Math.atan2(p,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,m))):"YZX"===b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-k,m),this._y=Math.atan2(-l,a)):(this._x=0,this._y=Math.atan2(g,e))):"XZY"===b?(this._z=Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(p,m),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-k,e),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new S);a.makeRotationFromQuaternion(b);return this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new ca;return function(b){a.setFromEuler(this);return this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new q(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};nd.prototype={constructor:nd,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0="==a||""===a,d={};c&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var" 0!="=(this.mask&a.mask)}};var" bf="0;x.DefaultUp=new" q(0,1,0);x.defaultmatrixautoupdate="!0;x.prototype={constructor:x,isObject3D:!0,applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var" a="new" ca;return function(b, c){a.setfromaxisangle(b,c);this.quaternion.multiply(a);return this}}(),rotatex:function(){var q(1,0,0);return function(b){return this.rotateonaxis(a,b)}}(),rotatey:function(){var q(0,1,0);return this.rotateonaxis(a,b)}}(),rotatez:function(){var q(0,0,1);return this.rotateonaxis(a,b)}}(),translateonaxis:function(){var q;return function(b,c){a.copy(b).applyquaternion(this.quaternion);this.position.add(a.multiplyscalar(c));return this}}(), translatex:function(){var this.translateonaxis(a,b)}}(),translatey:function(){var this.translateonaxis(a,b)}}(),translatez:function(){var this.translateonaxis(a,b)}}(),localtoworld:function(a){return a.applymatrix4(this.matrixworld)},worldtolocal:function(){var s;return b.applymatrix4(a.getinverse(this.matrixworld))}}(),lookat:function(){var function(b){a.lookat(b, this.position,this.up);this.quaternion.setfromrotationmatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b="0;b<arguments.length;b++)this.add(arguments[b]);return" this}if(a="==this)return" console.error("three.object3d.add: object can't be added as child of itself.",a),this;a&&a.isobject3d?(null!="=a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add:" not an instance three.object3d.",a);return this},remove:function(a){if(1< arguments.length)for(var this.getobjectbyproperty("id",a)},getobjectbyname:function(a){return this.getobjectbyproperty("name",a)},getobjectbyproperty:function(a,b){if(this[a]="==b)return" this;for(var c="0,d=this.children.length;c<d;c++){var" e="this.children[c].getObjectByProperty(a,b);if(void" e}}, getworldposition:function(a){a="a||new" q;this.updatematrixworld(!0);return a.setfrommatrixposition(this.matrixworld)},getworldquaternion:function(){var q,b="new" function(c){c="c||new" ca;this.updatematrixworld(!0);this.matrixworld.decompose(a,c,b);return c}}(),getworldrotation:function(){var function(b){b="b||new" db;this.getworldquaternion(a);return b.setfromquaternion(a,this.rotation.order,!1)}}(),getworldscale:function(){var q; this.updatematrixworld(!0);this.matrixworld.decompose(a,b,c);return c}}(),getworlddirection:function(){var q;this.getworldquaternion(a);return b.set(0,0,1).applyquaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var null!="=b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var" tojson:function(a){function b(a){var in a){var d="a[c];delete" d.metadata;b.push(d)}return b}var (e.visible="!1);e.matrix=this.matrix.toArray();void" f="0;f<this.children.length;f++)e.children.push(this.children[f].toJSON(a).object)}if(c){var" d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){void a.matrixautoupdate;this.matrixworldneedsupdate="a.matrixWorldNeedsUpdate;this.layers.mask=a.layers.mask;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===b)for(var" this}};object.assign(x.prototype,pa.prototype);hb.prototype="{constructor:hb,set:function(a,b){this.start.copy(a);" this.end.copy(b);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},getcenter:function(a){return(a||new q).addvectors(this.start,this.end).multiplyscalar(.5)},delta:function(a){return(a||new q).subvectors(this.end,this.start)},distancesq:function(){return this.start.distancetosquared(this.end)},distance:function(){return this.start.distanceto(this.end)},at:function(a,b){var this.delta(c).multiplyscalar(a).add(this.start)}, closestpointtopointparameter:function(){var function(c,d){a.subvectors(c,this.start);b.subvectors(this.end,this.start);var e}}(),closestpointtopoint:function(a,b,c){a="this.closestPointToPointParameter(a,b);c=c||new" this.delta(c).multiplyscalar(a).add(this.start)},applymatrix4:function(a){this.start.applymatrix4(a);this.end.applymatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}}; za.normal="function(){var" function(b,c,d,e){e="e||new" q;e.subvectors(d,c);a.subvectors(b,c);e.cross(a);b="e.lengthSq();return" 0<b?e.multiplyscalar(1 math.sqrt(b)):e.set(0,0,0)}}();za.barycoordfrompoint="function(){var" q,c="new" function(d,e,f,g,h){a.subvectors(g,e);b.subvectors(f,e);c.subvectors(d,e);d="a.dot(a);e=a.dot(b);f=a.dot(c);var" m="b.dot(b);g=b.dot(c);var" k="d*m-e*e;h=h||new" q;if(0="==k)return" h.set(-2,-1,-1);k="1/k;m=(m*f-e*g)*k;d=(d*g-e*f)*k;return" h.set(1-m- d,d,m)}}();za.containspoint="function(){var" function(b,c,d,e){b="za.barycoordFromPoint(b,c,d,e,a);return" 0<="b.x&&0<=b.y&&1">=b.x+b.y}}();za.prototype={constructor:za,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new q,b=new q;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*a.cross(b).length()}}(),midpoint:function(a){return(a||new q).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return za.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new la).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return za.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return za.containsPoint(a,this.a,this.b,this.c)},closestPointToPoint:function(){var a,b,c,d;return function(e,f){void 0===a&&(a=new la,b=[new hb,new hb,new hb],c=new q,d=new q);var g=f||new q,h=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);a.projectPoint(e,c);if(!0===this.containsPoint(c))g.copy(c);else{b[0].set(this.a,this.b);b[1].set(this.b,this.c);b[2].set(this.c,this.a);for(var m=0;m<b.length;m++){b[m].closestpointtopoint(c,!0,d);var 0="==f&&(console.warn("THREE.BufferAttribute.copyColorsArray():" k="c.distanceToSquared(d);k<h&&(h=k,g.copy(d))}}return" g}}(),equals:function(a){return a.a.equals(this.a)&& a.b.equals(this.b)&&a.c.equals(this.c)}};ha.prototype="{constructor:ha,clone:function(){return(new" this.constructor).copy(this)},copy:function(a){this.a="a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var" b="0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();b=0;for(c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return" this}};ka.prototype="Object.create(X.prototype);Ka.prototype.constructor=" ka;ka.prototype.ismeshbasicmaterial="!0;Ka.prototype.copy=function(a){X.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;" this.wireframelinecap="a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return" this};u.prototype="{constructor:U,isBufferAttribute:!0,set" needsupdate(a){!0="==a&&this.version++},setArray:function(a){if(Array.isArray(a))throw" new typeerror("three.bufferattribute: array should be a typed array.");this.count="void" 0!="=a?a.length/this.itemSize:0;this.array=a},setDynamic:function(a){this.dynamic=a;return" this},copy:function(a){this.array="new" a.array.constructor(a.array);this.itemsize="a.itemSize;this.count=a.count;this.normalized=a.normalized;this.dynamic=a.dynamic;return" this},copyat:function(a,b,c){a*="this.itemSize;c*=b.itemSize;for(var" d="0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return" this},copyarray:function(a){this.array.set(a);return this},copycolorsarray:function(a){for(var f="a[d];void" color is undefined", d),f="new" j);b[c++]="f.r;b[c++]=f.g;b[c++]=f.b}return" this},copyindicesarray:function(a){for(var this},copyvector2sarray:function(a){for(var vector undefined",d),f="new" d);b[c++]="f.x;b[c++]=f.y}return" this},copyvector3sarray:function(a){for(var q);b[c++]="f.x;b[c++]=f.y;b[c++]=f.z}return" this},copyvector4sarray:function(a){for(var fa);b[c++]="f.x;b[c++]=f.y;b[c++]=f.z;b[c++]=f.w}return" this},set:function(a,b){void this},getx:function(a){return this.array[a* this.itemsize]},setx:function(a,b){this.array[a*this.itemsize]="b;return" this},gety:function(a){return this.array[a*this.itemsize+1]},sety:function(a,b){this.array[a*this.itemsize+1]="b;return" this},getz:function(a){return this.array[a*this.itemsize+2]},setz:function(a,b){this.array[a*this.itemsize+2]="b;return" this},getw:function(a){return this.array[a*this.itemsize+3]},setw:function(a,b){this.array[a*this.itemsize+3]="b;return" this},setxy:function(a,b,c){a*="this.itemSize;this.array[a+0]=b;this.array[a+" 1]="c;return" this},setxyz:function(a,b,c,d){a*="this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;return" this},setxyzw:function(a,b,c,d,e){a*="this.itemSize;this.array[a+0]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return" this},onupload:function(a){this.onuploadcallback="a;return" this},clone:function(){return(new this.constructor(this.array,this.itemsize)).copy(this)}};uc.prototype="Object.create(U.prototype);uc.prototype.constructor=uc;vc.prototype=Object.create(U.prototype);" vc.prototype.constructor="vc;wc.prototype=Object.create(U.prototype);wc.prototype.constructor=wc;xc.prototype=Object.create(U.prototype);xc.prototype.constructor=xc;ib.prototype=Object.create(U.prototype);ib.prototype.constructor=ib;yc.prototype=Object.create(U.prototype);yc.prototype.constructor=yc;jb.prototype=Object.create(U.prototype);jb.prototype.constructor=jb;z.prototype=Object.create(U.prototype);z.prototype.constructor=z;zc.prototype=Object.create(U.prototype);zc.prototype.constructor=zc;" object.assign(me.prototype,{computegroups:function(a){var b,c="[],d=void" 0;a="a.faces;for(var" e="0;e<a.length;e++){var" m}var l="a.morphNormals,p=l.length,n;if(0<p){n=[];for(k=0;k<p;k++)n[k]=[];this.morphTargets.normal=n}for(var" u="a.skinIndices,q=a.skinWeights,r=u.length===c.length,A=q.length===c.length,k=0;k<b.length;k++){var" w="b[k];this.vertices.push(c[w.a],c[w.b],c[w.c]);var" y="w.vertexNormals;3===y.length?this.normals.push(y[0],y[1],y[2]):(y=w.normal,this.normals.push(y,y,y));y=w.vertexColors;3===y.length?this.colors.push(y[0],y[1],y[2]):(y=w.color,this.colors.push(y,y,y));!0===e&&(y=d[0][k],void" y[1],y[2]):(console.warn("three.directgeometry.fromgeometry(): undefined vertexuv ",k),this.uvs.push(new d,new d)));!0="==f&&(y=d[1][k],void" vertexuv2 ",k),this.uvs2.push(new d)));for(y="0;y<h;y++){var" q[w.b],q[w.c])}this.computegroups(a);this.verticesneedupdate="a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return" this}});var vd="0;T.prototype={constructor:T,isGeometry:!0,applyMatrix:function(a){for(var" ya).getnormalmatrix(a),c="0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();" for(var this},rotatex:function(){var a;return function(b){void s);a.makerotationx(b);this.applymatrix(a);return this}}(),rotatey:function(){var s);a.makerotationy(b);this.applymatrix(a);return this}}(), rotatez:function(){var s);a.makerotationz(b);this.applymatrix(a);return this}}(),translate:function(){var function(b,c,d){void s);a.maketranslation(b,c,d);this.applymatrix(a);return this}}(),scale:function(){var s);a.makescale(b,c,d);this.applymatrix(a);return this}}(),lookat:function(){var x);a.lookat(b);a.updatematrix();this.applymatrix(a.matrix)}}(), frombuffergeometry:function(a){function b(a,b,d,e){var ha(a,b,d,f,u,e);c.faces.push(e);void c="this,d=null!==a.index?a.index.array:void" 0,e="a.attributes,f=e.position.array,g=void" void 0,h="void" 0,m="void" 0,k="void" 0;void q(f[e],f[e+1],f[e+2])),void q(g[e],g[e+1],g[e+2])),void j(h[e],h[e+1],h[e+2])),void d(m[u],m[u+1])),void d(k[u],k[u+1]));if(void g="f[e]," r="G.start,A=G.count,u=r,r=r+A;u<r;u+=3)b(d[u],d[u+1],d[u+2],G.materialIndex);else" for(e="0;e<d.length;e+=3)b(d[e],d[e+1],d[e+2]);else" this},center:function(){this.computeboundingbox();var a},normalize:function(){this.computeboundingsphere(); var s;c.set(b,0,0,-b*a.x,0,b,0,-b*a.y,0,0,b,-b*a.z,0,0,0,1);this.applymatrix(c);return this},computefacenormals:function(){for(var q,b="new" q,c="0,d=this.faces.length;c<d;c++){var" b,c,d;d="Array(this.vertices.length);" q;if(a){var e,f,g,h="new" q,m="new" q;a="0;for(b=this.faces.length;a<b;a++)c=this.faces[a],e=this.vertices[c.a],f=this.vertices[c.b],g=this.vertices[c.c],h.subVectors(g,f),m.subVectors(e,f),h.cross(m),d[c.a].add(h),d[c.b].add(h),d[c.c].add(h)}else" for(this.computefacenormals(),a="0,b=this.faces.length;a<b;a++)c=this.faces[a],d[c.a].add(c.normal),d[c.b].add(c.normal),d[c.c].add(c.normal);b=0;for(c=this.vertices.length;b<c;b++)d[b].normalize();a=0;for(b=this.faces.length;a<" b;a++)c="this.faces[a],e=c.vertexNormals,3===e.length?(e[0].copy(d[c.a]),e[1].copy(d[c.b]),e[2].copy(d[c.c])):(e[0]=d[c.a].clone(),e[1]=d[c.b].clone(),e[2]=d[c.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var" a,b,c;this.computefacenormals();a="0;for(b=this.faces.length;a<b;a++){c=this.faces[a];var" this.faces.length&&(this.normalsneedupdate="!0)},computeMorphNormals:function(){var" a,b,c,d,e;c="0;for(d=this.faces.length;c<d;c++)for(e=this.faces[c],e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]),a=0,b=e.vertexNormals.length;a<b;a++)e.__originalVertexNormals[a]?e.__originalVertexNormals[a].copy(e.vertexNormals[a]):e.__originalVertexNormals[a]=e.vertexNormals[a].clone();var" t;f.faces="this.faces;a=0;for(b=this.morphTargets.length;a<b;a++){if(!this.morphNormals[a]){this.morphNormals[a]={};this.morphNormals[a].faceNormals=[];this.morphNormals[a].vertexNormals=[];e=this.morphNormals[a].faceNormals;var" q,b:new q,c:new q},e.push(h),g.push(m)}g="this.morphNormals[a];f.vertices=this.morphTargets[a].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(d=this.faces.length;c<d;c++)e=" this.faces[c],h="g.faceNormals[c],m=g.vertexNormals[c],h.copy(e.normal),m.a.copy(e.vertexNormals[0]),m.b.copy(e.vertexNormals[1]),m.c.copy(e.vertexNormals[2])}c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals},computeLineDistances:function(){for(var" pa); this.boundingbox.setfrompoints(this.vertices)},computeboundingsphere:function(){null="==this.boundingSphere&&(this.boundingSphere=new" na);this.boundingsphere.setfrompoints(this.vertices)},merge:function(a,b,c){if(!1="==(a&&a.isGeometry))console.error("THREE.Geometry.merge():" geometry not an instance of three.geometry.",a);else{var d,e="this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,m=a.faces,k=this.faceVertexUvs[0],l=a.faceVertexUvs[0],p=this.colors,n=a.colors;void" b&&(d="(new" ya).getnormalmatrix(b));a="0;for(var" q="g[a].clone();void" ha(g.a+e,g.b+e,g.c+e);p.normal.copy(g.normal);void n[b],p.vertexcolors.push(q.clone());p.materialindex="g.materialIndex+c;h.push(p)}a=0;for(u=l.length;a<u;a++)if(c=l[a],d=[],void" mesh three.mesh.",a):(a.matrixautoupdate&&a.updatematrix(),this.merge(a.geometry,a.matrix))},mergevertices:function(){var>d;d++)if(e[d]===e[(d+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(e=a[f],this.faces.splice(e,1),c=0,g=this.facevertexuvs.length;c<g;c++)this.facevertexuvs[c].splice(e,1);f=this.vertices.length-b.length;this.vertices=b;return 0="==this.faceVertexUvs[b]&&(this.faceVertexUvs[b]=[]);d=0;for(e=h.length;d<" f},sortfacesbymaterialindex:function(){for(var a="this.faces,b=a.length,c=0;c<b;c++)a[c]._id=c;a.sort(function(a,b){return" a.materialindex-b.materialindex});var d="this.faceVertexUvs[0],e=this.faceVertexUvs[1],f,g;d&&d.length===b&&(f=[]);e&&e.length===b&&(g=[]);for(c=0;c<b;c++){var" h="a[c]._id;f&&f.push(d[h]);g&&g.push(e[h])}f&&(this.faceVertexUvs[0]=f);g&&(this.faceVertexUvs[1]=g)},toJSON:function(){function" a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b="a.x.toString()+a.y.toString()+a.z.toString();if(void" 0!="=k[b])return" k[b];k[b]="m.length/" 3;m.push(a.x,a.y,a.z);return k[b]}function c(a){var p[b];p[b]="l.length;l.push(a.getHex());return" p[b]}function d(a){var u[b];u[b]="n.length/2;n.push(a.x,a.y);return" u[b]}var e="{metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;""!==this.name&&(e.name=this.name);if(void" f="this.parameters,g;for(g" in f)void f[g]&&(e[g]="f[g]);return" e}f="[];for(g=0;g<this.vertices.length;g++){var" q="this.faces[g],r=void" r&&(r="this.faceVertexUvs[0][g],h.push(d(r[0]),d(r[1]),d(r[2])));A&&h.push(b(q.normal));w&&(A=q.vertexNormals,h.push(b(A[0]),b(A[1]),b(A[2])));y&&h.push(c(q.color));K&&(q=q.vertexColors,h.push(c(q[0]),c(q[1]),c(q[2])))}e.data={};e.data.vertices=f;e.data.normals=m;0<l.length&&(e.data.colors=l);0<n.length&&(e.data.uvs=[n]);e.data.faces=h;return" e},clone:function(){return(new t).copy(this)},copy:function(a){var b,c,d,e,f,g;this.vertices="[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=" [];this.morphnormals="[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;d=a.vertices;b=0;for(c=d.length;b<c;b++)this.vertices.push(d[b].clone());d=a.colors;b=0;for(c=d.length;b<c;b++)this.colors.push(d[b].clone());d=a.faces;b=0;for(c=d.length;b<c;b++)this.faces.push(d[b].clone());b=0;for(c=a.faceVertexUvs.length;b<c;b++){var" e;d++){var m="h[d],k=[];f=0;for(g=m.length;f<g;f++)k.push(m[f].clone());this.faceVertexUvs[b].push(k)}}f=a.morphTargets;b=0;for(c=f.length;b<c;b++){g={};g.name=f[b].name;if(void" [],d="0,e=f[b].vertexNormals.length;d<e;d++)h=f[b].vertexNormals[d],m={},m.a=h.a.clone(),m.b=h.b.clone(),m.c=h.c.clone(),g.vertexNormals.push(m);if(void" c;b++)this.linedistances.push(d[b]);b="a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.elementsNeedUpdate=a.elementsNeedUpdate;this.verticesNeedUpdate=a.verticesNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;return" this},dispose:function(){this.dispatchevent({type:"dispose"})}}; object.assign(t.prototype,pa.prototype);i.prototype="{constructor:I,isBufferGeometry:!0,getIndex:function(){return" this.index},setindex:function(a){array.isarray(a)?this.index="new" (65535<ud(a)?jb:ib)(a,1):this.index="a},addAttribute:function(a,b,c){if(!1===(b&&b.isBufferAttribute)&&!1===(b&&b.isInterleavedBufferAttribute))console.warn("THREE.BufferGeometry:" .addattribute() now expects ( name, attribute )."),this.addattribute(a,new u(b,c));else if("index"="==a)console.warn("THREE.BufferGeometry.addAttribute:" use .setindex() for index attribute."), this.setindex(b);else return this.attributes[a]="b,this},getAttribute:function(a){return" this.attributes[a]},removeattribute:function(a){delete this.attributes[a];return this},addgroup:function(a,b,c){this.groups.push({start:a,count:b,materialindex:void void ya).getnormalmatrix(a).applytobufferattribute(b),b.needsupdate="!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();return" this},rotatex:function(){var a;return function(b){void s);a.makerotationx(b);this.applymatrix(a);return this}}(),rotatey:function(){var s);a.makerotationy(b);this.applymatrix(a);return this}}(),rotatez:function(){var a&&(a="new" s);a.makerotationz(b);this.applymatrix(a);return this}}(),translate:function(){var function(b,c,d){void s);a.maketranslation(b,c,d);this.applymatrix(a);return this}}(),scale:function(){var s);a.makescale(b,c,d);this.applymatrix(a);return this}}(),lookat:function(){var x);a.lookat(b);a.updatematrix();this.applymatrix(a.matrix)}}(),center:function(){this.computeboundingbox();var this.translate(a.x,a.y,a.z);return a},setfromobject:function(a){var z(3*b.vertices.length,3);var c="new" z(3*b.colors.length,3);this.addattribute("position",a.copyvector3sarray(b.vertices));this.addattribute("color",c.copycolorsarray(b.colors));b.linedistances&&b.linedistances.length="==b.vertices.length&&(a=new" z(b.linedistances.length,1),this.addattribute("linedistance",a.copyarray(b.linedistances)));null!="=b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone());" null!="=b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else" a.ismesh&&b&&b.isgeometry&&this.fromgeometry(b);return this},updatefromobject:function(a){var 0,b.elementsneedupdate="!1);if(void" this.fromgeometry(b);c.verticesneedupdate="b.verticesNeedUpdate;c.normalsNeedUpdate=b.normalsNeedUpdate;c.colorsNeedUpdate=b.colorsNeedUpdate;c.uvsNeedUpdate=b.uvsNeedUpdate;c.groupsNeedUpdate=b.groupsNeedUpdate;" b.verticesneedupdate="!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.groupsNeedUpdate=!1;b=c}!0===b.verticesNeedUpdate&&(c=this.attributes.position,void" b.colorsneedupdate="!1);b.uvsNeedUpdate&&(c=this.attributes.uv,void" this},fromgeometry:function(a){a.__directgeometry="(new" me).fromgeometry(a);return this.fromdirectgeometry(a.__directgeometry)}, fromdirectgeometry:function(a){var float32array(3*a.vertices.length);this.addattribute("position",(new u(b,3)).copyvector3sarray(a.vertices));0<a.normals.length&&(b="new" float32array(3*a.normals.length),this.addattribute("normal",(new u(b,3)).copyvector3sarray(a.normals)));0<a.colors.length&&(b="new" float32array(3*a.colors.length),this.addattribute("color",(new u(b,3)).copycolorsarray(a.colors)));0<a.uvs.length&&(b="new" float32array(2*a.uvs.length),this.addattribute("uv",(new u(b,2)).copyvector2sarray(a.uvs))); 0<a.uvs2.length&&(b="new" float32array(2*a.uvs2.length),this.addattribute("uv2",(new u(b,2)).copyvector2sarray(a.uvs2)));0<a.indices.length&&(b="new" (65535<ud(a.indices)?uint32array:uint16array)(3*a.indices.length),this.setindex((new u(b,1)).copyindicesarray(a.indices)));this.groups="a.groups;for(var" a.morphtargets){for(var g="d[e],h=new" z(3*g.length,3);b.push(h.copyvector3sarray(g))}this.morphattributes[c]="b}0<a.skinIndices.length&&(c=new" z(4* a.skinindices.length,4),this.addattribute("skinindex",c.copyvector4sarray(a.skinindices)));0<a.skinweights.length&&(c="new" z(4*a.skinweights.length,4),this.addattribute("skinweight",c.copyvector4sarray(a.skinweights)));null!="=a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return" this},computeboundingbox:function(){null="==this.boundingBox&&(this.boundingBox=new" pa);var this.boundingbox.makeempty();(isnan(this.boundingbox.min.x)||isnan(this.boundingbox.min.y)||isnan(this.boundingbox.min.z))&&console.error('three.buffergeometry.computeboundingbox: computed min max have nan values. the "position" is likely to values.',this)},computeboundingsphere:function(){var pa,b="new" q;return function(){null="==this.boundingSphere&&(this.boundingSphere=new" na);var a.getcenter(d);for(var radius nan. values.',this)}}}(),computefacenormals:function(){},computevertexnormals:function(){var if(void u(new float32array(d.length),3));else for(var q,p="new" q,n="new" q,u="new" q,g="new" q;if(a){a="a.array;0===c.length&&this.addGroup(0,a.length);for(var" r="0,A=c.length;r<A;++r)for(f=c[r],g=f.start,h=f.count,f=g,g+=h;f<g;f+=3)h=3*a[f+0],m=3*a[f+1],k=3*a[f+2],l.fromArray(d,h),p.fromArray(d,m),n.fromArray(d,k),u.subVectors(n,p),G.subVectors(l,p),u.cross(G),e[h]+=u.x,e[h+1]+=u.y," e[h+2]+="u.z,e[m]+=u.x,e[m+1]+=u.y,e[m+2]+=u.z,e[k]+=u.x,e[k+1]+=u.y,e[k+2]+=u.z}else" for(f="0,g=d.length;f<g;f+=9)l.fromArray(d,f),p.fromArray(d,f+3),n.fromArray(d,f+6),u.subVectors(n,p),G.subVectors(l,p),u.cross(G),e[f]=u.x,e[f+1]=u.y,e[f+2]=u.z,e[f+3]=u.x,e[f+4]=u.y,e[f+5]=u.z,e[f+6]=u.x,e[f+7]=u.y,e[f+8]=u.z;this.normalizeNormals();b.normal.needsUpdate=!0}},merge:function(a,b){if(!1===(a&&a.isBufferGeometry))console.error("THREE.BufferGeometry.merge():" geometry not an instance of three.buffergeometry.", a);else{void c)if(void this}},normalizenormals:function(){for(var console.warn("three.buffergeometry.tononindexed(): already non-indexed."), this;var i,b="this.index.array,c=this.attributes,d;for(d" c){for(var f.constructor(b.length*e),h,m="0,k=0,l=b.length;k<l;k++){h=b[k]*e;for(var" p="0;p<e;p++)g[m++]=f[h++]}a.addAttribute(d,new" u(g,e))}return a},tojson:function(){var b)void (a[c]="b[c]);return" a}a.data="{attributes:{}};var" d){var radius:c.radius});return a},clone:function(){return(new i).copy(this)},copy:function(a){var b,c,d;this.index="null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.name=a.name;c=a.index;null!==c&&this.setIndex(c.clone());c=a.attributes;for(b" c)this.addattribute(b,c[b].clone());var e){var b[c],this.addgroup(e.start,e.count,e.materialindex);b="a.boundingBox;null!==b&&(this.boundingBox=b.clone());b=a.boundingSphere;null!==b&&(this.boundingSphere=b.clone());this.drawRange.start=a.drawRange.start;this.drawRange.count=a.drawRange.count;return" this},dispose:function(){this.dispatchevent({type:"dispose"})}};i.maxindex="65535;Object.assign(I.prototype,pa.prototype);Aa.prototype=Object.assign(Object.create(x.prototype),{constructor:Aa,isMesh:!0,setDrawMode:function(a){this.drawMode=a},copy:function(a){x.prototype.copy.call(this," a);this.drawmode="a.drawMode;return" this},updatemorphtargets:function(){var a(a,b,c,d,e,f,g){za.barycoordfrompoint(a,b,c,d,r);e.multiplyscalar(r.x);f.multiplyscalar(r.y);g.multiplyscalar(r.z);e.add(f).add(g);return e.clone()}function b(a,b,c,d,e,f,g){var null;w.copy(g);w.applymatrix4(a.matrixworld);c="b.ray.origin.distanceTo(w);return" c<b.near||c>b.far?null:{distance:c,point:w.clone(),object:a}}function c(c,d,e,f,k,l,p,t){g.fromBufferAttribute(f,l);h.fromBufferAttribute(f,p);m.fromBufferAttribute(f,t);if(c=b(c,d,e,g,h,m,A))k&&(n.fromBufferAttribute(k,l),u.fromBufferAttribute(k,p),G.fromBufferAttribute(k,t),c.uv=a(A,g,h,m,n,u,G)),c.face=new ha(l,p,t,za.normal(g,h,m)),c.faceIndex=l;return c}var d=new S,e=new cb,f=new Na,g=new q,h=new q,m=new q,k=new q,l=new q,p=new q,n=new D,u=new D,G=new D,r=new q,A=new q,w=new q;return function(q,r){var v=this.geometry,w=this.material,L=this.matrixWorld;if(void 0!==w&&(null===v.boundingSphere&&v.computeBoundingSphere(),f.copy(v.boundingSphere),f.applyMatrix4(L),!1!==q.ray.intersectsSphere(f)&&(d.getInverse(L),e.copy(q.ray).applyMatrix4(d),null===v.boundingBox||!1!==e.intersectsBox(v.boundingBox)))){var C;if(v.isBufferGeometry){var F,x,w=v.index,H=v.attributes.position,L=v.attributes.uv,D,z;if(null!==w)for(D=0,z=w.count;D<z;d+=3){if(v=w.getx(d),f=w.getx(d+1),x=w.getx(d+2),c=c(this,q,e,h,l,v,f,x))c.faceindex=math.floor(d 0="==b&&(b=-1);void" 3),r.push(c)}else for(d="0,z=H.count;D<z;D+=3)if(v=D,F=D+1,x=D+2,C=c(this,q,e,H,L,v,F,x))C.index=v,r.push(C)}else" if(v.isgeometry){var j,i,l="w&&w.isMultiMaterial;D=!0===L?w.materials:null;z=v.vertices;F=v.faces;x=v.faceVertexUvs[0];0<x.length&&(H=x);for(var" q="0,M=F.length;Q<M;Q++){var" o="F[Q];C=!0===L?D[O.materialIndex]:w;if(void" 0!="=C){x=z[O.a];J=z[O.b];I=z[O.c];if(!0===C.morphTargets){C=v.morphTargets;var" p="this.morphTargetInfluences;g.set(0,0,0);h.set(0,0,0);m.set(0,0,0);for(var" t="0,W=C.length;T<W;T++){var" s="P[T];if(0!==S){var" r="C[T].vertices;g.addScaledVector(k.subVectors(R[O.a],x),S);h.addScaledVector(l.subVectors(R[O.b],J),S);m.addScaledVector(p.subVectors(R[O.c],I),S)}}g.add(x);h.add(J);m.add(I);x=g;J=h;I=m}if(C=b(this,q,e,x,J,I,A))H&&(P=H[Q],n.copy(P[0]),u.copy(P[1]),G.copy(P[2])," c.uv="a(A,x,J,I,n,u,G)),C.face=O,C.faceIndex=Q,r.push(C)}}}}}}(),clone:function(){return(new" this.constructor(this.geometry,this.material)).copy(this)}});ib.prototype="Object.create(T.prototype);Ib.prototype.constructor=Ib;kb.prototype=Object.create(I.prototype);kb.prototype.constructor=kb;Ac.prototype=Object.create(T.prototype);Ac.prototype.constructor=Ac;lb.prototype=Object.create(I.prototype);lb.prototype.constructor=lb;ra.prototype=Object.create(x.prototype);ra.prototype.constructor=ra;ra.prototype.isCamera=" !0;ra.prototype.getworlddirection="function(){var" a="new" ca;return function(b){b="b||new" q;this.getworldquaternion(a);return b.set(0,0,-1).applyquaternion(a)}}();ra.prototype.lookat="function(){var" s;return function(b){a.lookat(this.position,b,this.up);this.quaternion.setfromrotationmatrix(a)}}();ra.prototype.clone="function(){return(new" this.constructor).copy(this)};ra.prototype.copy="function(a){x.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);" return this};fa.prototype="Object.assign(Object.create(ra.prototype),{constructor:Fa,isPerspectiveCamera:!0,copy:function(a){ra.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return" this},setfocallength:function(a){a=".5*this.getFilmHeight()/a;this.fov=2*N.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()}," getfocallength:function(){var 2*n.rad2deg*math.atan(math.tan(.5*n.deg2rad*this.fov) this.zoom)},getfilmwidth:function(){return this.filmgauge*math.min(this.aspect,1)},getfilmheight:function(){return this.filmgauge math.max(this.aspect,1)},setviewoffset:function(a,b,c,d,e,f){this.aspect="a/b;this.view={fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:f};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=" null;this.updateprojectionmatrix()},updateprojectionmatrix:function(){var g="f.fullWidth,h=f.fullHeight,e=e+f.offsetX*d/g,b=b-f.offsetY*c/h,d=f.width/g*d,c=f.height/h*c;f=this.filmOffset;0!==f&&(e+=a*f/this.getFilmWidth());this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far)},toJSON:function(a){a=x.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=" this.near;a.object.far="this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=this.filmOffset;return" a}});jb.prototype="Object.assign(Object.create(ra.prototype),{constructor:Jb,isOrthographicCamera:!0,copy:function(a){ra.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;this.view=" null="==a.view?null:Object.assign({},a.view);return" this},setviewoffset:function(a,b,c,d,e,f){this.view="{fullWidth:a,fullHeight:b,offsetX:c,offsetY:d,width:e,height:f};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var" c="this.zoom/" (this.view.width this.view.fullwidth),b="this.zoom/(this.view.height/this.view.fullHeight),f=(this.right-this.left)/this.view.width,d=(this.top-this.bottom)/this.view.height,e=e+this.view.offsetX/c*f,c=e+this.view.width/c*f,a=a-this.view.offsetY/b*d,b=a-this.view.height/b*d;this.projectionMatrix.makeOrthographic(e,c,a,b,this.near,this.far)},toJSON:function(a){a=x.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=" this.bottom;a.object.near="this.near;a.object.far=this.far;null!==this.view&&(a.object.view=Object.assign({},this.view));return" a}});var lf="0;Kb.prototype.isFogExp2=!0;Kb.prototype.clone=function(){return" new kb(this.color.gethex(),this.density)};kb.prototype.tojson="function(a){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};Lb.prototype.isFog=!0;Lb.prototype.clone=function(){return" lb(this.color.gethex(),this.near,this.far)};lb.prototype.tojson="function(a){return{type:"Fog"," color:this.color.gethex(),near:this.near,far:this.far}};mb.prototype="Object.create(x.prototype);mb.prototype.constructor=mb;mb.prototype.copy=function(a,b){x.prototype.copy.call(this,a,b);null!==a.background&&(this.background=a.background.clone());null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return" this};mb.prototype.tojson="function(a){var" b="x.prototype.toJSON.call(this," a);null!="=this.background&&(b.object.background=this.background.toJSON(a));null!==this.fog&&(b.object.fog=this.fog.toJSON());return" b};zd.prototype="Object.assign(Object.create(x.prototype),{constructor:Zd,isLensFlare:!0,copy:function(a){x.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);this.customUpdateCallback=a.customUpdateCallback;for(var" this},add:function(a,b,c,d,e,f){void c&&(c="0);void" j(16777215));void a,b="this.lensFlares.length,c,d=2*-this.positionScreen.x,e=2*-this.positionScreen.y;for(a=0;a<b;a++)c=this.lensFlares[a],c.x=this.positionScreen.x+d*c.distance,c.y=this.positionScreen.y+e*c.distance,c.wantedRotation=c.x*Math.PI*.25,c.rotation+=.25*(c.wantedRotation-" c.rotation)}});nb.prototype="Object.create(X.prototype);nb.prototype.constructor=nb;nb.prototype.copy=function(a){X.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return" this};dc.prototype="Object.assign(Object.create(x.prototype),{constructor:Dc,isSprite:!0,raycast:function(){var" q;return function(b,c){a.setfrommatrixposition(this.matrixworld);var d="b.ray.distanceSqToPoint(a);d">this.scale.x*this.scale.y/4||c.push({distance:Math.sqrt(d),point:this.position,face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});Ec.prototype=Object.assign(Object.create(x.prototype),{constructor:Ec,copy:function(a){x.prototype.copy.call(this,a,!1);a=a.levels;for(var b=0,c=a.length;b<c;b++){var 0="==b&&(b=0);b=Math.abs(b);for(var" d="a[b];this.addLevel(d.object.clone(),d.distance)}return" this},addlevel:function(a,b){void c="this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var" b="this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);return" b[c-1].object},raycast:function(){var a="new" q;return function(b,c){a.setfrommatrixposition(this.matrixworld);var q,b="new" function(c){var e="1,f=d.length;e<f;e++)if(c">=d[e].distance)d[e-1].object.visible=!1,d[e].object.visible=!0;else break;for(;e<f;e++)d[e].object.visible=!1}}}(),tojson:function(a){a=x.prototype.tojson.call(this,a);a.object.levels=[];for(var 0="==b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses()," b="this.levels,c=0,d=b.length;c<d;c++){var" e="b[c];a.object.levels.push({object:e.object.uuid,distance:e.distance})}return" a}});object.assign(od.prototype,{calculateinverses:function(){this.boneinverses="[];for(var" a="0,b=this.bones.length;a<b;a++){var" c="new" s;this.bones[a]&&c.getinverse(this.bones[a].matrixworld);this.boneinverses.push(c)}}, pose:function(){for(var a,b="0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)},update:function(){var" s;return function(){for(var this.identitymatrix,this.boneinverses[b]),a.toarray(this.bonematrices,16*b);this.usevertextexture&&(this.bonetexture.needsupdate="!0)}}(),clone:function(){return" new od(this.bones,this.boneinverses,this.usevertextexture)}});pd.prototype="Object.assign(Object.create(x.prototype),{constructor:pd,isBone:!0});qd.prototype=Object.assign(Object.create(Aa.prototype),{constructor:qd,isSkinnedMesh:!0,bind:function(a,b){this.skeleton=a;void" if(this.geometry&&this.geometry.isbuffergeometry)for(var fa,d="this.geometry.attributes.skinWeight,a=0;a<d.count;a++)b.x=d.getX(a),b.y=d.getY(a)," b.z="d.getZ(a),b.w=d.getW(a),c=1/b.lengthManhattan(),Infinity!==c?b.multiplyScalar(c):b.set(1,0,0,0),d.setXYZW(a,b.x,b.y,b.z,b.w)},updateMatrixWorld:function(a){Aa.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh" unrecognized bindmode: "+this.bindmode)},clone:function(){return(new this.constructor(this.geometry,this.material, this.skeleton.usevertextexture)).copy(this)}});ia.prototype="Object.create(X.prototype);ia.prototype.constructor=ia;ia.prototype.isLineBasicMaterial=!0;ia.prototype.copy=function(a){X.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return" this};ua.prototype="Object.assign(Object.create(x.prototype),{constructor:Ua,isLine:!0,raycast:function(){var" s,b="new" cb,c="new" na;return function(d,e){var f="d.linePrecision,f=f*f," g="this.geometry,h=this.matrixWorld;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(h);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(h);b.copy(d.ray).applyMatrix4(a);var" m="new" q,k="new" q,h="new" q,l="new" q,p="this&&this.isLineSegments?2:1;if(g.isBufferGeometry){var" n="g.index,u=g.attributes.position.array;if(null!==n)for(var" r="n[g+1];m.fromArray(u,3*n[g]);k.fromArray(u,3*r);r=b.distanceSqToSegment(m,k,l,h);r">f||(l.applyMatrix4(this.matrixWorld),r=d.ray.origin.distanceTo(l),r<d.near||r>d.far||e.push({distance:r,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else for(g=0,G=u.length/3-1;g<g;g+=p)m.fromarray(u,3*g),k.fromarray(u,3*g+3),r=b.distancesqtosegment(m,k,l,h),r>f||(l.applyMatrix4(this.matrixWorld),r=d.ray.origin.distanceTo(l),r<d.near||r>d.far||e.push({distance:r,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g.isGeometry)for(m=g.vertices,k=m.length,g=0;g<k-1;g+=p)r=b.distancesqtosegment(m[g],m[g+1],l,h),r>f||(l.applyMatrix4(this.matrixWorld),r=d.ray.origin.distanceTo(l),r<d.near||r>d.far||e.push({distance:r,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});ga.prototype=Object.assign(Object.create(Ua.prototype),{constructor:ga,isLineSegments:!0});Oa.prototype=Object.create(X.prototype);Oa.prototype.constructor=Oa;Oa.prototype.isPointsMaterial=!0;Oa.prototype.copy=function(a){X.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};Mb.prototype=Object.assign(Object.create(x.prototype),{constructor:Mb,isPoints:!0,raycast:function(){var a=new S,b=new cb,c=new Na;return function(d,e){function f(a,c){var f=b.distanceSqToPoint(a);if(f<l){var h="b.closestPointToPoint(a);h.applyMatrix4(m);var" k="d.ray.origin.distanceTo(h);k<d.near||">d.far||e.push({distance:k,distanceToRay:Math.sqrt(f),point:h.clone(),index:c,face:null,object:g})}}var g=this,h=this.geometry,m=this.matrixWorld,k=d.params.Points.threshold;null===h.boundingSphere&&h.computeBoundingSphere();c.copy(h.boundingSphere);c.applyMatrix4(m);if(!1!==d.ray.intersectsSphere(c)){a.getInverse(m);b.copy(d.ray).applyMatrix4(a);var k=k/((this.scale.x+this.scale.y+this.scale.z)/3),l=k*k,k=new q;if(h.isBufferGeometry){var p=h.index,h=h.attributes.position.array;if(null!==p)for(var n=p.array,p=0,u=n.length;p<u;p++){var g="n[p];k.fromArray(h,3*G);f(k,G)}else" for(p="0,n=h.length/3;p<n;p++)k.fromArray(h,3*p),f(k,p)}else" for(k="h.vertices,p=0,n=k.length;p<n;p++)f(k[p],p)}}}(),clone:function(){return(new" this.constructor(this.geometry,this.material)).copy(this)}});fc.prototype="Object.assign(Object.create(x.prototype),{constructor:Fc});rd.prototype=Object.create(ea.prototype);rd.prototype.constructor=rd;Nb.prototype=Object.create(ea.prototype);Nb.prototype.constructor=Nb;Nb.prototype.isCompressedTexture=" !0;sd.prototype="Object.create(ea.prototype);sd.prototype.constructor=sd;Gc.prototype=Object.create(ea.prototype);Gc.prototype.constructor=Gc;Gc.prototype.isDepthTexture=!0;Ob.prototype=Object.create(I.prototype);Ob.prototype.constructor=Ob;Hc.prototype=Object.create(T.prototype);Hc.prototype.constructor=Hc;Pb.prototype=Object.create(I.prototype);Pb.prototype.constructor=Pb;Ic.prototype=Object.create(T.prototype);Ic.prototype.constructor=Ic;Ba.prototype=Object.create(I.prototype);Ba.prototype.constructor=" ba;jc.prototype="Object.create(T.prototype);Jc.prototype.constructor=Jc;Qb.prototype=Object.create(Ba.prototype);Qb.prototype.constructor=Qb;Kc.prototype=Object.create(T.prototype);Kc.prototype.constructor=Kc;ob.prototype=Object.create(Ba.prototype);ob.prototype.constructor=ob;Lc.prototype=Object.create(T.prototype);Lc.prototype.constructor=Lc;Rb.prototype=Object.create(Ba.prototype);Rb.prototype.constructor=Rb;Mc.prototype=Object.create(T.prototype);Mc.prototype.constructor=Mc;Sb.prototype=Object.create(Ba.prototype);" sb.prototype.constructor="Sb;Nc.prototype=Object.create(T.prototype);Nc.prototype.constructor=Nc;Tb.prototype=Object.create(I.prototype);Tb.prototype.constructor=Tb;Oc.prototype=Object.create(T.prototype);Oc.prototype.constructor=Oc;Ub.prototype=Object.create(I.prototype);Ub.prototype.constructor=Ub;Pc.prototype=Object.create(T.prototype);Pc.prototype.constructor=Pc;Vb.prototype=Object.create(I.prototype);Vb.prototype.constructor=Vb;var" ia="{area:function(a){for(var" b="a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=" a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},triangulate:function(){return function(a,b){var c="a.length;if(3">c)return null;var d=[],e=[],f=[],g,h,m;if(0<ia.area(a))for(h=0;h<c;h++)e[h]=h;else for(h="0;h<c;h++)e[h]=c-1-h;var" k="2*c;for(h=c-1;2<c;){if(0">=k--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}g=h;c<=g&&(g=0);h=g+1;c<=h&&(h=0);m=h+1;c<=m&&(m=0);var l;a:{var p,n,q,g,r,a,w,y;p="a[e[g]].x;n=a[e[g]].y;q=a[e[h]].x;G=a[e[h]].y;r=a[e[m]].x;A=a[e[m]].y;if(0">=(q-p)*(A-n)-(G-n)*(r-p))l=!1;else{var K,v,E,x,C,F,D,H,z,J;K=r-q;v=A-G;E=p-r;x=n-A;C=q-p;F=G-n;for(l=0;l<c;l++)if(w=a[e[l]].x,y=a[e[l]].y,!(w===p&&y===n||w===q&&y===g||w===r&&y===a)&&(d=w-p,h=y-n,z=w-q,j=y-g,w-=r,y-=a,z=k*j-v*z,d=c*h-f*d,h=e*y-x*w,z>=-Number.EPSILON&&H>=-Number.EPSILON&&D>=-Number.EPSILON)){l=!1;break a}l=!0}}if(l){d.push([a[e[g]],a[e[h]],a[e[m]]]);f.push([e[g],e[h],e[m]]);g=h;for(m=h+1;m<c;g++,m++)e[g]=e[m];c--;k=2*c}}return b?f:d}}(),triangulateshape:function(a,b){function c(a){var b="a.length;2<b&&a[b-1].equals(a[0])&&a.pop()}function" d(a,b,c){return a.x!="=b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function" e(a,b,c,e,f){var g="b.x-a.x,h=b.y-a.y,k=e.x-c.x,m=e.y-c.y,l=a.x-c.x,n=a.y-c.y,p=h*k-g*m,t=h*l-g*n;if(Math.abs(p)">Number.EPSILON){if(0<p){if(0>t||t>p)return[];k=m*l-k*n;if(0>k||k>p)return[]}else{if(0<t||t<p)return[];k=m*l-k*n;if(0<k||k<p)return[]}if(0===k)return!f||0!==t&&t!==p?[a]:[];if(k===p)return!f||0!==t&&t!==p?[b]:[]; if(0="==t)return[c];if(t===p)return[e];f=k/p;return[{x:a.x+f*g,y:a.y+f*h}]}if(0!==t||m*l!==k*n)return[];h=0===g&&0===h;k=0===k&&0===m;if(h&&k)return" a.x!="=c.x||a.y!==c.y?[]:[a];if(h)return" d(c,e,a)?[a]:[];if(k)return d(a,b,c)?[c]:[];0!="=g?(a.x<b.x?(g=a,k=a.x,h=b,a=b.x):(g=b,k=b.x,h=a,a=a.x),c.x<e.x?(b=c,p=c.x,m=e,c=e.x):(b=e,p=e.x,m=c,c=c.x)):(a.y<b.y?(g=a,k=a.y,h=b,a=b.y):(g=b,k=b.y,h=a,a=a.y),c.y<e.y?(b=c,p=c.y,m=e,c=e.y):(b=e,p=e.y,m=c,c=c.y));return" k<="p?a<p?[]:a===p?f?[]:[b]:a<=c?[b,h]:[b,m]:" k>c?[]:k===c?f?[]:[g]:a<=c?[g,h]:[g,m]}function f(a,b,c,d){var e="b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var" g="d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return" math.abs(a)>Number.EPSILON?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}c(a);b.foreach(c);var g,h,m,k,l,p="{};m=a.concat();g=0;for(h=b.length;g<h;g++)Array.prototype.push.apply(m,b[g]);g=0;for(h=m.length;g<h;g++)l=m[g].x+":"+m[g].y,void" 0!="=p[l]&&console.warn("THREE.ShapeUtils:" duplicate point",l,g),p[l]="g;g=function(a,b){function" c(a,b){var d="h.length-" 1,e="a-1;0">e&&(e=d);var g=a+1;g>d&&(g=0);d=f(h[a],h[e],h[g],k[b]);if(!d)return!1;d=k.length-1;e=b-1;0>e&&(e=d);g=b+1;g>d&&(g=0);return(d=f(k[b],k[e],k[g],h[a]))?!0:!1}function d(a,b){var c,f;for(c=0;c<h.length;c++)if(f=c+1,f%=h.length,f=e(a,b,h[c],h[f],!0),0<f.length)return!0;return!1}function g(a,c){var d,f,h,k;for(d="0;d<m.length;d++)for(f=b[m[d]],h=0;h<f.length;h++)if(k=h+1,k%=f.length,k=e(a,c,f[h],f[k],!0),0<k.length)return!0;return!1}var" h="a.concat(),k,m=[],l,n,p,t,q,x=[],D,z,J,I=0;for(l=b.length;I<" l;i++)m.push(i);d="0;for(var" q="2*m.length;0<m.length;){Q--;if(0">Q){console.log("Infinite Loop! Holes left:"+m.length+", Probably Hole outside Shape!");break}for(n=D;n<h.length;n++){p=h[n];l=-1;for(i=0;i<m.length;i++)if(t=m[i],q=p.x+":"+p.y+":"+t,void 0="==x[q]){k=b[t];for(z=0;z<k.length;z++)if(t=k[z],c(n,z)&&!d(p,t)&&!g(p,t)){l=z;m.splice(I,1);D=h.slice(0,n+1);t=h.slice(n);z=k.slice(l);J=k.slice(0,l+1);h=D.concat(z).concat(J).concat(t);D=n;break}if(0<=l)break;x[q]=!0}if(0<=l)break}}return" h}(a,b);var n="Ia.triangulate(g,!1);g=0;for(h=n.length;g<h;g++)for(k=n[g],m=0;3">m;m++)l=k[m].x+":"+k[m].y,l=p[l],void 0!==l&&(k[m]=l);return n.concat()},isClockWise:function(a){return 0>Ia.area(a)}};La.prototype=Object.create(T.prototype);La.prototype.constructor=La;La.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addshape(a[d],b)};la.prototype.addshape=function(a,b){function c(a,b,c){b||console.error("three.extrudegeometry: vec does not exist");return b.clone().multiplyscalar(c).add(a)} function d(a,b,c){var d,e,f;e="a.x-b.x;f=a.y-b.y;d=c.x-a.x;var" g="c.y-a.y,h=e*e+f*f;if(Math.abs(e*g-f*d)">Number.EPSILON){var k=Math.sqrt(h),m=Math.sqrt(d*d+g*g),h=b.x-f/k;b=b.y+e/k;g=((c.x-g/m-h)*g-(c.y+d/m-b)*d)/(e*g-f*d);d=h+e*g-a.x;e=b+f*g-a.y;f=d*d+e*e;if(2>=f)return new D(d,e);f=Math.sqrt(f/2)}else a=!1,e>Number.EPSILON?d>Number.EPSILON&&(a=!0):e<-number.epsilon?d<-number.epsilon&&(a=!0):math.sign(f)===math.sign(g)&&(a=!0),a?(d=-f,f=math.sqrt(h)):(d=e,e=f,f=math.sqrt(h 2));return new d(d f,e f)} function e(a,b){var c,d;for(r="a.length;0<=--R;){c=R;d=R-1;0">d&&(d=a.length-1);var e,f=u+2*l;for(e=0;e<f;e++){var g="U*e,h=U*(e+1),k=b+c+g,g=b+d+g,m=b+d+h,h=b+c+h,k=k+H,g=g+H,m=m+H,h=h+H;J.faces.push(new" ha(k,g,h,null,null,1));j.faces.push(new ha(g,m,h,null,null,1));k="w.generateSideWallUV(J,k,g,m,h);J.faceVertexUvs[0].push([k[0],k[1],k[3]]);J.faceVertexUvs[0].push([k[1],k[2],k[3]])}}}function" f(a,b,c){j.vertices.push(new q(a,b,c))}function g(a,b,c){a+="H;b+=H;c+=H;J.faces.push(new" ha(a,b,c,null,null, 0));a="w.generateTopUV(J,a,b,c);J.faceVertexUvs[0].push(a)}var" h="void" 0!="=b.amount?b.amount:100,m=void" g.computefrenetframes(u,!1),x="new" q,v="new" q,e="new" q);p||(k="m=l=0);var" z,c,f,j="this,H=this.vertices.length,G=a.extractPoints(n),n=G.shape,I=G.holes;if(G=!Ia.isClockWise(n)){n=n.reverse();C=0;for(F=I.length;C<F;C++)z=I[C],Ia.isClockWise(z)&&(I[C]=z.reverse());G=!1}var" t="Ia.triangulateShape(n,I),S=n;C=0;for(F=I.length;C<F;C++)z=I[C],n=n.concat(z);var" n,q,m,o,p,u="n.length,W,V=T.length,G=[],R=0;M=S.length;N=M-1;for(Q=R+1;R<M;R++,N++,Q++)N===M&&(N=0),Q===M&&(Q=0),G[R]=d(S[R],S[N],S[Q]);var" x="[],Z,ca=G.concat();" c="0;for(F=I.length;C<F;C++){z=I[C];Z=[];R=0;M=z.length;N=M-1;for(Q=R+1;R<M;R++,N++,Q++)N===M&&(N=0),Q===M&&(Q=0),Z[R]=d(z[R],z[N],z[Q]);X.push(Z);ca=ca.concat(Z)}for(N=0;N<l;N++){M=N/l;O=m*Math.cos(M*Math.PI/2);Q=k*Math.sin(M*Math.PI/2);R=0;for(M=S.length;R<M;R++)P=c(S[R],G[R],Q),f(P.x,P.y,-O);C=0;for(F=I.length;C<F;C++)for(z=I[C],Z=X[C],R=0,M=z.length;R<M;R++)P=c(z[R],Z[R],Q),f(P.x,P.y,-O)}Q=k;for(R=0;R<U;R++)P=p?c(n[R],ca[R],Q):n[R],A?(v.copy(y.normals[0]).multiplyScalar(P.x),x.copy(y.binormals[0]).multiplyScalar(P.y)," e.copy(r[0]).add(v).add(x),f(e.x,e.y,e.z)):f(p.x,p.y,0);for(m="1;M<=u;M++)for(R=0;R<U;R++)P=p?c(n[R],ca[R],Q):n[R],A?(v.copy(y.normals[M]).multiplyScalar(P.x),x.copy(y.binormals[M]).multiplyScalar(P.y),E.copy(r[M]).add(v).add(x),f(E.x,E.y,E.z)):f(P.x,P.y,h/u*M);for(N=l-1;0<=N;N--){M=N/l;O=m*Math.cos(M*Math.PI/2);Q=k*Math.sin(M*Math.PI/2);R=0;for(M=S.length;R<M;R++)P=c(S[R],G[R],Q),f(P.x,P.y,h+O);C=0;for(F=I.length;C<F;C++)for(z=I[C],Z=X[C],R=0,M=z.length;R<M;R++)P=c(z[R],Z[R],Q),A?f(P.x,P.y+r[u-1].y," r[u-1].x+o):f(p.x,p.y,h+o)}(function(){if(p){var a="0*U;for(R=0;R<V;R++)W=T[R],g(W[2]+a,W[1]+a,W[0]+a);a=U*(u+2*l);for(R=0;R<V;R++)W=T[R],g(W[0]+a,W[1]+a,W[2]+a)}else{for(R=0;R<V;R++)W=T[R],g(W[2],W[1],W[0]);for(R=0;R<V;R++)W=T[R],g(W[0]+U*u,W[1]+U*u,W[2]+U*u)}})();(function(){var" d(b.x,b.y),new d(c.x,c.y),new d(d.x,d.y)]}, generatesidewalluv:function(a,b,c,d,e){a="a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01">Math.abs(b.y-c.y)?[new D(b.x,1-b.z),new D(c.x,1-c.z),new D(d.x,1-d.z),new D(e.x,1-e.z)]:[new D(b.y,1-b.z),new D(c.y,1-c.z),new D(d.y,1-d.z),new D(e.y,1-e.z)]}};Qc.prototype=Object.create(La.prototype);Qc.prototype.constructor=Qc;Rc.prototype=Object.create(T.prototype);Rc.prototype.constructor=Rc;pb.prototype=Object.create(I.prototype);pb.prototype.constructor=pb;Sc.prototype=Object.create(T.prototype);Sc.prototype.constructor=Sc;Wb.prototype=Object.create(I.prototype);Wb.prototype.constructor=Wb;Tc.prototype=Object.create(T.prototype);Tc.prototype.constructor=Tc;Xb.prototype=Object.create(I.prototype);Xb.prototype.constructor=Xb;Yb.prototype=Object.create(T.prototype);Yb.prototype.constructor=Yb;Zb.prototype=Object.create(I.prototype);Zb.prototype.constructor=Zb;$b.prototype=Object.create(I.prototype);$b.prototype.constructor=$b;qb.prototype=Object.create(T.prototype);qb.prototype.constructor=qb;Va.prototype=Object.create(I.prototype);Va.prototype.constructor=Va;Uc.prototype=Object.create(qb.prototype);Uc.prototype.constructor=Uc;Vc.prototype=Object.create(Va.prototype);Vc.prototype.constructor=Vc;Wc.prototype=Object.create(T.prototype);Wc.prototype.constructor=Wc;ac.prototype=Object.create(I.prototype);ac.prototype.constructor=ac;var Ma=Object.freeze({WireframeGeometry:Ob,ParametricGeometry:Hc,ParametricBufferGeometry:Pb,TetrahedronGeometry:Jc,TetrahedronBufferGeometry:Qb,OctahedronGeometry:Kc,OctahedronBufferGeometry:ob,IcosahedronGeometry:Lc,IcosahedronBufferGeometry:Rb,DodecahedronGeometry:Mc,DodecahedronBufferGeometry:Sb,PolyhedronGeometry:Ic,PolyhedronBufferGeometry:Ba,TubeGeometry:Nc,TubeBufferGeometry:Tb,TorusKnotGeometry:Oc,TorusKnotBufferGeometry:Ub,TorusGeometry:Pc,TorusBufferGeometry:Vb,TextGeometry:Qc,SphereGeometry:Rc,SphereBufferGeometry:pb,RingGeometry:Sc,RingBufferGeometry:Wb,PlaneGeometry:Ac,PlaneBufferGeometry:lb,LatheGeometry:Tc,LatheBufferGeometry:Xb,ShapeGeometry:Yb,ShapeBufferGeometry:Zb,ExtrudeGeometry:La,EdgesGeometry:$b,ConeGeometry:Uc,ConeBufferGeometry:Vc,CylinderGeometry:qb,CylinderBufferGeometry:Va,CircleGeometry:Wc,CircleBufferGeometry:ac,BoxGeometry:Ib,BoxBufferGeometry:kb});bc.prototype=Object.create(Ha.prototype);bc.prototype.constructor=bc;bc.prototype.isShadowMaterial=!0;cc.prototype=Object.create(Ha.prototype);cc.prototype.constructor=cc;cc.prototype.isRawShaderMaterial=!0;Xc.prototype={constructor:Xc,isMultiMaterial:!0,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},c=this.materials,d=0,e=c.length;d<e;d++){var 0="==a&&(a="");void" f="c[d].toJSON(a);delete" f.metadata;b.materials.push(f)}b.visible="this.visible;return" b},clone:function(){for(var a="new" this.constructor,b="0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return" a}};qa.prototype="Object.create(X.prototype);Qa.prototype.constructor=Qa;Qa.prototype.isMeshStandardMaterial=!0;Qa.prototype.copy=function(a){X.prototype.copy.call(this,a);" this.defines="{STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;" this.displacementscale="a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=" a.morphnormals;return this};rb.prototype="Object.create(Qa.prototype);rb.prototype.constructor=rb;rb.prototype.isMeshPhysicalMaterial=!0;rb.prototype.copy=function(a){Qa.prototype.copy.call(this,a);this.defines={PHYSICAL:""};this.reflectivity=a.reflectivity;this.clearCoat=a.clearCoat;this.clearCoatRoughness=a.clearCoatRoughness;return" this};ca.prototype="Object.create(X.prototype);Ca.prototype.constructor=Ca;Ca.prototype.isMeshPhongMaterial=!0;Ca.prototype.copy=function(a){X.prototype.copy.call(this," a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess="a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;this.displacementScale=" a.displacementscale;this.displacementbias="a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return" this};sb.prototype="Object.create(Ca.prototype);sb.prototype.constructor=sb;sb.prototype.isMeshToonMaterial=!0;sb.prototype.copy=function(a){Ca.prototype.copy.call(this,a);this.gradientMap=a.gradientMap;return" this};tb.prototype="Object.create(X.prototype);tb.prototype.constructor=tb;tb.prototype.isMeshNormalMaterial=!0;tb.prototype.copy=function(a){X.prototype.copy.call(this,a);this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);this.displacementMap=a.displacementMap;" this};ub.prototype="Object.create(X.prototype);ub.prototype.constructor=ub;ub.prototype.isMeshLambertMaterial=!0;ub.prototype.copy=function(a){X.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=" a.lightmapintensity;this.aomap="a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;" this.skinning="a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return" this};vb.prototype="Object.create(X.prototype);vb.prototype.constructor=vb;vb.prototype.isLineDashedMaterial=!0;vb.prototype.copy=function(a){X.prototype.copy.call(this,a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return" this};var xf="Object.freeze({ShadowMaterial:bc,SpriteMaterial:nb,RawShaderMaterial:cc,ShaderMaterial:Ha,PointsMaterial:Oa," multimaterial:xc,meshphysicalmaterial:rb,meshstandardmaterial:qa,meshphongmaterial:ca,meshtoonmaterial:sb,meshnormalmaterial:tb,meshlambertmaterial:ub,meshdepthmaterial:ab,meshbasicmaterial:ka,linedashedmaterial:vb,linebasicmaterial:ia,material:x}),ld="{enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return" this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files="{}}},ta=new" $d;object.assign(sa.prototype,{load:function(a, b,c,d){void 0!="=this.path&&(a=this.path+a);var" e="this,f=ld.get(a);if(void" e.manager.itemstart(a),settimeout(function(){b&&b(f);e.manager.itemend(a)},0),f;var g="a.match(/^data:(.*?)(;base64)?,(.*)$/);if(g){var" h="g[1],m=!!g[2],g=g[3],g=window.decodeURIComponent(g);m&&(g=window.atob(g));try{var" k,l="(this.responseType||"").toLowerCase();switch(l){case" "arraybuffer":case "blob":k="new" arraybuffer(g.length);for(var p="new" uint8array(k),m="0;m<g.length;m++)p[m]=g.charCodeAt(m);" "blob"="==l&&(k=new" blob([k],{type:h}));break;case "document":k="(new" domparser).parsefromstring(g,h);break;case "json":k="JSON.parse(g);break;default:k=g}window.setTimeout(function(){b&&b(k);e.manager.itemEnd(a)},0)}catch(q){window.setTimeout(function(){d&&d(q);e.manager.itemError(a)},0)}}else{var" n="new" xmlhttprequest;n.open("get",a,!0);n.addeventlistener("load",function(c){var http status received."), b&&b(f),e.manager.itemend(a)):(d&&d(c),e.manager.itemerror(a))},!1);void n},setpath:function(a){this.path="a;return" this},setresponsetype:function(a){this.responsetype="a;return" this},setwithcredentials:function(a){this.withcredentials="a;return" this},setmimetype:function(a){this.mimetype="a;return" this}});object.assign(re.prototype,{load:function(a,b,c,d){function e(e){m.load(a[e],function(a){a="f._parser(a,!0);g[e]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};k+=1;6===k&&(1===a.mipmapCount&&(h.minFilter=1006),h.format=a.format,h.needsUpdate=!0,b&&b(h))},c,d)}var" nb; h.image="g;var" m="new" sa(this.manager);m.setpath(this.path);m.setresponsetype("arraybuffer");if(array.isarray(a))for(var k="0,l=0,p=a.length;l<p;++l)e(l);else" m.load(a,function(a){a="f._parser(a,!0);if(a.isCubemap)for(var" c="a.mipmaps.length/a.mipmapCount,d=0;d<c;d++){g[d]={mipmaps:[]};for(var" h.image.width="a.width,h.image.height=a.height,h.mipmaps=a.mipmaps;1===a.mipmapCount&&" (h.minfilter="1006);h.format=a.format;h.needsUpdate=!0;b&&b(h)},c,d);return" h},setpath:function(a){this.path="a;return" this}});object.assign(ae.prototype,{load:function(a,b,c,d){var eb,g="new" sa(this.manager);g.setresponsetype("arraybuffer");g.load(a,function(a){if(a="e._parser(a))void" a.magfilter?a.magfilter:1006,f.minfilter="void" f}});object.assign(yc.prototype,{load:function(a,b,c,d){void e.manager.itemstart(a),settimeout(function(){b&& b(f);e.manager.itemend(a)},0),f;c="document.createElementNS("http://www.w3.org/1999/xhtml","img");c.addEventListener("load",function(){ld.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1);c.addEventListener("error",function(b){d&&d(b);e.manager.itemError(a)},!1);void" c},setcrossorigin:function(a){this.crossorigin="a;return" this},setpath:function(a){this.path="a;return" this}});object.assign(be.prototype,{load:function(a, b,c,d){function e(c){g.load(a[c],function(a){f.images[c]="a;h++;6===h&&(f.needsUpdate=!0,b&&b(f))},void" 0,d)}var za,g="new" yc(this.manager);g.setcrossorigin(this.crossorigin);g.setpath(this.path);var f},setcrossorigin:function(a){this.crossorigin="a;return" this}});object.assign(td.prototype,{load:function(a,b,c,d){var ea,f="new" yc(this.manager);f.setcrossorigin(this.crossorigin);f.setpath(this.path);f.load(a, function(c){var d="0<a.search(/\.(jpg|jpeg)$/)||0===a.search(/^data\:image\/jpeg/);e.format=d?1022:1023;e.image=c;e.needsUpdate=!0;void" e},setcrossorigin:function(a){this.crossorigin="a;return" this}});ma.prototype="Object.assign(Object.create(x.prototype),{constructor:ma,isLight:!0,copy:function(a){x.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return" this},tojson:function(a){a="x.prototype.toJSON.call(this," a);a.object.color="this.color.getHex();a.object.intensity=this.intensity;void" a}});ud.prototype="Object.assign(Object.create(ma.prototype),{constructor:ud," ishemispherelight:!0,copy:function(a){ma.prototype.copy.call(this,a);this.groundcolor.copy(a.groundcolor);return this}});object.assign(wb.prototype,{copy:function(a){this.camera="a.camera.clone();this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return" this},clone:function(){return(new this.constructor).copy(this)},tojson:function(){var a.camera="this.camera.toJSON(!1).object;delete" a.camera.matrix;return a}});vd.prototype="Object.assign(Object.create(wb.prototype),{constructor:vd,isSpotLightShadow:!0,update:function(a){var" b="2*N.RAD2DEG*a.angle,c=this.mapSize.width/this.mapSize.height;a=a.distance||500;var" a);this.distance="a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return" this}});xd.prototype="Object.assign(Object.create(ma.prototype),{constructor:xd,isPointLight:!0,copy:function(a){ma.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return" this}});yd.prototype="Object.assign(Object.create(wb.prototype),{constructor:yd});zd.prototype=Object.assign(Object.create(ma.prototype)," {constructor:zd,isdirectionallight:!0,copy:function(a){ma.prototype.copy.call(this,a);this.target="a.target.clone();this.shadow=a.shadow.clone();return" this}});ad.prototype="Object.assign(Object.create(ma.prototype),{constructor:Ad,isAmbientLight:!0});var" na="{arraySlice:function(a,b,c){return" na.istypedarray(a)?new a.constructor(a.subarray(b,c)):a.slice(b,c)},convertarray:function(a,b,c){return!a||!c&&a.constructor="==b?a:"number"===typeof" b.bytes_per_element?new b(a):array.prototype.slice.call(a)}, istypedarray:function(a){return arraybuffer.isview(a)&&!(a instanceof dataview)},getkeyframeorder:function(a){for(var a[b]-a[c]});return c},sortedarray:function(a,b,c){for(var a.constructor(d),f="0,g=0;g!==d;++f)for(var" e},flattenjson:function(a,b,c,d){for(var if(void d;this._cachedindex="c=b.length;return" this.afterend_(c- 1,a,e)}if(c="==f)break;e=d;d=b[++c];if(a<d)break" b}d="b.length;break" c}if(a>=e)break a;else{f=b[1];a<f&&(c=2,e=f);for(f=c-2;;){if(void 0="==e)return" this._cachedindex="0,this.beforeStart_(0,a,d);if(c===f)break;d=e;e=b[--c-1];if(a">=e)break b}d=c;c=0}}for(;c<d;)e=c+d>>>1,a<b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void 0="==e)return" this._cachedindex="0,this.beforeStart_(0,a,d);if(void" this.interpolate_(c, e,a,d)},settings:null,defaultsettings_:{},getsettings_:function(){return this.settings||this.defaultsettings_},copysamplevalue_:function(a){var b="this.resultBuffer,c=this.sampleValues,d=this.valueSize;a*=d;for(var" e="0;e!==d;++e)b[e]=c[a+e];return" b},interpolate_:function(a,b,c,d){throw error("call to abstract method");},intervalchanged_:function(a,b,c){}};object.assign(xa.prototype,{beforestart_:xa.prototype.copysamplevalue_,afterend_:xa.prototype.copysamplevalue_});bd.prototype="Object.assign(Object.create(xa.prototype)," {constructor:bd,defaultsettings_:{endingstart:2400,endingend:2400},intervalchanged_:function(a,b,c){var d="this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void" 2401:e="a;g=2*b-c;break;case" 2402:e="d.length-2;g=b+d[e]-d[e+1];break;default:e=a,g=c}if(void" 2401:f="a;h=2*c-b;break;case" 2402:f="1;h=c+d[1]-d[0];break;default:f=a-1,h=b}a=.5*(c-b);d=this.valueSize;this._weightPrev=a/(b-g);this._weightNext=" a (h-c);this._offsetprev="e*d;this._offsetNext=f*d},interpolate_:function(a,b,c,d){var" h="a-g,m=this._offsetPrev,k=this._offsetNext,l=this._weightPrev,p=this._weightNext,n=(c-b)/(d-b);c=n*n;d=c*n;b=-l*d+2*l*c-l*n;l=(1+l)*d+(-1.5-2*l)*c+(-.5+l)*n+1;n=(-1-p)*d+(1.5+p)*c+.5*n;p=p*d-p*c;for(c=0;c!==g;++c)e[c]=b*f[m+c]+l*f[h+c]+n*f[a+c]+p*f[k+c];return" e}});zc.prototype="Object.assign(Object.create(xa.prototype),{constructor:Zc,interpolate_:function(a," b,c,d){var e}});cd.prototype="Object.assign(Object.create(xa.prototype),{constructor:Cd,interpolate_:function(a,b,c,d){return" this.copysamplevalue_(a-1)}});var xa;xa="{TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(a){return" new cd(this.times,this.values,this.getvaluesize(),a)},interpolantfactorymethodlinear:function(a){return zc(this.times, this.values,this.getvaluesize(),a)},interpolantfactorymethodsmooth:function(a){return bd(this.times,this.values,this.getvaluesize(),a)},setinterpolation:function(a){var b;switch(a){case 2300:b="this.InterpolantFactoryMethodDiscrete;break;case" 2301:b="this.InterpolantFactoryMethodLinear;break;case" 2302:b="this.InterpolantFactoryMethodSmooth}if(void" interpolation for "+this.valuetypename+" keyframe track named "+this.name;if(void else throw error(b);console.warn(b)}else this.createinterpolant="b},getInterpolation:function(){switch(this.createInterpolant){case" this.interpolantfactorymethoddiscrete:return 2300;case this.interpolantfactorymethodlinear:return 2301;case this.interpolantfactorymethodsmooth:return 2302}},getvaluesize:function(){return this.values.length this.times.length},shift:function(a){if(0!="=a)for(var" this},scale:function(a){if(1!="=a)for(var" 0,d="b.length;c!==d;++c)b[c]*=a;return" this},trim:function(a,b){for(var c="this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]">b;)--f;++f;if(0!==e||f!==d)e>=f&&(f=Math.max(f,1),e=f-1),d=this.getValueSize(),this.times=na.arraySlice(c,e,f),this.values=na.arraySlice(this.values,e*d,f*d);return this},validate:function(){var a=!0,b=this.getValueSize();0!==b-Math.floor(b)&&(console.error("invalid value size in track",this),a=!1);var c=this.times,b=this.values,d=c.length;0===d&&(console.error("track is empty",this),a=!1);for(var e=null,f=0;f!==d;f++){var g=c[f];if("number"===typeof g&&isNaN(g)){console.error("time is not a valid number",this,f,g);a=!1;break}if(null!==e&&e>g){console.error("out of order keys",this,f,g,e);a=!1;break}e=g}if(void 0!==b&&na.isTypedArray(b))for(f=0,c=b.length;f!==c;++f)if(d=b[f],isNaN(d)){console.error("value is not a valid number",this,f,d);a=!1;break}return a},optimize:function(){for(var a=this.times,b=this.values,c=this.getValueSize(),d=2302===this.getInterpolation(),e=1,f=a.length-1,g=1;g<f;++g){var 0="==a.type)throw" h="!1,m=a[g];if(m!==a[g+1]&&(1!==g||m!==m[0]))if(d)h=!0;else" for(var k="g*c,l=k-c,p=k+c,m=0;m!==c;++m){var" n="b[k+m];if(n!==b[l+m]||n!==b[p+m]){h=!0;break}}if(h){if(g!==e)for(a[e]=a[g],h=g*c,k=e*c,m=0;m!==c;++m)b[k+m]=b[h+m];++e}}if(0<f){a[e]=a[f];h=f*c;k=e*c;for(m=0;m!==c;++m)b[k+m]=b[h+m];++e}e!==a.length&&(this.times=na.arraySlice(a,0,e),this.values=na.arraySlice(b,0,e*c));return" this}};dc.prototype="Object.assign(Object.create(Xa),{constructor:dc,ValueTypeName:"vector"});" dd.prototype="Object.assign(Object.create(xa.prototype),{constructor:Dd,interpolate_:function(a,b,c,d){var" e="this.resultBuffer,f=this.sampleValues,g=this.valueSize;a*=g;b=(c-b)/(d-b);for(c=a+g;a!==c;a+=4)ca.slerpFlat(e,0,f,a-g,f,a,b);return" e}});$c.prototype="Object.assign(Object.create(Xa),{constructor:$c,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(a){return" new dd(this.times,this.values,this.getvaluesize(),a)},interpolantfactorymethodsmooth:void 0}); ec.prototype="Object.assign(Object.create(Xa),{constructor:ec,ValueTypeName:"number"});Ed.prototype=Object.assign(Object.create(Xa),{constructor:Ed,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void" 0,interpolantfactorymethodsmooth:void 0});fd.prototype="Object.assign(Object.create(Xa),{constructor:Fd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void" gd.prototype="Object.assign(Object.create(Xa),{constructor:Gd,ValueTypeName:"color"});yb.prototype=Xa;Xa.constructor=yb;Object.assign(yb,{parse:function(a){if(void" error("track type undefined, can not parse");var b="yb._getTrackTypeForValueTypeName(a.type);if(void" c="[],d=[];na.flattenJSON(a.keys,c,d,"value");a.times=c;a.values=d}return" void 0!="=b.parse?b.parse(a):new" b(a.name,a.times,a.values,a.interpolation)},tojson:function(a){var b.tojson(a);else{var b},_gettracktypeforvaluetypename:function(a){switch(a.tolowercase()){case "scalar":case "double":case "float":case "number":case "integer":return ec;case "vector":case "vector2":case "vector3":case "vector4":return dc;case "color":return gd;case "quaternion":return $c;case "bool":case "boolean":return fd; case "string":return ed}throw error("unsupported typename: "+a);}});qa.prototype="{constructor:qa,resetDuration:function(){for(var" a="0,b=0,c=this.tracks.length;b!==c;++b)var" d="this.tracks[b],a=Math.max(a,d.times[d.times.length-1]);this.duration=a},trim:function(){for(var" this},optimize:function(){for(var this}};object.assign(qa,{parse:function(a){for(var qa(a.name,a.duration,b)},tojson:function(a){var a},createfrommorphtargetsequence:function(a,b,c,d){for(var m.push(m[0]));f.push((new ec(".morphtargetinfluences["+b[g].name+"]",h,m)).scale(1 c))}return qa(a,-1,f)},findbyname:function(a,b){var c[d];return null},createclipsfrommorphtargetsequences:function(a,b,c){for(var in d)a.push(qa.createfrommorphtargetsequence(k, d[k],b,c));return a},parseanimation:function(a,b){if(!a)return console.error(" no animation jsonloader data"),null;for(var f="[],g=[];na.flattenJSON(c,f,g,d);0!==f.length&&e.push(new" a(b,f,g))}},d="[],e=a.name||"default",f=a.length||-1,g=a.fps||30,h=a.hierarchy||[],m=0;m<h.length;m++){var" p="0;p<k[l].morphTargets.length;p++)f[k[l].morphTargets[p]]=" -1;for(var f){for(var q="[],G=[],p=0;p!==k[l].morphTargets.length;++p){var" r="k[l];q.push(r.time);G.push(r.morphTarget===n?1:0)}d.push(new" ec(".morphtargetinfluence["+n+"]",q,g))}f="f.length*(g||1)}else" l=".bones[" +b[m].name+"]",c(dc,l+".position",k,"pos",d),c($c,l+".quaternion",k,"rot",d),c(dc,l+".scale",k,"scl",d)}return qa(e,f,d)}});object.assign(hd.prototype,{load:function(a,b,c,d){var sa(e.manager)).load(a,function(a){b(e.parse(json.parse(a)))},c,d)},settextures:function(a){this.textures="a},parse:function(a){function" b(a){void undefined texture",a);return c[a]}var xf[a.type];void a.opacity&&(d.opacity="a.opacity);void" (d.wireframelinejoin="a.wireframeLinejoin);void" d).fromarray(e)}void a.emissiveintensity);void f;e++)d.materials.push(this.parse(a.materials[e]));return d}});object.assign(ce.prototype,{load:function(a,b,c,d){var sa(e.manager)).load(a,function(a){b(e.parse(json.parse(a)))},c,d)},parse:function(a){var i,c="a.data.index,d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void" d[c.type](c.array), b.setindex(new u(c,1)));var e){var g="e[f],c=new" d[g.type](g.array);b.addattribute(f,new u(c,g.itemsize,g.normalized))}d="a.data.groups||a.data.drawcalls||a.data.offsets;if(void" q,void na(d,a.radius));return b}});zb.prototype="{constructor:zb,crossOrigin:void" 0,extracturlbase:function(a){a="a.split("/");if(1===a.length)return"./";a.pop();return" a.join(" ")+" "},initmaterials:function(a,b,c){for(var d},creatematerial:function(){var function(e,f,g){function h(a,b,d,e,h){a="f+a;var" (a.wraps="1E3),1!==b[1]&&(a.wrapT=1E3));void" b}void j);void td);void hd);var m="{},k={uuid:N.generateUUID(),type:"MeshLambertMaterial"},l;for(l" "dbgcolor":case "dbgindex":case "opticaldensity":case "illumination":break; "dbgname":k.name="p;break;case" "blending":k.blending="a[p];break;case" "colorambient":case "mapambient":console.warn("three.loader.creatematerial:",l,"is longer supported.");break;case "colordiffuse":k.color="b.fromArray(p).getHex();break;case" "colorspecular":k.specular="b.fromArray(p).getHex();break;case" "coloremissive":k.emissive="b.fromArray(p).getHex();break;case" "specularcoef":k.shininess="p;break;case" "shading":"basic"="==p.toLowerCase()&&(k.type="MeshBasicMaterial");"phong"===p.toLowerCase()&&" (k.type="MeshPhongMaterial" );"standard"="==p.toLowerCase()&&(k.type="MeshStandardMaterial");break;case" "mapdiffuse":k.map="h(p,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case" "mapdiffuserepeat":case "mapdiffuseoffset":case "mapdiffusewrap":case "mapdiffuseanisotropy":break;case "mapemissive":k.emissivemap="h(p,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case" "mapemissiverepeat":case "mapemissiveoffset":case "mapemissivewrap":case "mapemissiveanisotropy":break; "maplight":k.lightmap="h(p,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case" "maplightrepeat":case "maplightoffset":case "maplightwrap":case "maplightanisotropy":break;case "mapao":k.aomap="h(p,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case" "mapaorepeat":case "mapaooffset":case "mapaowrap":case "mapaoanisotropy":break;case "mapbump":k.bumpmap="h(p,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case" "mapbumpscale":k.bumpscale="p;break;case" "mapbumprepeat":case "mapbumpoffset":case "mapbumpwrap":case "mapbumpanisotropy":break;case "mapnormal":k.normalmap="h(p,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case" "mapnormalfactor":k.normalscale="[p,p];break;case" "mapnormalrepeat":case "mapnormaloffset":case "mapnormalwrap":case "mapnormalanisotropy":break;case "mapspecular":k.specularmap="h(p,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case" "mapspecularrepeat":case "mapspecularoffset":case "mapspecularwrap":case "mapspecularanisotropy":break; "mapmetalness":k.metalnessmap="h(p,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case" "mapmetalnessrepeat":case "mapmetalnessoffset":case "mapmetalnesswrap":case "mapmetalnessanisotropy":break;case "maproughness":k.roughnessmap="h(p,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case" "maproughnessrepeat":case "maproughnessoffset":case "maproughnesswrap":case "maproughnessanisotropy":break;case "mapalpha":k.alphamap="h(p,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case" "mapalpharepeat":case "mapalphaoffset":case "mapalphawrap":case "mapalphaanisotropy":break;case "flipsided":k.side="1;break;case" "doublesided":k.side="2;break;case" "transparency":console.warn("three.loader.creatematerial: transparency has been renamed to opacity");k.opacity="p;break;case" "depthtest":case "depthwrite":case "colorwrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":k[l]="p;break;case" "vertexcolors":!0="==p&&(k.vertexColors=2);"face"===p&&(k.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial:" unsupported",l,p)}}"meshbasicmaterial"="==k.type&&delete" k.emissive;"meshphongmaterial"!="=k.type&&delete" k.specular;1>k.opacity&&(k.transparent=!0);d.setTextures(m);return d.parse(k)}}()};zb.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e="b[c+1];if(b[c].test(a))return" e}return null}}; object.assign(de.prototype,{load:function(a,b,c,d){var this.texturepath?this.texturepath:zb.prototype.extracturlbase(a),g="new" sa(this.manager);g.setwithcredentials(this.withcredentials);g.load(a,function(c){c="JSON.parse(c);var" d="c.metadata;if(void" 0!="=d&&(d=d.type,void" "+a+" should be loaded with three.objectloader instead.");return}if("scene"="==d.toLowerCase()){console.error("THREE.JSONLoader:" "+ a+" three.sceneloader instead.");return}}c="e.parse(c,f);b(c.geometry,c.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,b){var" c="new" t,d="void" d,g,h,m,k,l,p,n,u,g,r,a,w,y="a.faces;l=a.vertices;var" x="a.normals,v=a.colors,z=0;if(void" q,d.x="l[m++]*b,d.y=l[m++]*b,d.z=l[m++]*b,c.vertices.push(d);" m="0;for(k=y.length;m<k;)if(b=y[m++],u=b&1,h=b&2,d=b&8,p=b&16,G=b&32,l=b&64,b&=128,u){u=new" ha;u.a="y[m];u.b=y[m+1];u.c=y[m+3];r=new" ha;r.a="y[m+1];r.b=y[m+2];r.c=y[m+3];m+=4;h&&(h=y[m++],u.materialIndex=h,r.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<z;d++)for(A=a.uvs[d],c.faceVertexUvs[d][h]=[],c.faceVertexUvs[d][h+1]=[],g=0;4">g;g++)n=y[m++],w=A[2*n],n=A[2*n+1],w=new D(w,n),2!==g&&c.faceVertexUvs[d][h].push(w),0!==g&&c.faceVertexUvs[d][h+1].push(w);p&&(p=3*y[m++],u.normal.set(x[p++],x[p++],x[p]),r.normal.copy(u.normal));if(G)for(d=0;4>d;d++)p=3*y[m++],G=new q(x[p++],x[p++],x[p]),2!==d&&u.vertexNormals.push(G),0!==d&&r.vertexNormals.push(G);l&&(l=y[m++],l=v[l],u.color.setHex(l),r.color.setHex(l));if(b)for(d=0;4>d;d++)l=y[m++],l=v[l],2!==d&&u.vertexColors.push(new J(l)),0!==d&&r.vertexColors.push(new J(l));c.faces.push(u);c.faces.push(r)}else{u=new ha;u.a=y[m++];u.b=y[m++];u.c=y[m++];h&&(h=y[m++],u.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<z;d++)for(a=a.uvs[d],c.facevertexuvs[d][h]= [],g="0;3">g;g++)n=y[m++],w=A[2*n],n=A[2*n+1],w=new D(w,n),c.faceVertexUvs[d][h].push(w);p&&(p=3*y[m++],u.normal.set(x[p++],x[p++],x[p]));if(G)for(d=0;3>d;d++)p=3*y[m++],G=new q(x[p++],x[p++],x[p]),u.vertexNormals.push(G);l&&(l=y[m++],u.color.setHex(v[l]));if(b)for(d=0;3>d;d++)l=y[m++],u.vertexColors.push(new J(v[l]));c.faces.push(u)}})(d);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,g=a.skinWeights.length;d<g;d+=b)c.skinweights.push(new 0="==a.materials||0===a.materials.length)return{geometry:c};d=zb.prototype.initMaterials(a.materials,b,this.crossOrigin);return{geometry:c,materials:d}}});Object.assign(Se.prototype,{load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var" fa(a.skinweights[d], 1<b?a.skinweights[d+1]:0,2<b?a.skinweights[d+2]:0,3<b?a.skinweights[d+3]:0));if(a.skinindices)for(d="0,g=a.skinIndices.length;d<g;d+=b)c.skinIndices.push(new" fa(a.skinindices[d],1<b?a.skinindices[d+1]:0,2<b?a.skinindices[d+2]:0,3<b?a.skinindices[d+3]:0));c.bones="a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&console.warn("When" skinning, number of vertices ("+c.vertices.length+"), skinindices ("+c.skinindices.length+"), and skinweights ("+ c.skinweights.length+") should match.")})();(function(b){if(void 0!="=a.morphTargets)for(var" d="0,g=a.morphTargets.length;d<g;d++){c.morphTargets[d]={};c.morphTargets[d].name=a.morphTargets[d].name;c.morphTargets[d].vertices=[];for(var" h="c.morphTargets[d].vertices,m=a.morphTargets[d].vertices,k=0,l=m.length;k<l;k+=3){var" p="new" q;p.x="m[k]*b;p.y=m[k+1]*b;p.z=m[k+2]*b;h.push(p)}}if(void" "morphcolors" no longer supported. using them as face colors.'), b="c.faces,h=a.morphColors[0].colors,d=0,g=b.length;d<g;d++)b[d].color.fromArray(h,3*d)})(d);(function(){var" g="0;g<d.length;g++){var" if(void e="this;(new" sa(e.manager)).load(a,function(c){var can't parse "+a+".",h.message);return}c="g.metadata;void" c.type||"geometry"="==c.type.toLowerCase()?console.error("THREE.ObjectLoader:" load "+a+". use three.jsonloader instead."):e.parse(g,b)},c,d)},settexturepath:function(a){this.texturepath="a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var" c="this.parseGeometries(a.geometries),d=this.parseImages(a.images,function(){void" void e},parsegeometries:function(a){var de,d="new" ce,e="0,f=a.length;e<f;e++){var" g,h="a[e];switch(h.type){case" "planegeometry":case "planebuffergeometry":g="new" ma[h.type](h.width,h.height,h.widthsegments,h.heightsegments);break;case "boxgeometry":case "boxbuffergeometry":case "cubegeometry":g="new" ma[h.type](h.width,h.height,h.depth,h.widthsegments,h.heightsegments,h.depthsegments);break;case "circlegeometry":case "circlebuffergeometry":g="new" ma[h.type](h.radius,h.segments,h.thetastart,h.thetalength);break;case "cylindergeometry":case "cylinderbuffergeometry":g="new" ma[h.type](h.radiustop,h.radiusbottom,h.height,h.radialsegments,h.heightsegments,h.openended,h.thetastart,h.thetalength);break;case "conegeometry":case "conebuffergeometry":g="new" ma[h.type](h.radius,h.height,h.radialsegments,h.heightsegments,h.openended,h.thetastart,h.thetalength);break;case "spheregeometry":case "spherebuffergeometry":g="new" ma[h.type](h.radius,h.widthsegments, h.heightsegments,h.phistart,h.philength,h.thetastart,h.thetalength);break;case "dodecahedrongeometry":case "icosahedrongeometry":case "octahedrongeometry":case "tetrahedrongeometry":g="new" ma[h.type](h.radius,h.detail);break;case "ringgeometry":case "ringbuffergeometry":g="new" ma[h.type](h.innerradius,h.outerradius,h.thetasegments,h.phisegments,h.thetastart,h.thetalength);break;case "torusgeometry":case "torusbuffergeometry":g="new" ma[h.type](h.radius,h.tube,h.radialsegments,h.tubularsegments,h.arc); break;case "torusknotgeometry":case "torusknotbuffergeometry":g="new" ma[h.type](h.radius,h.tube,h.tubularsegments,h.radialsegments,h.p,h.q);break;case "lathegeometry":case "lathebuffergeometry":g="new" ma[h.type](h.points,h.segments,h.phistart,h.philength);break;case "buffergeometry":g="d.parse(h);break;case" "geometry":g="c.parse(h.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader:" unsupported geometry type "'+h.type+'"');continue}g.uuid="h.uuid;void" b[h.uuid]="g}return" b},parsematerials:function(a,b){var hd;d.settextures(b);for(var c},parseanimations:function(a){for(var b},parseimages:function(a,b){function c(a){d.manager.itemstart(a);return g.load(a,function(){d.manager.itemend(a)},void 0,function(){d.manager.itemerror(a)})}var f="new" $d(b),g="new" yc(f); g.setcrossorigin(this.crossorigin);for(var m="a[f],k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m.url)?m.url:d.texturePath+m.url;e[m.uuid]=c(k)}}return" e},parsetextures:function(a,b){function c(a,b){if("number"="==typeof" a)return a;console.warn("three.objectloader.parsetexture: constant be in numeric form.",a);return b[a]}var cubeuvreflectionmapping:306,cubeuvrefractionmapping:307},e="{RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},f={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008},g={};if(void" k="a[h];void" "image" specified for',k.uuid);void undefined image", k.image);var l="new" ea(b[k.image]);l.needsupdate="!0;l.uuid=k.uuid;void" l}return g},parseobject:function(){var a="new" s;return function(b,c,d){function e(a){void geometry",a);return c[a]}function f(a){if(void material",a),d[a]}var g;switch(b.type){case "scene":g="new" mb;void j(b.background));void lb(b.fog.color,b.fog.near,b.fog.far):"fogexp2"="==" b.fog.type&&(g.fog="new" kb(b.fog.color,b.fog.density)));break;case "perspectivecamera":g="new" fa(b.fov,b.aspect,b.near,b.far);void "orthographiccamera":g="new" jb(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "ambientlight":g="new" ad(b.color,b.intensity);break;case "directionallight":g="new" zd(b.color,b.intensity);break;case "pointlight":g="new" xd(b.color,b.intensity,b.distance,b.decay);break;case "spotlight":g="new" wd(b.color,b.intensity,b.distance,b.angle,b.penumbra,b.decay);break;case "hemispherelight":g="new" ud(b.color,b.groundcolor,b.intensity);break;case "mesh":g="e(b.geometry);var" qd(g,h):new aa(g,h);break;case "lod":g="new" ec;break;case "line":g="new" ua(e(b.geometry),f(b.material),b.mode);break;case "linesegments":g="new" ga(e(b.geometry), f(b.material));break;case "pointcloud":case "points":g="new" mb(e(b.geometry),f(b.material));break;case "sprite":g="new" dc(f(b.material));break;case "group":g="new" fc;break;case "skinnedmesh":console.warn("three.objectloader.parseobject() does not support skinnedmesh type. instantiates object3d instead.");default:g="new" x}g.uuid="b.uuid;void" this.parseobject(b.shadow.camera)));void b.children)g.add(this.parseobject(b.children[m],c,d));if("lod"="==b.type)for(b=b.levels,h=0;h<b.length;h++){var" g}}()});ua.prototype="{constructor:ua,getPoint:function(a){console.warn("THREE.Curve:" warning, getpoint() implemented!");return null},getpointat:function(a){a="this.getUtoTmapping(a);return" this.getpoint(a)},getpoints:function(a){isnan(a)&&(a="5);for(var" b},getspacedpoints:function(a){isnan(a)&&(a="5);for(var" b},getlength:function(){var a[a.length-1]},getlengths:function(a){isnan(a)&&(a="this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return" this.cachearclengths; this.needsupdate="!1;var" this.cachearclengths="b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var">m)g=d+1;else if(0<m)h=d-1;else{h=d;break}d=h;if(c[d]===f)return d (e-1);g="c[d];return(d+(f-g)/(c[d+1]-g))/(e-1)},getTangent:function(a){var" b="a-1E-4;a+=1E-4;0">b&&(b=0);1<a&&(a=1);b=this.getpoint(b);return this.getpoint(a).clone().sub(b).normalize()},gettangentat:function(a){a="this.getUtoTmapping(a);return" this.gettangent(a)},computefrenetframes:function(a,b){var c="new" q,d="[],e=[],f=[],g=new" q,h="new" s,m,k;for(m="0;m<=a;m++)k=m/a,d[m]=this.getTangentAt(k),d[m].normalize();e[0]=new" q;f[0]="new" q;m="Number.MAX_VALUE;k=Math.abs(d[0].x);var" l="Math.abs(d[0].y),p=Math.abs(d[0].z);k<=m&&(m=k,c.set(1,0,0));l<=m&&(m=l,c.set(0,1,0));p<=m&&c.set(0,0,1);" g.crossvectors(d[0],c).normalize();e[0].crossvectors(d[0],g);f[0].crossvectors(d[0],e[0]);for(m="1;m<=a;m++)e[m]=e[m-1].clone(),f[m]=f[m-1].clone(),g.crossVectors(d[m-1],d[m]),g.length()">Number.EPSILON&&(g.normalize(),c=Math.acos(N.clamp(d[m-1].dot(d[m]),-1,1)),e[m].applyMatrix4(h.makeRotationAxis(g,c))),f[m].crossVectors(d[m],e[m]);if(!0===b)for(c=Math.acos(N.clamp(e[0].dot(e[a]),-1,1)),c/=a,0<d[0].dot(g.crossvectors(e[0],e[a]))&&(c=-c),m=1;m<=a;m++)e[m].applymatrix4(h.makerotationaxis(d[m],c*m)), f[m].crossvectors(d[m],e[m]);return{tangents:d,normals:e,binormals:f}}};ta.prototype="Object.create(ua.prototype);Ta.prototype.constructor=Ta;Ta.prototype.isLineCurve=!0;Ta.prototype.getPoint=function(a){if(1===a)return" this.v2.clone();var b="this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return" b};ta.prototype.getpointat="function(a){return" this.getpoint(a)};ta.prototype.gettangent="function(a){return" this.v2.clone().sub(this.v1).normalize()};ad.prototype="Object.assign(Object.create(ua.prototype)," {constructor:ad,add:function(a){this.curves.push(a)},closepath:function(){var a="this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new" ta(b,a))},getpoint:function(a){var>=b)return b=c[a]-b,a=this.curves[a],c=a.getLength(),a.getPointAt(0===c?0:1-b/c);a++}return null},getLength:function(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0;this.cacheLengths=null;this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getlength(),a.push(b);return this.cachelengths="a},getSpacedPoints:function(a){isNaN(a)&&(a=40);for(var" b="[],c=0;c<=a;c++)b.push(this.getPoint(c/a));this.autoClose&&b.push(b[0]);return" b},getpoints:function(a){a="a||12;for(var" f="e[d],f=f.getPoints(f&&f.isEllipseCurve?2*a:f&&f.isLineCurve?1:f&&f.isSplineCurve?a*f.points.length:a),g=0;g<f.length;g++){var" h="f[g];c&&c.equals(h)||(b.push(h),c=h)}this.autoClose&&1<b.length&&!b[b.length-1].equals(b[0])&&b.push(b[0]);return" b},createpointsgeometry:function(a){a="this.getPoints(a);return" this.creategeometry(a)},createspacedpointsgeometry:function(a){a="this.getSpacedPoints(a);return" this.creategeometry(a)},creategeometry:function(a){for(var t,c="0,d=a.length;c<d;c++){var" e="a[c];" b.vertices.push(new q(e.x,e.y,e.z||0))}return b}});wa.prototype="Object.create(ua.prototype);Wa.prototype.constructor=Wa;Wa.prototype.isEllipseCurve=!0;Wa.prototype.getPoint=function(a){for(var">c;)c+=b;for(;c>b;)c-=b;c<number.epsilon&&(c=d?0:b);!0!==this.aclockwise||d||(c=c===b?-b:c-b);b=this.astartangle+a*c;a=this.ax+this.xradius*math.cos(b);var e="this.aY+this.yRadius*Math.sin(b);0!==this.aRotation&&(b=Math.cos(this.aRotation)," c="Math.sin(this.aRotation),d=a-this.aX,e-=this.aY,a=d*b-e*c+this.aX,e=d*c+e*b+this.aY);return" new d(a,e)};cb.prototype="Object.create(ua.prototype);Cb.prototype.constructor=Cb;Cb.prototype.isSplineCurve=!0;Cb.prototype.getPoint=function(a){var" b="this.points,c=(b.length-1)*a;a=Math.floor(c);var">b.length-2?b.length-1:a+1],b=b[a>b.length-3?b.length-1:a+2];return new D(Te(c,d.x,e.x,f.x,b.x),Te(c,d.y,e.y,f.y,b.y))};fc.prototype=Object.create(ua.prototype);fc.prototype.constructor=fc;fc.prototype.getPoint=function(a){var b=this.v0,c=this.v1,d=this.v2,e=this.v3;return new D(Bb(a,b.x,c.x,d.x,e.x),Bb(a,b.y,c.y,d.y,e.y))};gc.prototype=Object.create(ua.prototype);gc.prototype.constructor=gc;gc.prototype.getPoint=function(a){var b=this.v0,c=this.v1,d=this.v2;return new D(Ab(a,b.x,c.x,d.x),Ab(a,b.y,c.y,d.y))};var xe=Object.assign(Object.create(ad.prototype),{fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineto(a[b].x,a[b].y)},moveto:function(a, b){this.currentpoint.set(a,b)},lineto:function(a,b){var c="new" ta(this.currentpoint.clone(),new d(a,b));this.curves.push(c);this.currentpoint.set(a,b)},quadraticcurveto:function(a,b,c,d){a="new" gc(this.currentpoint.clone(),new d(a,b),new d(c,d));this.curves.push(a);this.currentpoint.set(c,d)},beziercurveto:function(a,b,c,d,e,f){a="new" fc(this.currentpoint.clone(),new d(c,d),new d(e,f));this.curves.push(a);this.currentpoint.set(e,f)},splinethru:function(a){var b="[this.currentPoint.clone()].concat(a)," cb(b);this.curves.push(b);this.currentpoint.copy(a[a.length-1])},arc:function(a,b,c,d,e,f){this.absarc(a+this.currentpoint.x,b+this.currentpoint.y,c,d,e,f)},absarc:function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,b,c,d,e,f,g,h){this.absellipse(a+this.currentpoint.x,b+this.currentpoint.y,c,d,e,f,g,h)},absellipse:function(a,b,c,d,e,f,g,h){a="new" wa(a,b,c,d,e,f,g,h);0<this.curves.length&&(b="a.getPoint(0),b.equals(this.currentPoint)||this.lineTo(b.x,b.y));this.curves.push(a);" a="a.getPoint(1);this.currentPoint.copy(a)}});bd.prototype=xe;xe.constructor=bd;Db.prototype=Object.assign(Object.create(xe),{constructor:Db,getPointsHoles:function(a){for(var" b},extractallpoints:function(a){return{shape:this.getpoints(a),holes:this.getpointsholes(a)}},extractpoints:function(a){return this.extractallpoints(a)}});ee.prototype="{moveTo:function(a,b){this.currentPath=new" bd;this.subpaths.push(this.currentpath); this.currentpath.moveto(a,b)},lineto:function(a,b){this.currentpath.lineto(a,b)},quadraticcurveto:function(a,b,c,d){this.currentpath.quadraticcurveto(a,b,c,d)},beziercurveto:function(a,b,c,d,e,f){this.currentpath.beziercurveto(a,b,c,d,e,f)},splinethru:function(a){this.currentpath.splinethru(a)},toshapes:function(a,b){function c(a){for(var e="a[c],f=new" db;f.curves="e.curves;b.push(f)}return" b}function d(a,b){for(var g="b[e],h=" b[f],k="h.x-g.x,m=h.y-g.y;if(Math.abs(m)">Number.EPSILON){if(0>m&&(g=b[f],k=-k,h=b[e],m=-m),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=m*(a.x-g.x)-k*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return 0="==b&&(b=100);void" d}var e="Ia.isClockWise,f=this.subPaths;if(0===f.length)return[];if(!0===b)return" c(f);var g,h,m,k="[];if(1===f.length)return" h="f[0],m=new" db,m.curves="h.curves,k.push(m),k;var" l="!e(f[0].getPoints()),l=a?!l:l;m=[];var" p="[],n=[],q=0,x;p[q]=void" 0;n[q]="[];for(var" r="0,A=f.length;r<A;r++)h=f[r],x=h.getPoints(),g=e(x),(g=a?!g:g)?(!l&&p[q]&&q++,p[q]={s:new" db,p:x},p[q].s.curves="h.curves,l&&q++,n[q]=[]):n[q].push({h:h,p:x[0]});if(!p[0])return" c(f);if(1<p.length){r="!1;h=[];e=0;for(f=p.length;e<f;e++)m[e]=[];e=0;for(f=p.length;e<f;e++)for(g=n[e],l=0;l<g.length;l++){q=g[l];x=!0;for(A=0;A<p.length;A++)d(q.p,p[A].p)&&(e!==A&&h.push({froms:e,tos:A,hole:l}),x?(x=!1,m[A].push(q)):r=!0);x&&m[e].push(q)}0<h.length&&(r||(n=m))}r=" 0;for(e="p.length;r<e;r++)for(m=p[r].s,k.push(m),h=n[r],f=0,g=h.length;f<g;f++)m.holes.push(h[f].h);return" k}};object.assign(fe.prototype,{isfont:!0,generateshapes:function(a,b,c){void d="this.data;a=String(a).split("");var" m="0;m<a.length;m++){var" k="a[m];if("\n"===k)g=0,h-=f;else{var" l;l="e;var" q="new" ee,x="[],r,A,w,y,z," v,d,i;if(k.o)for(var c="k._cachedOutline||(k._cachedOutline=k.o.split("" ")),f="0,J=C.length;F<J;)switch(C[F++]){case" "m":r="C[F++]*l+p;A=C[F++]*l+n;q.moveTo(r,A);break;case" "l":r="C[F++]*l+p;A=C[F++]*l+n;q.lineTo(r,A);break;case" "q":r="C[F++]*l+p;A=C[F++]*l+n;z=C[F++]*l+p;v=C[F++]*l+n;q.quadraticCurveTo(z,v,r,A);if(y=x[x.length-1]){w=y.x;y=y.y;for(var" n="H/c;Ab(N,w,z,r);Ab(N,y,v,A)}}break;case" "b":if(r="C[F++]*l+p,A=C[F++]*l+n,z=C[F++]*l+p,v=C[F++]*l+n,D=C[F++]*l+p,I=C[F++]*l+n,q.bezierCurveTo(z," v,d,i,r,a),y="x[x.length-1])for(w=y.x,y=y.y,H=1;H<=c;H++)N=H/c,Bb(N,w,z,D,r),Bb(N,y,v,I,A)}l={offsetX:k.ha*l,path:q}}else" 0;g+="l.offsetX;b.push(l.path)}}c=[];d=0;for(a=b.length;d<a;d++)Array.prototype.push.apply(c,b[d].toShapes());return" c}});object.assign(ue.prototype,{load:function(a,b,c,d){var sa(this.manager)).load(a,function(a){var c;try{c="JSON.parse(a)}catch(d){console.warn("THREE.FontLoader:" typeface.js support is being deprecated. use typeface.json instead."),c="JSON.parse(a.substring(65," a.length-2))}a="e.parse(c);b&&b(a)},c,d)},parse:function(a){return" new fe(a)}});var pd,je="{getContext:function(){void" (window.audiocontext||window.webkitaudiocontext));return pd},setcontext:function(a){pd="a}};Object.assign(ge.prototype,{load:function(a,b,c,d){var" sa(this.manager);e.setresponsetype("arraybuffer");e.load(a,function(a){je.getcontext().decodeaudiodata(a,function(a){b(a)})},c,d)}});he.prototype="Object.assign(Object.create(ma.prototype),{constructor:he,isRectAreaLight:!0," copy:function(a){ma.prototype.copy.call(this,a);this.width="a.width;this.height=a.height;return" this}});object.assign(ve.prototype,{update:function(){var a,b,c,d,e,f,g,h="new" s,m="new" s;return function(k){if(a!="=this||b!==k.focus||c!==k.fov||d!==k.aspect*this.aspect||e!==k.near||f!==k.far||g!==k.zoom){a=this;b=k.focus;c=k.fov;d=k.aspect*this.aspect;e=k.near;f=k.far;g=k.zoom;var" -q*d+n;x="q*d+n;l.elements[0]=2*e/(x-p);l.elements[8]=(x+p)/(x-p);this.cameraL.projectionMatrix.copy(l);p=-q*d-n;x=q*d-n;l.elements[0]=2*e/(x-p);l.elements[8]=(x+p)/(x-p);this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(k.matrixWorld).multiply(m);this.cameraR.matrixWorld.copy(k.matrixWorld).multiply(h)}}()});Id.prototype=Object.create(x.prototype);Id.prototype.constructor=Id;ie.prototype=Object.assign(Object.create(x.prototype),{constructor:ie,getInput:function(){return" this.gain}, removefilter:function(){null!="=this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return" this.filter},setfilter:function(a){null!="=this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return" this.gain.gain.value}, setmastervolume:function(a){this.gain.gain.value="a},updateMatrixWorld:function(){var" a="new" q,b="new" ca,c="new" q,d="new" q;return function(e){x.prototype.updatematrixworld.call(this,e);e="this.context.listener;var" f="this.up;this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);e.positionX?(e.positionX.setValueAtTime(a.x,this.context.currentTime),e.positionY.setValueAtTime(a.y,this.context.currentTime),e.positionZ.setValueAtTime(a.z,this.context.currentTime),e.forwardX.setValueAtTime(d.x,this.context.currentTime)," e.forwardy.setvalueattime(d.y,this.context.currenttime),e.forwardz.setvalueattime(d.z,this.context.currenttime),e.upx.setvalueattime(f.x,this.context.currenttime),e.upy.setvalueattime(f.y,this.context.currenttime),e.upz.setvalueattime(f.z,this.context.currenttime)):(e.setposition(a.x,a.y,a.z),e.setorientation(d.x,d.y,d.z,f.x,f.y,f.z))}}()});hc.prototype="Object.assign(Object.create(x.prototype),{constructor:hc,getOutput:function(){return" this.gain},setnodesource:function(a){this.hasplaybackcontrol="!1;this.sourceType="audioNode";this.source=a;this.connect();return" this},setbuffer:function(a){this.buffer="a;this.sourceType="buffer";this.autoplay&&this.play();return" this},play:function(){if(!0="==this.isPlaying)console.warn("THREE.Audio:" audio already playing.");else if(!1="==this.hasPlaybackControl)console.warn("THREE.Audio:" this has no playback control.");else{var this.starttime);a.start(0,this.starttime);this.isplaying="!0;this.source=a;return" this.connect()}},pause:function(){if(!1="==this.hasPlaybackControl)console.warn("THREE.Audio:" control.");else return this.source.stop(),this.starttime="this.context.currentTime,this.isPlaying=!1,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio:" this.filters.length){this.source.connect(this.filters[0]);for(var this.source.connect(this.getoutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var this.source.disconnect(this.getoutput()); this},getfilters:function(){return this.filters},setfilters:function(a){a||(a="[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return" this},getfilter:function(){return this.getfilters()[0]},setfilter:function(a){return this.setfilters(a?[a]:[])},setplaybackrate:function(a){if(!1="==this.hasPlaybackControl)console.warn("THREE.Audio:" this.playbackrate="a,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate," this.context.currenttime),this},getplaybackrate:function(){return this.playbackrate},onended:function(){this.isplaying="!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio:" control."),!1):this.loop},setloop:function(a){if(!1="==this.hasPlaybackControl)console.warn("THREE.Audio:" this.loop="a,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return" setvolume:function(a){this.gain.gain.value="a;return" this}});ke.prototype="Object.assign(Object.create(hc.prototype),{constructor:ke,getOutput:function(){return" this.panner},getrefdistance:function(){return this.panner.refdistance},setrefdistance:function(a){this.panner.refdistance="a},getRolloffFactor:function(){return" this.panner.rollofffactor},setrollofffactor:function(a){this.panner.rollofffactor="a},getDistanceModel:function(){return" this.panner.distancemodel},setdistancemodel:function(a){this.panner.distancemodel="a},getMaxDistance:function(){return" this.panner.maxdistance},setmaxdistance:function(a){this.panner.maxdistance="a},updateMatrixWorld:function(){var" function(b){x.prototype.updatematrixworld.call(this,b);a.setfrommatrixposition(this.matrixworld);this.panner.setposition(a.x,a.y,a.z)}}()});object.assign(le.prototype,{getfrequencydata:function(){this.analyser.getbytefrequencydata(this.data);return this.data},getaveragefrequency:function(){for(var b[c];return b.length}});jd.prototype="{constructor:Jd,accumulate:function(a,b){var" f+="b,this._mixBufferRegion(c,e,0,b/f,d);this.cumulativeWeight=f},apply:function(a){var" b="this.valueSize,c=this.buffer;a=a*b+b;var">d&&this._mixBufferRegion(c,a,3*b,1-d,b);for(var d=b,f=b+b;d!==f;++d)if(c[d]!==c[d+b]){e.setValue(c,a);break}},saveOriginalState:function(){var a=this.buffer,b=this.valueSize,c=3*b;this.binding.getValue(a,c);for(var d=b;d!==c;++d)a[d]=a[c+d%b];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(a,b,c,d,e){if(.5<=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d,e){ca.slerpflat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var 0="==a[c]){console.error("" f="1-d,g=0;g!==e;++g){var" h="b+g;a[h]=a[h]*f+a[c+g]*d}}};ka.prototype={constructor:ka,getValue:function(a," b){this.bind();this.getvalue(a,b)},setvalue:function(a,b){this.bind();this.setvalue(a,b)},bind:function(){var a="this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;a||(this.node=a=ka.findNode(this.rootNode,b.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(c){var" "materials":if(!a.material){console.error(" can not bind to material as node does have material",this);return}if(!a.material.materials){console.error(" material.materials node.material materials array", this);return}a="a.material.materials;break;case" "bones":if(!a.skeleton){console.error(" bones skeleton",this);return}a="a.skeleton.bones;for(c=0;c<a.length;c++)if(a[c].name===f){f=c;break}break;default:if(void" objectname of node, undefined",this);return}a="a[c]}if(void" 0!="=f){if(void" trying objectindex objectname, but is undefined:",this,a);return}a="a[f]}}f=a[d];if(void" update property for track: "+ b.nodename+"."+d+" it wasn't found.",a);else{b="this.Versioning.None;void" morphtargetinfluences becasuse geometry",this);return}if(!a.geometry.morphtargets){console.error(" geometry.morphtargets", this);return}for(c="0;c<this.node.geometry.morphTargets.length;c++)if(a.geometry.morphTargets[c].name===e){e=c;break}}c=this.BindingType.ArrayElement;this.resolvedProperty=f;this.propertyIndex=e}else" void console.error(" this.path+" found.")},unbind:function(){this.node="null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};Object.assign(ka.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:ka.prototype.getValue,_setValue_unbound:ka.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]}," function(a,b){for(var c="this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.node[this.propertyName]=a[b]},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.needsUpdate=!0},function(a,b){this.node[this.propertyName]=a[b];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var" d="0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var" this.targetobject.matrixworldneedsupdate="!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b);this.targetObject.matrixWorldNeedsUpdate=!0}]]});ka.Composite=function(a,b,c){c=c||ka.parseTrackName(b);this._targetGroup=a;this._bindings=a.subscribe_(b,c)};ka.Composite.prototype={constructor:ka.Composite,getValue:function(a,b){this.bind();var" a&&a.isanimationobjectgroup?new ka.composite(a,b,c):new ka(a,b,c)};ka.parsetrackname="function(a){var" b="/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/.exec(a);if(!b)throw" error("cannot parse trackname at all: "+a);b="{nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]};if(null===b.propertyName||0===b.propertyName.length)throw" error("can propertyname from trackname: "+a);return b};ka.findnode="function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return" a;if(a.skeleton){var d}return null}(a.skeleton);if(c)return c}if(a.children){var g="a[c];if(g.name===b||g.uuid===b||(g=d(g.children)))return" g}return null};if(c="d(a.children))return" c}return null};me.prototype="{constructor:me,isAnimationObjectGroup:!0,add:function(a){for(var" arguments.length;k!="=l;++k){var" p="arguments[k],n=p.uuid,q=e[n];if(void" n="0,x=m;n!==x;++n)h[n].push(new" ka(p,f[n],g[n]))}else if(q<d){var r="--d,x=b[r];e[x.uuid]=q;b[q]=x;e[n]=r;b[r]=p;n=0;for(x=m;n!==x;++n){var" z="h[n],w=z[q];z[q]=z[r];void" ka(p,f[n],g[n]));z[r]="w}}else" objects with the same uuid detected. clean caches or recreate your infrastructure when reloading scenes...")}this.ncachedobjects_="d},remove:function(a){for(var" m="arguments[g],k=m.uuid,l=d[k];if(void">=c){var p=c++,n=b[p];d[n.uuid]=l;b[l]=n;d[k]=p;b[p]=m;m=0;for(k=f;m!==k;++m){var n=e[m],q=n[l];n[l]=n[p];n[p]=q}}}this.nCachedObjects_=c},uncache:function(a){for(var b=this._objects,c=b.length,d=this.nCachedObjects_,e=this._indicesByUUID,f=this._bindings,g=f.length,h=0,m=arguments.length;h!==m;++h){var k=arguments[h].uuid,l=e[k];if(void 0!==l)if(delete e[k],l<d){var k="--d,p=b[k],n=--c,q=b[n];e[p.uuid]=l;b[l]=p;e[q.uuid]=k;b[k]=q;b.pop();p=0;for(q=g;p!==q;++p){var" x="f[p],r=x[n];x[l]=x[k];x[k]=r;x.pop()}}else" for(n="--c,q=b[n],e[q.uuid]=l,b[l]=q,b.pop(),p=0,q=g;p!==q;++p)x=f[p],x[l]=x[n],x.pop()}this.nCachedObjects_=d},subscribe_:function(a,b){var" c="this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void" 0!="=d)return" e[d];var f="this._paths,g=this._parsedPaths,h=this._objects,l=this.nCachedObjects_,k=Array(h.length),d=e.length;" c[a]="d;f.push(a);g.push(b);e.push(k);c=l;for(d=h.length;c!==d;++c)k[c]=new" ka(h[c],a,b);return k},unsubscribe_:function(a){var b="this._bindingsIndicesByPath,c=b[a];if(void" d="this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c;f[c]=h;f.pop();e[c]=e[g];e.pop();d[c]=d[g];d.pop()}}};ne.prototype={constructor:ne,play:function(){this._mixer._activateAction(this);return" this},stop:function(){this._mixer._deactivateaction(this);return this.reset()},reset:function(){this.paused="!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return" this.stopfading().stopwarping()},isrunning:function(){return this.enabled&&!this.paused&&0!="=this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return" this._mixer._isactiveaction(this)},startat:function(a){this._starttime="a;return" this},setloop:function(a,b){this.loop="a;this.repetitions=b;return" this},seteffectiveweight:function(a){this.weight="a;this._effectiveWeight=this.enabled?" a:0;return this.stopfading()},geteffectiveweight:function(){return this._effectiveweight},fadein:function(a){return this._schedulefading(a,0,1)},fadeout:function(a){return this._schedulefading(a,1,0)},crossfadefrom:function(a,b,c){a.fadeout(b);this.fadein(b);if(c){c="this._clip.duration;var" this},crossfadeto:function(a,b,c){return a.crossfadefrom(this,b,c)},stopfading:function(){var a="this._weightInterpolant;null!==a&&(this._weightInterpolant=" null,this._mixer._takebackcontrolinterpolant(a));return this},seteffectivetimescale:function(a){this.timescale="a;this._effectiveTimeScale=this.paused?0:a;return" this.stopwarping()},geteffectivetimescale:function(){return this._effectivetimescale},setduration:function(a){this.timescale="this._clip.duration/a;return" this.stopwarping()},syncwith:function(a){this.time="a.time;this.timeScale=a.timeScale;return" this.stopwarping()},halt:function(a){return this.warp(this._effectivetimescale,0,a)},warp:function(a, b,c){var this},stopwarping:function(){var this},getmixer:function(){return this._mixer},getclip:function(){return this._clip},getroot:function(){return this._localroot|| this._mixer._root},_update:function(a,b,c,d){var e="this._startTime;if(null!==e){b=(a-e)*c;if(0">b||0===c)return;this._startTime=null;b*=c}b*=this._updateTimeScale(a);c=this._updateTime(b);a=this._updateWeight(a);if(0<a){b=this._interpolants;for(var e="this._propertyBindings,f=0,g=b.length;f!==g;++f)b[f].evaluate(c),e[f].accumulate(d,a)}},_updateWeight:function(a){var" b="0;if(this.enabled){var" d="c.evaluate(a)[0],b=b*d;a">c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b},_updateTimeScale:function(a){var b=0;if(!this.paused){var b=this.timeScale,c=this._timeScaleInterpolant;if(null!==c){var d=c.evaluate(a)[0],b=b*d;a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b},_updateTime:function(a){var b=this.time+a;if(0===a)return b;var c=this._clip.duration,d=this.loop,e=this._loopCount;if(2200===d)a:{if(-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1)),b>=c)b=c;else if(0>b)b=0;else break a;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{d=2202===d;-1===e&&(0<=a?(e=0,this._setendings(!0,0===this.repetitions,d)):this._setendings(0===this.repetitions,!0,d));if(b>=c||0>b){var f=Math.floor(b/c),b=b-c*f,e=e+Math.abs(f),g=this.repetitions-e;0>g?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,b=0<a?c:0,this._mixer.dispatchevent({type:"finished", action:this,direction:0<a?1:-1})):(0="==g?(a=0">a,this._setEndings(a,!a,d)):this._setEndings(!1,!1,d),this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f}))}if(d&&1===(e&1))return this.time=b,c-b}return this.time=b},_setEndings:function(a,b,c){var d=this._interpolantSettings;c?(d.endingStart=2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:2400:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(a,b,c){var d=this._mixer,e=d.time,f=this._weightInterpolant;null===f&&(this._weightInterpolant=f=d._lendControlInterpolant());d=f.parameterPositions;f=f.sampleValues;d[0]=e;f[0]=b;d[1]=e+a;f[1]=c;return this}};cd.prototype={constructor:cd,clipAction:function(a,b){var c=b||this._root,d=c.uuid,e="string"===typeof a?qa.findByName(c,a):a,c=null!==e?e.uuid:a,f=this._actionsByClip[c],g=null;if(void 0!==f){g=f.actionByRoot[d];if(void 0!==g)return g;g=f.knownActions[0];null===e&&(e=g._clip)}if(null===e)return null;e=new ne(this,e,b);this._bindAction(e,g);this._addInactiveAction(e,c,d);return e},existingAction:function(a,b){var c=b||this._root,d=c.uuid,c="string"===typeof a?qa.findByName(c,a):a,c=this._actionsByClip[c?c.uuid:a];return void 0!==c?c.actionByRoot[d]||null:null},stopAllAction:function(){for(var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings,e=this._nActiveBindings=this._nActiveActions=0;e!==b;++e)a[e].reset();for(e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),f=this._accuIndex^=1,g=0;g!==c;++g){var h=b[g];h.enabled&&h._update(d,a,e,f)}a=this._bindings;b=this._nActiveBindings;for(g=0;g!==b;++g)a[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions;a=a.uuid;var c=this._actionsByClip,d=c[a];if(void 0!==d){for(var d=d.knownActions,e=0,f=d.length;e!==f;++e){var g=d[e];this._deactivateAction(g);var h=g._cacheIndex,l=b[b.length-1];g._cacheIndex=null;g._byClipCacheIndex=null;l._cacheIndex=h;b[h]=l;b.pop();this._removeInactiveBindingsForAction(g)}delete c[a]}},uncacheRoot:function(a){a=a.uuid;var b=this._actionsByClip,c;for(c in b){var d=b[c].actionByRoot[a];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}c=this._bindingsByRootAndName[a];if(void 0!==c)for(var e in c)a=c[e],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,b){var c=this.existingAction(a,b);null!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}};Object.assign(cd.prototype,{_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings,g=a._interpolants,h=c.uuid,l=this._bindingsByRootAndName,k=l[h];void 0===k&&(k={},l[h]=k);for(l=0;l!==e;++l){var q=d[l],p=q.name,n=k[p];if(void 0===n){n=f[l];if(void 0!==n){null===n._cacheIndex&&(++n.referenceCount,this._addInactiveBinding(n,h,p));continue}n=new Jd(ka.create(c,p,b&&b._propertyBindings[l].binding.parsedPath),q.ValueTypeName,q.getValueSize());++n.referenceCount;this._addInactiveBinding(n,h,p)}f[l]=n;g[l].resultBuffer=n.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,c,b)}b=a._propertyBindings;c=0;for(d=b.length;c!==d;++c){var e=b[c];0===e.useCount++&&(this._lendBinding(e),e.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0===--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nactiveactions},_addinactiveaction:function(a,b,c){var 0="==f?(f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f):(b=f.knownActions,a._byClipCacheIndex=b.length,b.push(a));a._cacheIndex=d.length;d.push(a);" d="this._actions,e=this._actionsByClip,f=e[b];void" f.actionbyroot[c]="a},_removeInactiveAction:function(a){var" b="this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d;b[d]=c;b.pop();a._cacheIndex=null;var" c="a._clip.uuid,d=this._actionsByClip,e=d[c],f=e.knownActions,g=f[f.length-1],h=a._byClipCacheIndex;g._byClipCacheIndex=h;f[h]=g;f.pop();a._byClipCacheIndex=null;delete" e.actionbyroot[(b._localroot||this._root).uuid];0="==f.length&&delete" d[c];this._removeinactivebindingsforaction(a)},_removeinactivebindingsforaction:function(a){a="a._propertyBindings;" for(var e);e[c]="a;a._cacheIndex=f.length;f.push(a)},_removeInactiveBinding:function(a){var" f[c];a:{for(var h in f)break a;delete e[d]}},_lendbinding:function(a){var --this._nactivebindings,e="b[d];a._cacheIndex=d;b[d]=a;e._cacheIndex=c;b[c]=e},_lendControlInterpolant:function(){var" a="this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];void" zc(new float32array(2),new float32array(2),1,this._controlinterpolantsresultbuffer),c.__cacheindex="b,a[b]=c);return" c},_takebackcontrolinterpolant:function(a){var b[c]="e},_controlInterpolantsResultBuffer:new" float32array(1)});object.assign(cd.prototype,pa.prototype);kd.prototype.clone="function(){return" new kd(void c;for(c b)this.addattribute(c,b[c].clone());a="a.groups;c=0;for(b=a.length;c<b;c++){var" this};oe.prototype="{constructor:oe,isInterleavedBufferAttribute:!0,get" count(){return this.data.count},get array(){return this.data.array},setx:function(a,b){this.data.array[a*this.data.stride+this.offset]="b;return" this},sety:function(a,b){this.data.array[a*this.data.stride+this.offset+1]="b;return" this},setz:function(a,b){this.data.array[a*this.data.stride+ this.offset+2]="b;return" this},setw:function(a,b){this.data.array[a*this.data.stride+this.offset+3]="b;return" this},getx:function(a){return this.data.array[a*this.data.stride+this.offset]},gety:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getz:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getw:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setxy:function(a,b,c){a="a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+" 1]="c;return" this},setxyz:function(a,b,c,d){a="a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;return" this},setxyzw:function(a,b,c,d,e){a="a*this.data.stride+this.offset;this.data.array[a+0]=b;this.data.array[a+1]=c;this.data.array[a+2]=d;this.data.array[a+3]=e;return" this}};ic.prototype="{constructor:ic,isInterleavedBuffer:!0,set" needsupdate(a){!0="==a&&this.version++},setArray:function(a){if(Array.isArray(a))throw" typeerror("three.bufferattribute: array should be typed array."); this.count="void" 0!="=a?a.length/this.stride:0;this.array=a},setDynamic:function(a){this.dynamic=a;return" this},copy:function(a){this.array="new" a.array.constructor(a.array);this.count="a.count;this.stride=a.stride;this.dynamic=a.dynamic;return" this},copyat:function(a,b,c){a*="this.stride;c*=b.stride;for(var" this},set:function(a,b){void this},clone:function(){return(new this.constructor).copy(this)},onupload:function(a){this.onuploadcallback="a;return" this}};jc.prototype="Object.create(ic.prototype);jc.prototype.constructor=jc;jc.prototype.isInstancedInterleavedBuffer=!0;jc.prototype.copy=function(a){ic.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return" this};kc.prototype="Object.create(U.prototype);kc.prototype.constructor=kc;kc.prototype.isInstancedBufferAttribute=!0;kc.prototype.copy=function(a){U.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return" this};pe.prototype="{constructor:pe,linePrecision:1," set:function(a,b){this.ray.set(a,b)},setfromcamera:function(a,b){b&&b.isperspectivecamera?(this.ray.origin.setfrommatrixposition(b.matrixworld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):b&&b.isorthographiccamera?(this.ray.origin.set(a.x,a.y,(b.near+b.far) (b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformdirection(b.matrixworld)):console.error("three.raycaster: unsupported camera type.")},intersectobject:function(a,b){var b);c.sort(we);return c},intersectobjects:function(a,b){var console.warn("three.raycaster.intersectobjects: objects is not an array."),c;for(var c}};re.prototype="{constructor:re,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.elapsedTime=0;this.running=!0},stop:function(){this.getElapsedTime();this.running=!1},getElapsedTime:function(){this.getDelta();return" this.elapsedtime}, getdelta:function(){var a}};se.prototype="{constructor:se,set:function(a,b,c){this.radius=a;this.phi=b;this.theta=c;return" this.constructor).copy(this)},copy:function(a){this.radius="a.radius;this.phi=a.phi;this.theta=a.theta;return" this},makesafe:function(){this.phi="Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));" return this},setfromvector3:function(a){this.radius="a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(N.clamp(a.y/this.radius,-1,1)));return" this}};te.prototype="{constructor:te,set:function(a,b,c){this.radius=a;this.theta=b;this.y=c;return" this.theta="Math.atan2(a.x,a.z);this.y=a.y;return" this}};oa.prototype="Object.create(Aa.prototype);oa.prototype.constructor=oa;oa.prototype.createAnimation=function(a,b,c,d){b={start:b,end:c,length:c-b+1,fps:d,duration:(c-b)/d,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};oa.prototype.autoCreateAnimations=function(a){for(var" g;f++){var l="h[1];d[l]||(d[l]={start:Infinity,end:-Infinity});h=d[l];f<h.start&&(h.start=f);f">h.end&&(h.end=f);c||(c=l)}}for(l in d)h=d[l],this.createAnimation(l,h.start,h.end,a);this.firstAnimation=c};oa.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};oa.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};oa.prototype.setAnimationFPS=function(a,b){var c=this.animationsMap[a];c&&(c.fps=b,c.duration=(c.end-c.start)/c.fps)};oa.prototype.setAnimationDuration=function(a,b){var c=this.animationsMap[a];c&&(c.duration=b,c.fps=(c.end-c.start)/c.duration)};oa.prototype.setAnimationWeight=function(a,b){var c=this.animationsMap[a];c&&(c.weight=b)};oa.prototype.setAnimationTime=function(a,b){var c=this.animationsMap[a];c&&(c.time=b)};oa.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};oa.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};oa.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};oa.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};oa.prototype.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d="this.animationsList[b];if(d.active){var" e="d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time">d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.start+N.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=e*g,this.morphTargetInfluences[d.lastFrame]=(1-e)*g):this.morphTargetInfluences[d.currentFrame]=g}}};dd.prototype=Object.create(x.prototype);dd.prototype.constructor=dd;dd.prototype.isImmediateRenderObject=!0;ed.prototype=Object.create(ga.prototype);ed.prototype.constructor=ed;ed.prototype.update=function(){var a=new q,b=new q,c=new ya;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);c.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,g=this.object.geometry;if(g&&g.isGeometry)for(var h=g.vertices,l=g.faces,k=g=0,q=l.length;k<q;k++)for(var p="l[k],n=0,u=p.vertexNormals.length;n<u;n++){var" x="p.vertexNormals[n];a.copy(h[p[d[n]]]).applyMatrix4(e);b.copy(x).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);f.setXYZ(g,a.x,a.y,a.z);g+=1;f.setXYZ(g,b.x,b.y,b.z);g+=1}else" if(g&&g.isbuffergeometry)for(d="g.attributes.position,h=g.attributes.normal,n=g=0,u=d.count;n<" u;n++)a.set(d.getx(n),d.gety(n),d.getz(n)).applymatrix4(e),b.set(h.getx(n),h.gety(n),h.getz(n)),b.applymatrix3(c).normalize().multiplyscalar(this.size).add(a),f.setxyz(g,a.x,a.y,a.z),g+="1,f.setXYZ(g,b.x,b.y,b.z),g+=1;f.needsUpdate=!0;return" this}}();lc.prototype="Object.create(x.prototype);lc.prototype.constructor=lc;lc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};lc.prototype.update=function(){var" a="new" q,b="new" q;return function(){var c="this.light.distance?" this.light.distance:1e3,d="c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();mc.prototype=Object.create(ga.prototype);mc.prototype.constructor=mc;mc.prototype.getBoneList=function(a){var" b="[];a&&a.isBone&&b.push(a);for(var" return b};mc.prototype.update="function(){var" s,c="new" s;return d="this.geometry,e=d.getAttribute("position");c.getInverse(this.root.matrixWorld);for(var" f="0,g=0;f<this.bones.length;f++){var" h="this.bones[f];h.parent&&h.parent.isBone&&(b.multiplyMatrices(c,h.matrixWorld),a.setFromMatrixPosition(b),e.setXYZ(g,a.x,a.y,a.z),b.multiplyMatrices(c,h.parent.matrixWorld),a.setFromMatrixPosition(b),e.setXYZ(g+1,a.x,a.y,a.z),g+=2)}d.getAttribute("position").needsUpdate=!0}}();nc.prototype=" object.create(aa.prototype);nc.prototype.constructor="nc;nc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};nc.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};oc.prototype=Object.create(x.prototype);oc.prototype.constructor=oc;oc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose();this.children[1].geometry.dispose();this.children[1].material.dispose()};oc.prototype.update=" e="b.clone().sub(a);c.lookAt(e);d.lookAt(e)}c.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);d.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var" j,c="new" j;return c.copy(this.light.groundcolor).multiplyscalar(this.light.intensity);for(var q,c="new" ya;return function(){this.object.updatematrixworld(!0); c.getnormalmatrix(this.object.matrixworld);for(var q="f[l],p=q.normal;a.copy(g[q.a]).add(g[q.b]).add(g[q.c]).divideScalar(3).applyMatrix4(d);b.copy(p).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a);e.setXYZ(h,a.x,a.y,a.z);h+=1;e.setXYZ(h,b.x,b.y,b.z);h+=1}e.needsUpdate=!0;return" this}}();qc.prototype="Object.create(x.prototype);qc.prototype.constructor=" qc;qc.prototype.dispose="function(){var" function(){a.setfrommatrixposition(this.light.matrixworld);b.setfrommatrixposition(this.light.target.matrixworld);c.subvectors(b,a);var e.scale.z="c.length()}}();hd.prototype=Object.create(ga.prototype);hd.prototype.constructor=hd;hd.prototype.update=function(){function" a(a,g,h,l){d.set(g,h,l).unproject(e);a="c[a];if(void" 0!="=a)for(g=b.getAttribute("position"),h=0,l=a.length;h<l;h++)g.setXYZ(a[h],d.x,d.y,d.z)}var" b,c,d="new" q,e="new" ra;return function(){b="this.geometry;c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix);a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1"," -1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);b.getattribute("position").needsupdate="!0}}();rc.prototype=Object.create(ga.prototype);rc.prototype.constructor=rc;rc.prototype.update=function(){var" pa;return function(b){b&&b.isbox3?a.copy(b):a.setfromobject(b);if(!a.isempty()){b="a.min;var" md,ue;fb.prototype="Object.create(x.prototype);Fb.prototype.constructor=Fb;Fb.prototype.setDirection=function(){var" q,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();Fb.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};Fb.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};Nd.prototype=Object.create(ga.prototype);Nd.prototype.constructor=Nd;var Qd=new q,ye=new ve,ze=new ve,Ae=new ve;va.prototype=Object.create(ua.prototype);va.prototype.constructor=va;va.prototype.getPoint=function(a){var b=this.points,c=b.length;2>c&&console.log("duh, you need at least 2 points");a*=c-(this.closed?0:1);var d=Math.floor(a);a-=d;this.closed?d+=0<d?0:(math.floor(math.abs(d) 0="==this.type||"centripetal"===this.type||"chordal"===this.type){var" b.length)+1)*b.length:0="==a&&d===c-1&&(d=c-2,a=1);var" e,f,g;this.closed||0<d?e="b[(d-1)%c]:(Qd.subVectors(b[0],b[1]).add(b[0]),e=Qd);f=b[d%c];g=b[(d+1)%c];this.closed||d+2<c?b=b[(d+2)%c]:(Qd.subVectors(b[c-" 1],b[c-2]).add(b[c-1]),b="Qd);if(void" h="chordal" =="=this.type?.5:.25,c=Math.pow(e.distanceToSquared(f),h),d=Math.pow(f.distanceToSquared(g),h),h=Math.pow(g.distanceToSquared(b),h);1E-4">d&&(d=1);1E-4>c&&(c=d);1E-4>h&&(h=d);ye.initNonuniformCatmullRom(e.x,f.x,g.x,b.x,c,d,h);ze.initNonuniformCatmullRom(e.y,f.y,g.y,b.y,c,d,h);Ae.initNonuniformCatmullRom(e.z,f.z,g.z,b.z,c,d,h)}else"catmullrom"===this.type&&(c=void 0!==this.tension?this.tension:.5,ye.initCatmullRom(e.x,f.x,g.x,b.x,c),ze.initCatmullRom(e.y,f.y,g.y,b.y,c),Ae.initCatmullRom(e.z,f.z,g.z,b.z,c));return new q(ye.calc(a),ze.calc(a),Ae.calc(a))};id.prototype=Object.create(ua.prototype);id.prototype.constructor=id;id.prototype.getPoint=function(a){var b=this.v0,c=this.v1,d=this.v2,e=this.v3;return new q(Bb(a,b.x,c.x,d.x,e.x),Bb(a,b.y,c.y,d.y,e.y),Bb(a,b.z,c.z,d.z,e.z))};jd.prototype=Object.create(ua.prototype);jd.prototype.constructor=jd;jd.prototype.getPoint=function(a){var b=this.v0,c=this.v1,d=this.v2;return new q(Ab(a,b.x,c.x,d.x),Ab(a,b.y,c.y,d.y),Ab(a,b.z,c.z,d.z))};kd.prototype=Object.create(ua.prototype);kd.prototype.constructor=kd;kd.prototype.getPoint=function(a){if(1===a)return this.v2.clone();var b=new q;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b};Od.prototype=Object.create(Wa.prototype);Od.prototype.constructor=Od;ua.create=function(a,b){console.log("THREE.Curve.create() has been deprecated");a.prototype=Object.create(ua.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};Xe.prototype=Object.create(va.prototype);Ye.prototype=Object.create(va.prototype);we.prototype=Object.create(va.prototype);Object.assign(we.prototype,{initFromArray:function(a){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(a){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(a){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});fd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Object.assign(sc.prototype,{center:function(a){console.warn("THREE.Box2: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},size:function(a){console.warn("THREE.Box2: .size() has been renamed to .getSize().");return this.getSize(a)}});Object.assign(Pa.prototype,{center:function(a){console.warn("THREE.Box3: .center() has been renamed to .getCenter().");return this.getCenter(a)},empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)},size:function(a){console.warn("THREE.Box3: .size() has been renamed to .getSize().");return this.getSize(a)}});hb.prototype.center=function(a){console.warn("THREE.Line3: .center() has been renamed to .getCenter().");return this.getCenter(a)};N.random16=function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()};Object.assign(ya.prototype,{flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},applyToBuffer:function(a,b,c){console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function(a,b,c){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(S.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},flattenToArrayOffset:function(a,b){console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.");return this.toArray(a,b)},getPosition:function(){var a;return function(){void 0===a&&(a=new q);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(a,b,c){console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.");return this.applyToBufferAttribute(a)},applyToVector3Array:function(a,b,c){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(a,b,c,d,e,f){console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.");return this.makePerspective(a,b,d,c,e,f)}});la.prototype.isIntersectionLine=function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");return this.intersectsLine(a)};ca.prototype.multiplyVector3=function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)};Object.assign(cb.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});Object.assign(Db.prototype,{extrude:function(a){console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.");return new La(this,a)},makeGeometry:function(a){console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.");return new Yb(this,a)}});Object.assign(D.prototype,{fromAttribute:function(a,b,c){console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)}});Object.assign(q.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,a)},applyProjection:function(a){console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.");return this.applyMatrix4(a)},fromAttribute:function(a,b,c){console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)}});Object.assign(fa.prototype,{fromAttribute:function(a,b,c){console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().");return this.fromBufferAttribute(a,b,c)}});T.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")};Object.assign(x.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});Object.defineProperties(x.prototype,{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.defineProperties(Ec.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});Fa.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(ma.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(U.prototype,{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead.");return this.array.length}}});Object.assign(I.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(I.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.defineProperties(Kd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.");return this}}});Object.defineProperties(X.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new J}}});Object.defineProperties(Ca.prototype,{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(Ha.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");this.extensions.derivatives=a}}});Object.assign(Yd.prototype,{supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.");return this.capabilities.vertexTextures},supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});Object.defineProperties(Yd.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");this.shadowMap.cullFace=a}}});Object.defineProperties(Ke.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(a){a=1!==a;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+".");this.renderReverseSided=a}}});Object.defineProperties(Ya.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});hc.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var b=this;(new ge).load(a,function(a){b.setBuffer(a)});return this};le.prototype.getData=function(){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()};l.WebGLRenderTargetCube=Gb;l.WebGLRenderTarget=Ya;l.WebGLRenderer=Yd;l.ShaderLib=bb;l.UniformsLib=V;l.UniformsUtils=Ja;l.ShaderChunk=Z;l.FogExp2=Kb;l.Fog=Lb;l.Scene=mb;l.LensFlare=Zd;l.Sprite=Dc;l.LOD=Ec;l.SkinnedMesh=qd;l.Skeleton=od;l.Bone=pd;l.Mesh=Aa;l.LineSegments=ga;l.Line=Ua;l.Points=Mb;l.Group=Fc;l.VideoTexture=rd;l.DataTexture=eb;l.CompressedTexture=Nb;l.CubeTexture=Za;l.CanvasTexture=sd;l.DepthTexture=Gc;l.Texture=ea;l.CompressedTextureLoader=Re;l.DataTextureLoader=ae;l.CubeTextureLoader=be;l.TextureLoader=td;l.ObjectLoader=Se;l.MaterialLoader=Hd;l.BufferGeometryLoader=ce;l.DefaultLoadingManager=ta;l.LoadingManager=$d;l.JSONLoader=de;l.ImageLoader=Yc;l.FontLoader=Ue;l.FileLoader=sa;l.Loader=zb;l.Cache=ld;l.AudioLoader=ge;l.SpotLightShadow=vd;l.SpotLight=wd;l.PointLight=xd;l.RectAreaLight=he;l.HemisphereLight=ud;l.DirectionalLightShadow=yd;l.DirectionalLight=zd;l.AmbientLight=Ad;l.LightShadow=wb;l.Light=ma;l.StereoCamera=Ve;l.PerspectiveCamera=Fa;l.OrthographicCamera=Jb;l.CubeCamera=Id;l.Camera=ra;l.AudioListener=ie;l.PositionalAudio=ke;l.AudioContext=je;l.AudioAnalyser=le;l.Audio=hc;l.VectorKeyframeTrack=dc;l.StringKeyframeTrack=Ed;l.QuaternionKeyframeTrack=$c;l.NumberKeyframeTrack=ec;l.ColorKeyframeTrack=Gd;l.BooleanKeyframeTrack=Fd;l.PropertyMixer=Jd;l.PropertyBinding=ka;l.KeyframeTrack=yb;l.AnimationUtils=na;l.AnimationObjectGroup=me;l.AnimationMixer=cd;l.AnimationClip=qa;l.Uniform=Kd;l.InstancedBufferGeometry=Eb;l.BufferGeometry=I;l.GeometryIdCount=function(){return Vd++};l.Geometry=T;l.InterleavedBufferAttribute=oe;l.InstancedInterleavedBuffer=jc;l.InterleavedBuffer=ic;l.InstancedBufferAttribute=kc;l.Face3=ha;l.Object3D=x;l.Raycaster=pe;l.Layers=nd;l.EventDispatcher=pa;l.Clock=re;l.QuaternionLinearInterpolant=Dd;l.LinearInterpolant=Zc;l.DiscreteInterpolant=Cd;l.CubicInterpolant=Bd;l.Interpolant=xa;l.Triangle=za;l.Math=N;l.Spherical=se;l.Cylindrical=te;l.Plane=la;l.Frustum=tc;l.Sphere=Na;l.Ray=cb;l.Matrix4=S;l.Matrix3=ya;l.Box3=Pa;l.Box2=sc;l.Line3=hb;l.Euler=db;l.Vector4=fa;l.Vector3=q;l.Vector2=D;l.Quaternion=ca;l.Color=J;l.MorphBlendMesh=oa;l.ImmediateRenderObject=dd;l.VertexNormalsHelper=ed;l.SpotLightHelper=lc;l.SkeletonHelper=mc;l.PointLightHelper=nc;l.RectAreaLightHelper=oc;l.HemisphereLightHelper=pc;l.GridHelper=fd;l.PolarGridHelper=Ld;l.FaceNormalsHelper=gd;l.DirectionalLightHelper=qc;l.CameraHelper=hd;l.BoxHelper=rc;l.ArrowHelper=Fb;l.AxisHelper=Nd;l.CatmullRomCurve3=va;l.CubicBezierCurve3=id;l.QuadraticBezierCurve3=jd;l.LineCurve3=kd;l.ArcCurve=Od;l.EllipseCurve=Wa;l.SplineCurve=Cb;l.CubicBezierCurve=fc;l.QuadraticBezierCurve=gc;l.LineCurve=Ta;l.Shape=Db;l.Path=bd;l.ShapePath=ee;l.Font=fe;l.CurvePath=ad;l.Curve=ua;l.ShapeUtils=Ia;l.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new Fc,d=0,e=b.length;d</d?0:(math.floor(math.abs(d)></q;k++)for(var></c;b++){var></this._nactiveactions},_addinactiveaction:function(a,b,c){var></a?c:0,this._mixer.dispatchevent({type:"finished",></=a?(e=0,this._setendings(!0,0===this.repetitions,d)):this._setendings(0===this.repetitions,!0,d));if(b></a){b=this._interpolants;for(var></d){var></=d)for(d=0;d!==e;++d)a[b+d]=a[c+d]},_slerp:function(a,b,c,d,e){ca.slerpflat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var></=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return></g.y||a.y></c;b++)this.lineto(a[b].x,a[b].y)},moveto:function(a,></number.epsilon&&(c=d?0:b);!0!==this.aclockwise||d||(c=c===b?-b:c-b);b=this.astartangle+a*c;a=this.ax+this.xradius*math.cos(b);var></d;c++)b+=this.curves[c].getlength(),a.push(b);return></d[0].dot(g.crossvectors(e[0],e[a]))&&(c=-c),m=1;m<=a;m++)e[m].applymatrix4(h.makerotationaxis(d[m],c*m)),></a&&(a=1);b=this.getpoint(b);return></m)h=d-1;else{h=d;break}d=h;if(c[d]===f)return></g;d+=b)c.skinweights.push(new></z;d++)for(a=a.uvs[d],c.facevertexuvs[d][h]=></d;c+=2){var></f;++g){var></b[e]?d=e:c=e+1;d=b[c];e=b[c-1];if(void></d;)e=c+d></f&&(c=2,e=f);for(f=c-2;;){if(void></e;d++){var></f;e++){var></-number.epsilon?d<-number.epsilon&&(a=!0):math.sign(f)===math.sign(g)&&(a=!0),a?(d=-f,f=math.sqrt(h)):(d=e,e=f,f=math.sqrt(h></c;d++)this.addshape(a[d],b)};la.prototype.addshape=function(a,b){function></h.length;n++){p=h[n];l=-1;for(i=0;i<m.length;i++)if(t=m[i],q=p.x+":"+p.y+":"+t,void></h.length;c++)if(f=c+1,f%=h.length,f=e(a,b,h[c],h[f],!0),0<f.length)return!0;return!1}function></a?0<=e&&0<=b:0<=e||0<=b):0<e}c(a);b.foreach(c);var></=c?[g,h]:[g,m]}function></t||t<p)return[];k=m*l-k*n;if(0<k||k<p)return[]}if(0===k)return!f||0!==t&&t!==p?[a]:[];if(k===p)return!f||0!==t&&t!==p?[b]:[];></p){if(0></c;g++,m++)e[g]=e[m];c--;k=2*c}}return></c;l++)if(w=a[e[l]].x,y=a[e[l]].y,!(w===p&&y===n||w===q&&y===g||w===r&&y===a)&&(d=w-p,h=y-n,z=w-q,j=y-g,w-=r,y-=a,z=k*j-v*z,d=c*h-f*d,h=e*y-x*w,z></=g&&(g=0);h=g+1;c<=h&&(h=0);m=h+1;c<=m&&(m=0);var></ia.area(a))for(h=0;h<c;h++)e[h]=h;else></u;p++){var></l){var></d.near||r></k-1;g+=p)r=b.distancesqtosegment(m[g],m[g+1],l,h),r></d.near||r></g;g+=p)m.fromarray(u,3*g),k.fromarray(u,3*g+3),r=b.distancesqtosegment(m,k,l,h),r></d.near||r></f;e++)d[e].object.visible=!1}}}(),tojson:function(a){a=x.prototype.tojson.call(this,a);a.object.levels=[];for(var></c;b++){var></z;d+=3){if(v=w.getx(d),f=w.getx(d+1),x=w.getx(d+2),c=c(this,q,e,h,l,v,f,x))c.faceindex=math.floor(d></=f;f--)for(e=a[f],this.faces.splice(e,1),c=0,g=this.facevertexuvs.length;c<g;c++)this.facevertexuvs[c].splice(e,1);f=this.vertices.length-b.length;this.vertices=b;return></b.length;m++){b[m].closestpointtopoint(c,!0,d);var></a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return></=c?c:d,b)},intersectsbox:function(){var></d||d!==d)d=g;return></d||d!==d)d=f;0<=g?(e=(a.min.z-h.z)*g,g*=a.max.z-h.z):(e=(a.max.z-h.z)*g,g*=a.min.z-h.z);if(c></=d?(c=(a.min.x-h.x)*d,d*=a.max.x-h.x):(c=(a.max.x-h.x)*d,d*=a.min.x-h.x);0<=f?(e=(a.min.y-h.y)*f,f*=a.max.y-h.y):(e=(a.max.y-h.y)*f,f*=a.min.y-h.y);if(c></=a.radius},distancetoplane:function(a){var></=u?(h=1></n?(d=m*l-k,e=m*k-l,u=h*n,0<=d?e></f.normal.x?c.min.x:c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var></a)return!1;return!0},intersectsbox:function(){var></b},intersectsbox:function(a){return></a||0></f?void></d;c++)a.x=b.getx(c),a.y=b.gety(c),a.z=b.getz(c),a.applymatrix3(this),b.setxyz(c,a.x,a.y,a.z);return></=this.radius*this.radius},distancetopoint:function(a){return></g;f++)e=math.max(e,d.distancetosquared(b[f]));this.radius=math.sqrt(e);return></=b.radius*b.radius}}(),intersectsplane:function(a){var></this.min.z||a.min.z></this.min.y||a.min.y></=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getparameter:function(a,></this.min.z||a.z></this.min.y||a.y></c;b++)this.expandbypoint(a[b]);return></m;h++){var></this.alphatest&&(d.alphatest=this.alphatest);!0===this.premultipliedalpha&&(d.premultipliedalpha=this.premultipliedalpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframelinewidth&&(d.wireframelinewidth=this.wireframelinewidth);"round"!==this.wireframelinecap&&(d.wireframelinecap=this.wireframelinecap);"round"!==this.wireframelinejoin&&(d.wireframelinejoin=this.wireframelinejoin);d.skinning=this.skinning;d.morphtargets=this.morphtargets;></this.min.y||a.min.y></=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getparameter:function(a,b){return(b||new></this.min.y||a.y></d?6:0);break;case></a.length&&(c=wf[a],void></2></d&&--d;return></shadowmap_vertex></worldpos_vertex></project_vertex></begin_vertex></shadowmap_pars_vertex></shadowmask_pars_fragment></shadowmap_pars_fragment></lights_pars></bsdfs></packing></common></fog_vertex></shadowmap_vertex></worldpos_vertex></clipping_planes_vertex></logdepthbuf_vertex></project_vertex></begin_vertex></color_vertex></clipping_planes_pars_vertex></logdepthbuf_pars_vertex></shadowmap_pars_vertex></fog_pars_vertex></color_pars_vertex></common></fog_fragment></encodings_fragment></tonemapping_fragment></premultiplied_alpha_fragment></alphatest_fragment></color_fragment></map_particle_fragment></logdepthbuf_fragment></clipping_planes_fragment></clipping_planes_pars_fragment></logdepthbuf_pars_fragment></shadowmap_pars_fragment></fog_pars_fragment></map_particle_pars_fragment></color_pars_fragment></packing></common></logdepthbuf_vertex></project_vertex></skinning_vertex></morphtarget_vertex></displacementmap_vertex></begin_vertex></defaultnormal_vertex></skinnormal_vertex></skinbase_vertex></morphnormal_vertex></beginnormal_vertex></uv_vertex></logdepthbuf_pars_vertex></skinning_pars_vertex></morphtarget_pars_vertex></displacementmap_pars_vertex></uv_pars_vertex></normal_fragment></normal_flip></logdepthbuf_fragment></logdepthbuf_pars_fragment></normalmap_pars_fragment></bumpmap_pars_fragment></uv_pars_fragment></packing></fog_vertex></shadowmap_vertex></worldpos_vertex></clipping_planes_vertex></logdepthbuf_vertex></project_vertex></skinning_vertex></morphtarget_vertex></displacementmap_vertex></begin_vertex></defaultnormal_vertex></skinnormal_vertex></skinbase_vertex></morphnormal_vertex></beginnormal_vertex></color_vertex></uv2_vertex></uv_vertex></clipping_planes_pars_vertex></logdepthbuf_pars_vertex></specularmap_pars_fragment></shadowmap_pars_vertex></skinning_pars_vertex></morphtarget_pars_vertex></fog_pars_vertex></color_pars_vertex></displacementmap_pars_vertex></uv2_pars_vertex></uv_pars_vertex></common></fog_fragment></encodings_fragment></tonemapping_fragment></premultiplied_alpha_fragment></aomap_fragment></lights_template></lights_physical_fragment></emissivemap_fragment></normal_fragment></normal_flip></metalnessmap_fragment></roughnessmap_fragment></specularmap_fragment></alphatest_fragment></alphamap_fragment></color_fragment></map_fragment></logdepthbuf_fragment></clipping_planes_fragment></clipping_planes_pars_fragment></logdepthbuf_pars_fragment></metalnessmap_pars_fragment></roughnessmap_pars_fragment></normalmap_pars_fragment></bumpmap_pars_fragment></shadowmap_pars_fragment></lights_physical_pars_fragment></lights_pars></cube_uv_reflection_fragment></bsdfs></fog_pars_fragment></envmap_pars_fragment></emissivemap_pars_fragment></lightmap_pars_fragment></aomap_pars_fragment></alphamap_pars_fragment></map_pars_fragment></uv2_pars_fragment></uv_pars_fragment></color_pars_fragment></packing></common></fog_vertex></shadowmap_vertex></envmap_vertex></worldpos_vertex></clipping_planes_vertex></logdepthbuf_vertex></project_vertex></skinning_vertex></morphtarget_vertex></displacementmap_vertex></begin_vertex></defaultnormal_vertex></skinnormal_vertex></skinbase_vertex></morphnormal_vertex></beginnormal_vertex></color_vertex></uv2_vertex></uv_vertex></clipping_planes_pars_vertex></logdepthbuf_pars_vertex></shadowmap_pars_vertex></skinning_pars_vertex></morphtarget_pars_vertex></fog_pars_vertex></color_pars_vertex></envmap_pars_vertex></displacementmap_pars_vertex></uv2_pars_vertex></uv_pars_vertex></common></fog_fragment></encodings_fragment></tonemapping_fragment></premultiplied_alpha_fragment></envmap_fragment></aomap_fragment></lights_template></lights_phong_fragment></emissivemap_fragment></normal_fragment></normal_flip></specularmap_fragment></alphatest_fragment></alphamap_fragment></color_fragment></map_fragment></logdepthbuf_fragment></clipping_planes_fragment></clipping_planes_pars_fragment></logdepthbuf_pars_fragment></specularmap_pars_fragment></normalmap_pars_fragment></bumpmap_pars_fragment></shadowmap_pars_fragment></lights_phong_pars_fragment></lights_pars></bsdfs></fog_pars_fragment></gradientmap_pars_fragment></envmap_pars_fragment></emissivemap_pars_fragment></lightmap_pars_fragment></aomap_pars_fragment></alphamap_pars_fragment></map_pars_fragment></uv2_pars_fragment></uv_pars_fragment></color_pars_fragment></packing></common></fog_vertex></shadowmap_vertex></lights_lambert_vertex></envmap_vertex></worldpos_vertex></clipping_planes_vertex></logdepthbuf_vertex></project_vertex></skinning_vertex></morphtarget_vertex></begin_vertex></defaultnormal_vertex></skinnormal_vertex></skinbase_vertex></morphnormal_vertex></beginnormal_vertex></color_vertex></uv2_vertex></uv_vertex></clipping_planes_pars_vertex></logdepthbuf_pars_vertex></shadowmap_pars_vertex></skinning_pars_vertex></morphtarget_pars_vertex></fog_pars_vertex></color_pars_vertex></lights_pars></bsdfs></envmap_pars_vertex></uv2_pars_vertex></uv_pars_vertex></common></fog_fragment></encodings_fragment></tonemapping_fragment></premultiplied_alpha_fragment></envmap_fragment></normal_flip></aomap_fragment></lightmap_fragment></emissivemap_fragment></specularmap_fragment></alphatest_fragment></alphamap_fragment></color_fragment></map_fragment></logdepthbuf_fragment></clipping_planes_fragment></clipping_planes_pars_fragment></logdepthbuf_pars_fragment></specularmap_pars_fragment></shadowmask_pars_fragment></shadowmap_pars_fragment></fog_pars_fragment></lights_pars></bsdfs></envmap_pars_fragment></emissivemap_pars_fragment></lightmap_pars_fragment></aomap_pars_fragment></alphamap_pars_fragment></map_pars_fragment></uv2_pars_fragment></uv_pars_fragment></color_pars_fragment></packing></common></fog_vertex></envmap_vertex></clipping_planes_vertex></worldpos_vertex></logdepthbuf_vertex></project_vertex></skinning_vertex></morphtarget_vertex></begin_vertex></defaultnormal_vertex></skinnormal_vertex></morphnormal_vertex></beginnormal_vertex></skinbase_vertex></color_vertex></uv2_vertex></uv_vertex></clipping_planes_pars_vertex></logdepthbuf_pars_vertex></skinning_pars_vertex></morphtarget_pars_vertex></fog_pars_vertex></color_pars_vertex></envmap_pars_vertex></uv2_pars_vertex></uv_pars_vertex></common></fog_fragment></encodings_fragment></tonemapping_fragment></premultiplied_alpha_fragment></envmap_fragment></normal_flip></aomap_fragment></specularmap_fragment></alphatest_fragment></alphamap_fragment></color_fragment></map_fragment></logdepthbuf_fragment></clipping_planes_fragment></clipping_planes_pars_fragment></logdepthbuf_pars_fragment></specularmap_pars_fragment></fog_pars_fragment></envmap_pars_fragment></lightmap_pars_fragment></aomap_pars_fragment></alphamap_pars_fragment></map_pars_fragment></uv2_pars_fragment></uv_pars_fragment></color_pars_fragment></common></fog_vertex></clipping_planes_vertex></logdepthbuf_vertex></color_vertex></clipping_planes_pars_vertex></logdepthbuf_pars_vertex></fog_pars_vertex></color_pars_vertex></common></fog_fragment></encodings_fragment></tonemapping_fragment></premultiplied_alpha_fragment></color_fragment></logdepthbuf_fragment></clipping_planes_fragment></clipping_planes_pars_fragment></logdepthbuf_pars_fragment></fog_pars_fragment></color_pars_fragment></common></project_vertex></begin_vertex></common></common></clipping_planes_vertex></worldpos_vertex></project_vertex></skinning_vertex></morphtarget_vertex></begin_vertex></skinbase_vertex></clipping_planes_pars_vertex></skinning_pars_vertex></morphtarget_pars_vertex></common></clipping_planes_fragment></clipping_planes_pars_fragment></packing></common></clipping_planes_vertex></logdepthbuf_vertex></project_vertex></skinning_vertex></morphtarget_vertex></displacementmap_vertex></begin_vertex></skinbase_vertex></uv_vertex></clipping_planes_pars_vertex></logdepthbuf_pars_vertex></skinning_pars_vertex></morphtarget_pars_vertex></displacementmap_pars_vertex></uv_pars_vertex></common></logdepthbuf_fragment></alphatest_fragment></alphamap_fragment></map_fragment></clipping_planes_fragment></clipping_planes_pars_fragment></logdepthbuf_pars_fragment></alphamap_pars_fragment></map_pars_fragment></uv_pars_fragment></packing></common></project_vertex></begin_vertex></common></common></=></=></a.length;c++){var></d;c++)a.x=b.getx(c),a.y=b.gety(c),a.z=b.getz(c),></=n?1:-1,q=1-n*n;q></=g)return></k?(c=.5></a.y)switch(this.wrapt){case></a.x)switch(this.wraps){case></g.width||2048<g.height?g.todataurl("image></=b)return></=b)return></a?1:+a});void></this.bones.length;g++){var></e;d++)qe(a[d],b,c,!0)}}function></=></=d;p++){var></b.length;h+=3){f(b[h+0],c);f(b[h+1],d);f(b[h+2],g);var></=c;g++){var></f;d++)for(e=0;3></g;++a)for(d=l[a],e=d.start,f=d.count,></f;d++){var></=b&&b<=a.width-d&&0<=c&&c<=a.height-e&&b.readpixels(b,c,d,e,w(m),w(n),f):console.error("three.webglrenderer.readrendertargetpixels:></d;b++)a.teximage2d(c+></q;z++)x=d[z],1023!==b.format&&1022!==b.format?-1<c.getcompressedtextureformats().indexof(w)?c.compressedteximage2d(a.texture_cube_map_positive_x+r,z,w,x.width,x.height,></r.length&&n){for(var></parseint(d);c++)a+=e.replace(></"+c+"></z;o++){var></p;o++){var></d)return></arguments.length&&console.error("three.matrix4:>]]></content>
      
    </entry>
    
    
  
</search>
